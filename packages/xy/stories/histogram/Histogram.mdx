import { ArgTypes, Canvas, Meta, Source } from '@storybook/blocks'
import * as HistogramStories from './Histogram.stories'

# Histogram

<Meta of={HistogramStories} />

`Histogram` sets up a view for a scatter plot.

`Histogram` is an organizational component and it does not actually draw any visual elements. However, it manages data representations that can be visualized with other components, for example `HistogramPoints` or `HistogramCurve`.

<ArgTypes of={HistogramStories} />

## Data

Data should be prepared as an array of objects. Each object should contain a string identifier `'id'` and an array `data` with numeric values. The pseudocode below demonstrates the required format.

<Source
    language="javascript"
    code={`
  [
  {
   "id": "alpha",
   "data": [ 0.5, 2.5, -0.2, ...]
  },
  ...
  ]
  `}
/>

## Variants

Prop `variant` toggles between histograms displaying counts and densities.

<Canvas of={HistogramStories.Counts} />
<Canvas of={HistogramStories.Densities} />

## Breaks

All histograms are generated by first placing raw data values into discrete bins.
The number and size of those bins is controlled via prop `breaks`.

Prop `breaks` can be set to a integer, and in this case the value is taken as a suggested number of bins.
The examples below display the same datasets using low and high bin resolution.

<Canvas of={HistogramStories.LowResolution} />
<Canvas of={HistogramStories.HighResolution} />

Prop `breaks` can also accept a list of breakpoints.
Note that data outside of the defined breakpoints will be omitted.

## Axis scaling

When the vertical scale is determined automatically, prop `autoRescale` determines whether the automatic configuration is re-calculated when certain data series toggle in and out of view.

The examples below have automatic rescaling turned on (first example) and off (second example).
Click on the legend to toggle visibility of the data series and observe the scale on the vertical axis.

<Canvas of={HistogramStories.AutoRescaling} />
<Canvas of={HistogramStories.FixedScales} />
