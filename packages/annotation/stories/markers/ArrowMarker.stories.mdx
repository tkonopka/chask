import { ArgsTable, Canvas, Meta, Story } from '@storybook/addon-docs'
import { Chart, Line } from '@chsk/core'
import { ArrowMarker } from '../../src'

# ArrowMarker

<Meta title="Addons/Annotation/Markers/ArrowMarker" />
export const Template = args => <ArrowMarker {...args} />

`ArrowMarker` creates a definition for an arrow-head 'marker'. Markers are invisible themselves, but they can be used to decorate `Line` or `Path` components.

<ArgsTable of={ArrowMarker} />

`ArrowMarker` objects should be contained within an svg `def` tag.

## Variants

Prop `variant` determines the shape of the arrowhead.

<Canvas>
    <Story name="triangle">
        <Chart size={[200, 120]} padding={[20, 20, 20, 20]}>
            <defs>
                <ArrowMarker id="triangle" variant="Triangle" style={{ fill: '#222222' }} />
            </defs>
            <Line
                x1={0}
                y1={60}
                x2={140}
                y2={20}
                markerEnd={'triangle'}
                style={{ strokeWidth: 3 }}
            />
        </Chart>
    </Story>
    <Story name="winged">
        <Chart size={[200, 120]} padding={[20, 20, 20, 20]}>
            <defs>
                <ArrowMarker id="winged" variant="Winged" style={{ fill: '#222222' }} />
            </defs>
            <Line x1={0} y1={60} x2={140} y2={20} markerEnd={'winged'} style={{ strokeWidth: 3 }} />
        </Chart>
    </Story>
    <Story name="chevron">
        <Chart size={[200, 120]} padding={[20, 20, 20, 20]}>
            <defs>
                <ArrowMarker
                    id="chevron"
                    variant="Chevron"
                    style={{ stroke: '#222222', strokeWidth: 2, fillOpacity: 0 }}
                />
            </defs>
            <Line
                x1={0}
                y1={60}
                x2={140}
                y2={20}
                markerEnd={'chevron'}
                style={{ strokeWidth: 3 }}
            />
        </Chart>
    </Story>
</Canvas>

Note that for the arrow shapes to appear correctly, it may be necessary to set styles in the `ArrowMarker` component.
In particular, the `chevron` arrowhead requires `fillOpacity: 0`.

## Arrow size and width

The shape of the arrowheads can further be adjusted using props `size` and `width`. The overall weight is also scaled by the stroke width of the line.

<Canvas>
    <Story name="narrow">
        <Chart size={[200, 120]} padding={[20, 20, 20, 20]}>
            <defs>
                <ArrowMarker
                    id="narrow"
                    variant="Triangle"
                    width={0.7}
                    style={{ fill: '#222222' }}
                />
            </defs>
            <Line x1={0} y1={60} x2={140} y2={20} markerEnd={'narrow'} style={{ strokeWidth: 3 }} />
        </Chart>
    </Story>
    <Story name="large">
        <Chart size={[200, 120]} padding={[20, 20, 20, 20]}>
            <defs>
                <ArrowMarker id="large" variant="Winged" size={16} style={{ fill: '#222222' }} />
            </defs>
            <Line x1={0} y1={60} x2={140} y2={20} markerEnd={'large'} style={{ strokeWidth: 3 }} />
        </Chart>
    </Story>
    <Story name="double sided">
        <Chart size={[200, 120]} padding={[20, 20, 20, 20]}>
            <defs>
                <ArrowMarker
                    id="color"
                    variant="Chevron"
                    size={14}
                    width={1}
                    style={{ stroke: '#2222dd', strokeWidth: 2, fillOpacity: 0 }}
                />
            </defs>
            <Line
                x1={0}
                y1={60}
                x2={140}
                y2={20}
                markerStart={'color'}
                markerEnd={'color'}
                style={{ strokeWidth: 2, stroke: '#2222dd' }}
            />
        </Chart>
    </Story>
</Canvas>
