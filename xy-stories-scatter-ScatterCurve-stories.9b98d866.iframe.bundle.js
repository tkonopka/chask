"use strict";(self.webpackChunkchsk=self.webpackChunkchsk||[]).push([[4241],{"./packages/xy/stories/scatter/ScatterCurve.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{AveragedDownsampledIndex0:()=>AveragedDownsampledIndex0,AveragedDownsampledIndex1:()=>AveragedDownsampledIndex1,DownsampleIndex0:()=>DownsampleIndex0,DownsampleIndex1:()=>DownsampleIndex1,HistoricAverage:()=>HistoricAverage,LinearCurve:()=>LinearCurve,MultipleSeries:()=>MultipleSeries,StepCurve:()=>StepCurve,SymmetricAverage:()=>SymmetricAverage,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var _LinearCurve$paramete,_LinearCurve$paramete2,_LinearCurve$paramete3,_StepCurve$parameters,_StepCurve$parameters2,_StepCurve$parameters3,_MultipleSeries$param,_MultipleSeries$param2,_MultipleSeries$param3,_DownsampleIndex0$par,_DownsampleIndex0$par2,_DownsampleIndex0$par3,_DownsampleIndex1$par,_DownsampleIndex1$par2,_DownsampleIndex1$par3,_HistoricAverage$para,_HistoricAverage$para2,_HistoricAverage$para3,_SymmetricAverage$par,_SymmetricAverage$par2,_SymmetricAverage$par3,_AveragedDownsampledI,_AveragedDownsampledI2,_AveragedDownsampledI3,_AveragedDownsampledI4,_AveragedDownsampledI5,_AveragedDownsampledI6,_chsk_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/core/dist/chsk-core.es.js"),_src__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/xy/src/scatter/ScatterCurve.tsx"),_src__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/xy/src/scatter/Scatter.tsx"),_decorators__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/xy/stories/scatter/decorators.tsx"),_dataPolynomials_json__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/xy/stories/scatter/dataPolynomials.json"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}const __WEBPACK_DEFAULT_EXPORT__={title:"Addons/XY/Scatter/ScatterCurve",component:_src__WEBPACK_IMPORTED_MODULE_1__.n};var LinearCurve={name:"linear curve",args:{ids:["quadratic"],curve:"Linear"},decorators:[_decorators__WEBPACK_IMPORTED_MODULE_2__.WC]},StepCurve={name:"step curve",args:{ids:["quadratic"],curve:"Step"},decorators:[_decorators__WEBPACK_IMPORTED_MODULE_2__.WC]},MultipleSeries={render:function render(){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.kL2,{size:[400,300],padding:[40,40,60,60],style:{display:"inline-block"},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_src__WEBPACK_IMPORTED_MODULE_4__.b,{data:_dataPolynomials_json__WEBPACK_IMPORTED_MODULE_5__,x:"x",y:"y",scaleX:{variant:"linear",domain:[0,"auto"]},scaleY:{variant:"linear",domain:[0,"auto"]},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.RDh,{variant:"bottom",label:"x (a.u.)"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.RDh,{variant:"left",label:"y (a.u.)"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_src__WEBPACK_IMPORTED_MODULE_1__.n,{ids:["linear"],curve:"Step",style:{strokeWidth:3}}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_src__WEBPACK_IMPORTED_MODULE_1__.n,{ids:["quadratic"],curve:"Linear",style:{strokeDasharray:"6 6",strokeWidth:3}})]})})},name:"multiple series"},DownsampleIndex0={name:"downsample, index 0",args:{ids:["A"],curve:"Natural",downsampleFactor:.5,downsampleIndex:0},decorators:[_decorators__WEBPACK_IMPORTED_MODULE_2__.qb]},DownsampleIndex1={name:"downsample, index 1",args:{ids:["A"],curve:"Natural",downsampleFactor:.5,downsampleIndex:1},decorators:[_decorators__WEBPACK_IMPORTED_MODULE_2__.qb]},HistoricAverage={name:"historic average",args:{ids:["A"],curve:"Natural",convolutionMask:[1,1,1],convolutionOffset:0},decorators:[_decorators__WEBPACK_IMPORTED_MODULE_2__.qb]},SymmetricAverage={name:"symmetric average",args:{ids:["A"],curve:"Natural",convolutionMask:[1,1,1],convolutionOffset:-1},decorators:[_decorators__WEBPACK_IMPORTED_MODULE_2__.qb]},AveragedDownsampledIndex0={name:"averaged, downsampled, index 0",args:{ids:["A"],curve:"Natural",convolutionMask:[1,1,1],convolutionOffset:-1,downsampleFactor:.5,downsampleIndex:0},decorators:[_decorators__WEBPACK_IMPORTED_MODULE_2__.qb]},AveragedDownsampledIndex1={name:"averaged, downsampled, index 1",args:{ids:["A"],curve:"Natural",convolutionMask:[1,1,1],convolutionOffset:-1,downsampleFactor:.5,downsampleIndex:1},decorators:[_decorators__WEBPACK_IMPORTED_MODULE_2__.qb]};LinearCurve.parameters=_extends({},LinearCurve.parameters,{docs:_extends({},null==(_LinearCurve$paramete=LinearCurve.parameters)?void 0:_LinearCurve$paramete.docs,{source:_extends({originalSource:"{\n  name: 'linear curve',\n  args: {\n    ids: ['quadratic'],\n    curve: 'Linear'\n  },\n  decorators: [ChartScatterDecorator]\n}"},null==(_LinearCurve$paramete2=LinearCurve.parameters)||null==(_LinearCurve$paramete3=_LinearCurve$paramete2.docs)?void 0:_LinearCurve$paramete3.source)})}),StepCurve.parameters=_extends({},StepCurve.parameters,{docs:_extends({},null==(_StepCurve$parameters=StepCurve.parameters)?void 0:_StepCurve$parameters.docs,{source:_extends({originalSource:"{\n  name: 'step curve',\n  args: {\n    ids: ['quadratic'],\n    curve: 'Step'\n  },\n  decorators: [ChartScatterDecorator]\n}"},null==(_StepCurve$parameters2=StepCurve.parameters)||null==(_StepCurve$parameters3=_StepCurve$parameters2.docs)?void 0:_StepCurve$parameters3.source)})}),MultipleSeries.parameters=_extends({},MultipleSeries.parameters,{docs:_extends({},null==(_MultipleSeries$param=MultipleSeries.parameters)?void 0:_MultipleSeries$param.docs,{source:_extends({originalSource:"{\n  render: () => <Chart size={[400, 300]} padding={[40, 40, 60, 60]} style={{\n    display: 'inline-block'\n  }}>\n            <Scatter data={data} x={'x'} y={'y'} scaleX={{\n      variant: 'linear',\n      domain: [0, 'auto']\n    }} scaleY={{\n      variant: 'linear',\n      domain: [0, 'auto']\n    }}>\n                <Axis variant={'bottom'} label={'x (a.u.)'} />\n                <Axis variant={'left'} label={'y (a.u.)'} />\n                <ScatterCurve ids={['linear']} curve=\"Step\" style={{\n        strokeWidth: 3\n      }} />\n                <ScatterCurve ids={['quadratic']} curve=\"Linear\" style={{\n        strokeDasharray: '6 6',\n        strokeWidth: 3\n      }} />\n            </Scatter>\n        </Chart>,\n  name: 'multiple series'\n}"},null==(_MultipleSeries$param2=MultipleSeries.parameters)||null==(_MultipleSeries$param3=_MultipleSeries$param2.docs)?void 0:_MultipleSeries$param3.source)})}),DownsampleIndex0.parameters=_extends({},DownsampleIndex0.parameters,{docs:_extends({},null==(_DownsampleIndex0$par=DownsampleIndex0.parameters)?void 0:_DownsampleIndex0$par.docs,{source:_extends({originalSource:"{\n  name: 'downsample, index 0',\n  args: {\n    ids: ['A'],\n    curve: 'Natural',\n    downsampleFactor: 0.5,\n    downsampleIndex: 0\n  },\n  decorators: [ChartWithNoisyPointsDecorator]\n}"},null==(_DownsampleIndex0$par2=DownsampleIndex0.parameters)||null==(_DownsampleIndex0$par3=_DownsampleIndex0$par2.docs)?void 0:_DownsampleIndex0$par3.source)})}),DownsampleIndex1.parameters=_extends({},DownsampleIndex1.parameters,{docs:_extends({},null==(_DownsampleIndex1$par=DownsampleIndex1.parameters)?void 0:_DownsampleIndex1$par.docs,{source:_extends({originalSource:"{\n  name: 'downsample, index 1',\n  args: {\n    ids: ['A'],\n    curve: 'Natural',\n    downsampleFactor: 0.5,\n    downsampleIndex: 1\n  },\n  decorators: [ChartWithNoisyPointsDecorator]\n}"},null==(_DownsampleIndex1$par2=DownsampleIndex1.parameters)||null==(_DownsampleIndex1$par3=_DownsampleIndex1$par2.docs)?void 0:_DownsampleIndex1$par3.source)})}),HistoricAverage.parameters=_extends({},HistoricAverage.parameters,{docs:_extends({},null==(_HistoricAverage$para=HistoricAverage.parameters)?void 0:_HistoricAverage$para.docs,{source:_extends({originalSource:"{\n  name: 'historic average',\n  args: {\n    ids: ['A'],\n    curve: 'Natural',\n    convolutionMask: [1, 1, 1],\n    convolutionOffset: 0\n  },\n  decorators: [ChartWithNoisyPointsDecorator]\n}"},null==(_HistoricAverage$para2=HistoricAverage.parameters)||null==(_HistoricAverage$para3=_HistoricAverage$para2.docs)?void 0:_HistoricAverage$para3.source)})}),SymmetricAverage.parameters=_extends({},SymmetricAverage.parameters,{docs:_extends({},null==(_SymmetricAverage$par=SymmetricAverage.parameters)?void 0:_SymmetricAverage$par.docs,{source:_extends({originalSource:"{\n  name: 'symmetric average',\n  args: {\n    ids: ['A'],\n    curve: 'Natural',\n    convolutionMask: [1, 1, 1],\n    convolutionOffset: -1\n  },\n  decorators: [ChartWithNoisyPointsDecorator]\n}"},null==(_SymmetricAverage$par2=SymmetricAverage.parameters)||null==(_SymmetricAverage$par3=_SymmetricAverage$par2.docs)?void 0:_SymmetricAverage$par3.source)})}),AveragedDownsampledIndex0.parameters=_extends({},AveragedDownsampledIndex0.parameters,{docs:_extends({},null==(_AveragedDownsampledI=AveragedDownsampledIndex0.parameters)?void 0:_AveragedDownsampledI.docs,{source:_extends({originalSource:"{\n  name: 'averaged, downsampled, index 0',\n  args: {\n    ids: ['A'],\n    curve: 'Natural',\n    convolutionMask: [1, 1, 1],\n    convolutionOffset: -1,\n    downsampleFactor: 0.5,\n    downsampleIndex: 0\n  },\n  decorators: [ChartWithNoisyPointsDecorator]\n}"},null==(_AveragedDownsampledI2=AveragedDownsampledIndex0.parameters)||null==(_AveragedDownsampledI3=_AveragedDownsampledI2.docs)?void 0:_AveragedDownsampledI3.source)})}),AveragedDownsampledIndex1.parameters=_extends({},AveragedDownsampledIndex1.parameters,{docs:_extends({},null==(_AveragedDownsampledI4=AveragedDownsampledIndex1.parameters)?void 0:_AveragedDownsampledI4.docs,{source:_extends({originalSource:"{\n  name: 'averaged, downsampled, index 1',\n  args: {\n    ids: ['A'],\n    curve: 'Natural',\n    convolutionMask: [1, 1, 1],\n    convolutionOffset: -1,\n    downsampleFactor: 0.5,\n    downsampleIndex: 1\n  },\n  decorators: [ChartWithNoisyPointsDecorator]\n}"},null==(_AveragedDownsampledI5=AveragedDownsampledIndex1.parameters)||null==(_AveragedDownsampledI6=_AveragedDownsampledI5.docs)?void 0:_AveragedDownsampledI6.source)})});var __namedExportsOrder=["LinearCurve","StepCurve","MultipleSeries","DownsampleIndex0","DownsampleIndex1","HistoricAverage","SymmetricAverage","AveragedDownsampledIndex0","AveragedDownsampledIndex1"]},"./node_modules/framer-motion/dist/es/animation/animate.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{j:()=>animate});var _index_mjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/framer-motion/dist/es/animation/index.mjs"),_value_index_mjs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/framer-motion/dist/es/value/index.mjs"),_value_utils_is_motion_value_mjs__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/framer-motion/dist/es/value/utils/is-motion-value.mjs");function animate(from,to,transition={}){const value=(0,_value_utils_is_motion_value_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(from)?from:(0,_value_index_mjs__WEBPACK_IMPORTED_MODULE_1__.B)(from);return value.start((0,_index_mjs__WEBPACK_IMPORTED_MODULE_2__.Z)("",value,to,transition)),{stop:()=>value.stop(),isAnimating:()=>value.isAnimating()}}},"./node_modules/framer-motion/dist/es/components/AnimatePresence/index.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{M:()=>AnimatePresence});var react=__webpack_require__("./node_modules/react/index.js"),process=__webpack_require__("./node_modules/framer-motion/dist/es/utils/process.mjs"),frameloop=__webpack_require__("./node_modules/framer-motion/dist/es/frameloop/index.mjs"),use_isomorphic_effect=__webpack_require__("./node_modules/framer-motion/dist/es/utils/use-isomorphic-effect.mjs");function useIsMounted(){const isMounted=(0,react.useRef)(!1);return(0,use_isomorphic_effect.L)((()=>(isMounted.current=!0,()=>{isMounted.current=!1})),[]),isMounted}var PresenceContext=__webpack_require__("./node_modules/framer-motion/dist/es/context/PresenceContext.mjs"),use_constant=__webpack_require__("./node_modules/framer-motion/dist/es/utils/use-constant.mjs");class PopChildMeasure extends react.Component{getSnapshotBeforeUpdate(prevProps){const element=this.props.childRef.current;if(element&&prevProps.isPresent&&!this.props.isPresent){const size=this.props.sizeRef.current;size.height=element.offsetHeight||0,size.width=element.offsetWidth||0,size.top=element.offsetTop,size.left=element.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function PopChild({children,isPresent}){const id=(0,react.useId)(),ref=(0,react.useRef)(null),size=(0,react.useRef)({width:0,height:0,top:0,left:0});return(0,react.useInsertionEffect)((()=>{const{width,height,top,left}=size.current;if(isPresent||!ref.current||!width||!height)return;ref.current.dataset.motionPopId=id;const style=document.createElement("style");return document.head.appendChild(style),style.sheet&&style.sheet.insertRule(`\n          [data-motion-pop-id="${id}"] {\n            position: absolute !important;\n            width: ${width}px !important;\n            height: ${height}px !important;\n            top: ${top}px !important;\n            left: ${left}px !important;\n          }\n        `),()=>{document.head.removeChild(style)}}),[isPresent]),react.createElement(PopChildMeasure,{isPresent,childRef:ref,sizeRef:size},react.cloneElement(children,{ref}))}const PresenceChild=({children,initial,isPresent,onExitComplete,custom,presenceAffectsLayout,mode})=>{const presenceChildren=(0,use_constant.h)(newChildrenMap),id=(0,react.useId)(),context=(0,react.useMemo)((()=>({id,initial,isPresent,custom,onExitComplete:childId=>{presenceChildren.set(childId,!0);for(const isComplete of presenceChildren.values())if(!isComplete)return;onExitComplete&&onExitComplete()},register:childId=>(presenceChildren.set(childId,!1),()=>presenceChildren.delete(childId))})),presenceAffectsLayout?void 0:[isPresent]);return(0,react.useMemo)((()=>{presenceChildren.forEach(((_,key)=>presenceChildren.set(key,!1)))}),[isPresent]),react.useEffect((()=>{!isPresent&&!presenceChildren.size&&onExitComplete&&onExitComplete()}),[isPresent]),"popLayout"===mode&&(children=react.createElement(PopChild,{isPresent},children)),react.createElement(PresenceContext.O.Provider,{value:context},children)};function newChildrenMap(){return new Map}var LayoutGroupContext=__webpack_require__("./node_modules/framer-motion/dist/es/context/LayoutGroupContext.mjs"),use_unmount_effect=__webpack_require__("./node_modules/framer-motion/dist/es/utils/use-unmount-effect.mjs"),warn_once=__webpack_require__("./node_modules/framer-motion/dist/es/utils/warn-once.mjs");const getChildKey=child=>child.key||"";const AnimatePresence=({children,custom,initial=!0,onExitComplete,exitBeforeEnter,presenceAffectsLayout=!0,mode="sync"})=>{exitBeforeEnter&&(mode="wait",(0,warn_once.O)(!1,"Replace exitBeforeEnter with mode='wait'"));let[forceRender]=function useForceUpdate(){const isMounted=useIsMounted(),[forcedRenderCount,setForcedRenderCount]=(0,react.useState)(0),forceRender=(0,react.useCallback)((()=>{isMounted.current&&setForcedRenderCount(forcedRenderCount+1)}),[forcedRenderCount]);return[(0,react.useCallback)((()=>frameloop.Z_.postRender(forceRender)),[forceRender]),forcedRenderCount]}();const forceRenderLayoutGroup=(0,react.useContext)(LayoutGroupContext.p).forceRender;forceRenderLayoutGroup&&(forceRender=forceRenderLayoutGroup);const isMounted=useIsMounted(),filteredChildren=function onlyElements(children){const filtered=[];return react.Children.forEach(children,(child=>{(0,react.isValidElement)(child)&&filtered.push(child)})),filtered}(children);let childrenToRender=filteredChildren;const exiting=new Set,presentChildren=(0,react.useRef)(childrenToRender),allChildren=(0,react.useRef)(new Map).current,isInitialRender=(0,react.useRef)(!0);if((0,use_isomorphic_effect.L)((()=>{isInitialRender.current=!1,function updateChildLookup(children,allChildren){children.forEach((child=>{const key=getChildKey(child);allChildren.set(key,child)}))}(filteredChildren,allChildren),presentChildren.current=childrenToRender})),(0,use_unmount_effect.z)((()=>{isInitialRender.current=!0,allChildren.clear(),exiting.clear()})),isInitialRender.current)return react.createElement(react.Fragment,null,childrenToRender.map((child=>react.createElement(PresenceChild,{key:getChildKey(child),isPresent:!0,initial:!!initial&&void 0,presenceAffectsLayout,mode},child))));childrenToRender=[...childrenToRender];const presentKeys=presentChildren.current.map(getChildKey),targetKeys=filteredChildren.map(getChildKey),numPresent=presentKeys.length;for(let i=0;i<numPresent;i++){const key=presentKeys[i];-1===targetKeys.indexOf(key)&&exiting.add(key)}return"wait"===mode&&exiting.size&&(childrenToRender=[]),exiting.forEach((key=>{if(-1!==targetKeys.indexOf(key))return;const child=allChildren.get(key);if(!child)return;const insertionIndex=presentKeys.indexOf(key);childrenToRender.splice(insertionIndex,0,react.createElement(PresenceChild,{key:getChildKey(child),isPresent:!1,onExitComplete:()=>{allChildren.delete(key),exiting.delete(key);const removeIndex=presentChildren.current.findIndex((presentChild=>presentChild.key===key));if(presentChildren.current.splice(removeIndex,1),!exiting.size){if(presentChildren.current=filteredChildren,!1===isMounted.current)return;forceRender(),onExitComplete&&onExitComplete()}},custom,presenceAffectsLayout,mode},child))})),childrenToRender=childrenToRender.map((child=>{const key=child.key;return exiting.has(key)?child:react.createElement(PresenceChild,{key:getChildKey(child),isPresent:!0,presenceAffectsLayout,mode},child)})),"production"!==process.O&&"wait"===mode&&childrenToRender.length>1&&console.warn('You\'re attempting to animate multiple children within AnimatePresence, but its mode is set to "wait". This will lead to odd visual behaviour.'),react.createElement(react.Fragment,null,exiting.size?childrenToRender:childrenToRender.map((child=>(0,react.cloneElement)(child))))}}}]);