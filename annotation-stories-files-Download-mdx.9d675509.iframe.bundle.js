"use strict";(self.webpackChunkchsk=self.webpackChunkchsk||[]).push([[5088,7599],{"./node_modules/@mdx-js/react/lib/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{NF:()=>withMDXComponents,Zo:()=>MDXProvider,ah:()=>useMDXComponents,pC:()=>MDXContext});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");const MDXContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext({});function withMDXComponents(Component){return function boundMDXComponent(props){const allComponents=useMDXComponents(props.components);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(Component,{...props,allComponents})}}function useMDXComponents(components){const contextComponents=react__WEBPACK_IMPORTED_MODULE_0__.useContext(MDXContext);return react__WEBPACK_IMPORTED_MODULE_0__.useMemo((()=>"function"==typeof components?components(contextComponents):{...contextComponents,...components}),[contextComponents,components])}const emptyObject={};function MDXProvider({components,children,disableParentContext}){let allComponents;return allComponents=disableParentContext?"function"==typeof components?components({}):components||emptyObject:useMDXComponents(components),react__WEBPACK_IMPORTED_MODULE_0__.createElement(MDXContext.Provider,{value:allComponents},children)}},"./packages/annotation/stories/files/Download.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{DataDownload:()=>Download_stories_DataDownload,ImageDownload:()=>Download_stories_ImageDownload,__namedExportsOrder:()=>__namedExportsOrder,default:()=>Download_stories});var chsk_core_es=__webpack_require__("./packages/core/dist/chsk-core.es.js"),chsk_band_es=__webpack_require__("./packages/band/dist/chsk-band.es.js");function _createForOfIteratorHelperLoose(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(it)return(it=it.call(o)).next.bind(it);if(Array.isArray(o)||(it=function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0;return function(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var roundPxDecimalPlaces=function roundPxDecimalPlaces(s,n,preservePx){if(void 0===preservePx&&(preservePx=!1),s.includes(" "))return s.split(" ").map((function(token){return roundPxDecimalPlaces(token,n,preservePx)})).join(" ");var px=s.includes("px")&&preservePx,v=Number(s.replace("px","").replace(";","")),result=isFinite(v)?String((0,chsk_core_es.DJC)(v,n)):s;return px?result+"px":result},rgb2hex=function rgb2hex(rgb){if(!rgb)return"undefined";var prefix=rgb.startsWith("rgb(")?"rgb":rgb.startsWith("rgba(")?"rgba":void 0;if(!prefix)return rgb;var sep=rgb.includes(",")?",":" ",parts=contentInParentheses(rgb,prefix).replace("/",sep).split(sep).filter(Boolean).map((function(s){return s.trim()})),n="rgba"===prefix&&"1"===parts[3]?3:parts.length;return"#"+parts.slice(0,n).map((function(s){return function rgbValue2hex(x){var v;return v=x.includes("%")?255*Number(x.replace("%",""))/100:x.includes(".")?255*Number(x):Number(x),((v=Math.max(0,Math.min(255,Math.round(v))))<16?"0":"")+v.toString(16)}(s)})).join("")},contentInParentheses=function contentInParentheses(s,prefix){return String(s.replace(prefix+"(","").split(")")[0])},cleanTransform=function cleanTransform(x,n){if(void 0===x)return x;var xWoPrefix=x.replace("transform:","").trim();if("none"===xWoPrefix)return null;var translateXY=["0","0"],scaleXY=["1","1"],rotateDeg=["0deg"],other=[];xWoPrefix.split(" ").map((function(s){s.startsWith("translateX")?translateXY[0]=contentInParentheses(s,"translateX"):s.startsWith("translateY")?translateXY[1]=contentInParentheses(s,"translateY"):s.startsWith("scaleX")?scaleXY[0]=contentInParentheses(s,"scaleX"):s.startsWith("scaleY")?scaleXY[1]=contentInParentheses(s,"scaleY"):s.startsWith("rotate(")?rotateDeg[0]=contentInParentheses(s,"rotate"):other.push(s)}));var translate="";"0"===translateXY[0]&&"0"===translateXY[1]||(translate="translate("+roundPxDecimalPlaces(translateXY[0],n,!1)+","+roundPxDecimalPlaces(translateXY[1],n,!1)+")");var scale="";"1"===scaleXY[0]&&"1"===scaleXY[1]||(scale="scale("+roundPxDecimalPlaces(scaleXY[0],n)+","+roundPxDecimalPlaces(scaleXY[1],n)+")");var rotate="";return"0deg"!==rotateDeg[0]&&(rotate="rotate("+roundPxDecimalPlaces(rotateDeg[0].replace("deg",""),n)+")"),translate+scale+rotate+other.join(" ")},cleanStyle=function cleanStyle(raw,n){var parts=raw.split(";").map((function(part){return part.trim()})),transform=parts.filter((function(part){return part.startsWith("transform:")}))[0];return{style:parts.filter((function(part){return!part.startsWith("transform")})).map((function(part){if(part.startsWith("fill:")||part.startsWith("stroke:")){var _part$split=part.split(":",2),k=_part$split[0],v=_part$split[1];return k+": "+rgb2hex(null==v?void 0:v.trim())}return part})).filter(Boolean).join("; "),transform:cleanTransform(transform,n)}},scanSvg=function scanSvg(element,config,content){var result=null!=content?content:{};if(!element.attributes)return result;var role=element.getAttribute("role");if(null!==role&&config.skipRoles.indexOf(role)>=0)return result;var nodeName=element.nodeName;nodeName in result||(result[nodeName]=new Set);for(var _step,_iterator=_createForOfIteratorHelperLoose(element.attributes);!(_step=_iterator()).done;){var attr=_step.value;"class"===attr.name&&attr.value.split(" ").forEach((function(className){var _result$nodeName;return null==(_result$nodeName=result[nodeName])?void 0:_result$nodeName.add(className)}))}return element.hasChildNodes()&&element.childNodes.forEach((function(child){return scanSvg(child,config,result)})),result},shakeStyles=function shakeStyles(styles,content){return styles?styles.split("\n").map((function(line){var _tokens$,_tokens$2,tokens=line.split(" ");if(null!=(_tokens$=tokens[0])&&_tokens$.startsWith("#")){var selectorClasses=null==(_tokens$2=tokens[1])?void 0:_tokens$2.split(".");if(selectorClasses){var selector=selectorClasses[0];if(selector&&selector in content){var classNames=null==selectorClasses?void 0:selectorClasses.slice(1),overlaps=null==classNames?void 0:classNames.every((function(className){var _content$selector;return null==(_content$selector=content[selector])?void 0:_content$selector.has(className)}));if(null==classNames||!classNames.length||overlaps)return line}}}})).filter(Boolean).join("\n"):""},changeAncestor=function changeAncestor(styles,removeAncestor,addAncestor){return styles?addAncestor||removeAncestor?styles.split("\n").map((function(line){return removeAncestor?line.split(" ").splice(1).join(" "):line})).map((function(line){return(addAncestor?addAncestor+" ":"")+line})).join("\n"):styles:""};try{roundPxDecimalPlaces.displayName="roundPxDecimalPlaces",roundPxDecimalPlaces.__docgenInfo={description:"round a pixel dimensions to a fixed number of decimal places, e.g. '2px 2.1234px' -> '2 2.123'",displayName:"roundPxDecimalPlaces",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/annotation/src/files/helpers.tsx#roundPxDecimalPlaces"]={docgenInfo:roundPxDecimalPlaces.__docgenInfo,name:"roundPxDecimalPlaces",path:"packages/annotation/src/files/helpers.tsx#roundPxDecimalPlaces"})}catch(__react_docgen_typescript_loader_error){}try{rgb2hex.displayName="rgb2hex",rgb2hex.__docgenInfo={description:"convert an rgb(r g b) or rgb(r g b a) string into hex",displayName:"rgb2hex",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/annotation/src/files/helpers.tsx#rgb2hex"]={docgenInfo:rgb2hex.__docgenInfo,name:"rgb2hex",path:"packages/annotation/src/files/helpers.tsx#rgb2hex"})}catch(__react_docgen_typescript_loader_error){}try{scanSvg.displayName="scanSvg",scanSvg.__docgenInfo={description:"scan an svg element to summarize components and class names",displayName:"scanSvg",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/annotation/src/files/helpers.tsx#scanSvg"]={docgenInfo:scanSvg.__docgenInfo,name:"scanSvg",path:"packages/annotation/src/files/helpers.tsx#scanSvg"})}catch(__react_docgen_typescript_loader_error){}try{shakeStyles.displayName="shakeStyles",shakeStyles.__docgenInfo={description:"simplify a set of style definitions so that they contain only entries that are relevant in some content",displayName:"shakeStyles",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/annotation/src/files/helpers.tsx#shakeStyles"]={docgenInfo:shakeStyles.__docgenInfo,name:"shakeStyles",path:"packages/annotation/src/files/helpers.tsx#shakeStyles"})}catch(__react_docgen_typescript_loader_error){}try{changeAncestor.displayName="changeAncestor",changeAncestor.__docgenInfo={description:"process css lines to replace an existing ancestor with a new string",displayName:"changeAncestor",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/annotation/src/files/helpers.tsx#changeAncestor"]={docgenInfo:changeAncestor.__docgenInfo,name:"changeAncestor",path:"packages/annotation/src/files/helpers.tsx#changeAncestor"})}catch(__react_docgen_typescript_loader_error){}function transformSvg_createForOfIteratorHelperLoose(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(it)return(it=it.call(o)).next.bind(it);if(Array.isArray(o)||(it=function transformSvg_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return transformSvg_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return transformSvg_arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0;return function(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function transformSvg_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var defaultSvgTransformConfig={skipAttributes:["transform-origin","svg.id"],skipRoles:["dimensions-reference","view-controller"],roundAttributes:["x","x1","x2","y","y1","y2","width","height","cx","cy","r","rx","ry","opacity","fill-opacity","stroke-width","stroke-dashoffset","stroke-dasharray"],roundAttributeDecimalPlaces:3,newlineTags:["style","g","rect","circle","line","path","text","filter","defs"],shake:!0},transformSvg=function transformSvg(element,config,theme,content){void 0===config&&(config=defaultSvgTransformConfig);var nodeName=element.nodeName;if("svg"===nodeName&&((content=scanSvg(element,config))["svg.id"]=new Set([String(element.getAttribute("id"))])),"style"===nodeName&&theme){var _content$svgId,chartId=(content?Array.from(null!=(_content$svgId=content["svg.id"])?_content$svgId:[]):[""])[0];element.textContent=(0,chsk_core_es.gbv)(theme,void 0,"#"+chartId)}var _element$parentNode,skipSet=new Set(config.skipAttributes);if(!element.attributes)return"style"===(null==(_element$parentNode=element.parentNode)?void 0:_element$parentNode.nodeName)&&(config.shake&&content&&(element.textContent=shakeStyles(element.textContent,content)),element.textContent=changeAncestor(element.textContent,skipSet.has("svg.id"))),element;for(var _step,roundSet=new Set(config.roundAttributes),n=config.roundAttributeDecimalPlaces,skipAttributes=[],_iterator=transformSvg_createForOfIteratorHelperLoose(element.attributes);!(_step=_iterator()).done;){var attr=_step.value;if(roundSet.has(attr.name))element.setAttribute(attr.name,roundPxDecimalPlaces(attr.value,n));else if("style"===attr.name){var _cleanStyle=cleanStyle(attr.value,n),style=_cleanStyle.style,transform=_cleanStyle.transform;element.setAttribute("style",style),""===style&&element.removeAttribute("style"),transform&&element.setAttribute("transform",transform)}else"fill"!==attr.name&&"stroke"!==attr.name||element.setAttribute(attr.name,rgb2hex(attr.value));("undefined"===attr.value||"opacity"===attr.name&&"1"===attr.value||skipSet.has(nodeName+"."+attr.name))&&skipAttributes.push(attr.name)}if(skipAttributes.concat(config.skipAttributes).forEach((function(attrName){element.removeAttribute(attrName)})),element.hasChildNodes()&&config.skipRoles.length>0){var skipChildren=[];element.childNodes.forEach((function(child){var childElement=child;if(childElement.attributes){var role=childElement.getAttribute("role");null!==role&&config.skipRoles.indexOf(role)>=0&&skipChildren.push(child)}})),skipChildren.forEach((function(child){return child.remove()}))}return element.hasChildNodes()&&element.childNodes.forEach((function(child){return transformSvg(child,config,theme,content)})),element};try{transformSvg.displayName="transformSvg",transformSvg.__docgenInfo={description:"edit an Svg element\n\nMotivation:\n\nSvg element can contain 'spurious' content for several reason:\n1. Animation libraries add instructions into svg element style tags,\nbut some of the instructions / transforms are not needed for static images.\n2. Some style transforms are supported by browsers, but not by other viewers, e.g. inkscape.\n3. Coordinates may have too many decimal points. The high precision can be a\nresult of calculation or animation, but is not needed for static images.\n\nCleaning the Svg element increases compatibility with viewers and reduces file size.\n\nWarning:\n\nThis function modifies object 'element'",displayName:"transformSvg",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/annotation/src/files/transformSvg.tsx#transformSvg"]={docgenInfo:transformSvg.__docgenInfo,name:"transformSvg",path:"packages/annotation/src/files/transformSvg.tsx#transformSvg"})}catch(__react_docgen_typescript_loader_error){}var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),downloadToFile=function downloadToFile(data,filename){var blob=new Blob([data],{type:"text/json"}),link=document.createElement("a");link.download=filename,link.href=window.URL.createObjectURL(blob),link.dataset.downloadurl=["text/json",link.download,link.href].join(":");var event=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0});link.dispatchEvent(event),link.remove()},DataDownload=function DataDownload(_ref){var filename=_ref.filename,setRole=_ref.setRole,className=_ref.className,children=_ref.children,rawData=(0,chsk_core_es.W3B)().data;return(0,jsx_runtime.jsx)("g",{role:setRole?"download-data":void 0,className,onClick:function onClick(){return downloadToFile(JSON.stringify(rawData),filename)},children})};DataDownload.displayName="DataDownload";var ImageDownload=function ImageDownload(_ref2){var filename=_ref2.filename,_ref2$svgTransformCon=_ref2.svgTransformConfig,svgTransformConfig=void 0===_ref2$svgTransformCon?defaultSvgTransformConfig:_ref2$svgTransformCon,className=_ref2.className,setRole=_ref2.setRole,children=_ref2.children,chartData=(0,chsk_core_es.q14)().data,theme=(0,chsk_core_es.FgM)();return(0,jsx_runtime.jsx)("g",{role:setRole?"download-image":void 0,className,onClick:function onClick(){return function downloadSvgToFile(id,filename,config,theme){var _transformSvg,svg=document.getElementById(id);if(svg){var result=null==(_transformSvg=transformSvg(null==svg?void 0:svg.cloneNode(!0),config,theme))?void 0:_transformSvg.outerHTML;config.newlineTags.forEach((function(tag){var closePattern=new RegExp("</"+tag+"><","g"),openPattern=new RegExp("><"+tag,"g");result=result.replace(closePattern,"</"+tag+">\n<").replace(closePattern,"</"+tag+">\n<").replace(openPattern,">\n<"+tag)})),downloadToFile(result,filename)}}(chartData.id,filename,svgTransformConfig,theme)},children})};ImageDownload.displayName="ImageDownload";var Download=function Download(_ref3){var variant=_ref3.variant,filename=_ref3.filename,_ref3$svgTransformCon=_ref3.svgTransformConfig,svgTransformConfig=void 0===_ref3$svgTransformCon?defaultSvgTransformConfig:_ref3$svgTransformCon,className=_ref3.className,_ref3$setRole=_ref3.setRole,setRole=void 0===_ref3$setRole||_ref3$setRole,children=_ref3.children;return"data"===variant?(0,jsx_runtime.jsx)(DataDownload,{filename,className,setRole,children}):(0,jsx_runtime.jsx)(ImageDownload,{filename,svgTransformConfig,className,setRole,children})};Download.displayName="Download";try{Download.displayName="Download",Download.__docgenInfo={description:"",displayName:"Download",props:{variant:{defaultValue:null,description:"variant",name:"variant",required:!0,type:{name:"enum",value:[{value:'"data"'},{value:'"image"'}]}},filename:{defaultValue:null,description:"filename",name:"filename",required:!0,type:{name:"string"}},svgTransformConfig:{defaultValue:{value:"{\n    skipAttributes: ['transform-origin', 'svg.id'],\n    skipRoles: ['dimensions-reference', 'view-controller'],\n    roundAttributes: [\n        'x',\n        'x1',\n        'x2',\n        'y',\n        'y1',\n        'y2',\n        'width',\n        'height',\n        'cx',\n        'cy',\n        'r',\n        'rx',\n        'ry',\n        'opacity',\n        'fill-opacity',\n        'stroke-width',\n        'stroke-dashoffset',\n        'stroke-dasharray',\n    ],\n    roundAttributeDecimalPlaces: 3,\n    newlineTags: ['style', 'g', 'rect', 'circle', 'line', 'path', 'text', 'filter', 'defs'],\n    shake: true,\n}"},description:"configuration for transforming svg content",name:"svgTransformConfig",required:!1,type:{name:"SvgTransformConfig"}},children:{defaultValue:null,description:"children",name:"children",required:!0,type:{name:"ReactNode"}},className:{defaultValue:null,description:"class string",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"css style",name:"style",required:!1,type:{name:"Partial<CSSProperties>"}},setRole:{defaultValue:{value:"true"},description:"toggle role attribute in svg code",name:"setRole",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/annotation/src/files/Download.tsx#Download"]={docgenInfo:Download.__docgenInfo,name:"Download",path:"packages/annotation/src/files/Download.tsx#Download"})}catch(__react_docgen_typescript_loader_error){}var _DataDownload$paramet,_DataDownload$paramet2,_ImageDownload$parame,_ImageDownload$parame2,BoxedLabel=__webpack_require__("./packages/annotation/src/typography/BoxedLabel.tsx"),decorators=__webpack_require__("./packages/annotation/stories/decorators.tsx");function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}const Download_stories={title:"Addons/Annotation/Files/Download",component:Download};var Download_stories_DataDownload={render:function render(){return(0,jsx_runtime.jsx)(chsk_core_es.kL2,{id:"downloadData",size:[400,300],padding:[40,40,20,40],style:{display:"inline-block"},children:(0,jsx_runtime.jsxs)(chsk_band_es.$Q,_extends({},decorators.Dx,{children:[(0,jsx_runtime.jsx)(chsk_band_es.Ll,{}),(0,jsx_runtime.jsx)(Download,{variant:"data",filename:"example.json",children:(0,jsx_runtime.jsx)(BoxedLabel.I,{position:[0,-24],size:[200,24],anchor:[0,0],style:{cursor:"pointer"},boxStyle:{fill:"#f2f2f2",strokeWidth:1},children:"click this box to download data"})})]}))})},name:"data download"},Download_stories_ImageDownload={render:function render(){return(0,jsx_runtime.jsx)(chsk_core_es.kL2,{id:"downloadImage",size:[400,300],padding:[40,40,20,40],style:{display:"inline-block"},children:(0,jsx_runtime.jsxs)(chsk_band_es.$Q,_extends({},decorators.Dx,{children:[(0,jsx_runtime.jsx)(chsk_band_es.Ll,{}),(0,jsx_runtime.jsx)(Download,{variant:"image",filename:"example.svg",children:(0,jsx_runtime.jsx)(BoxedLabel.I,{position:[0,-24],size:[200,24],anchor:[0,0],style:{cursor:"pointer"},boxStyle:{fill:"#f2f2f2",strokeWidth:1},children:"click this box to download image"})})]}))})},name:"image download"};Download_stories_DataDownload.parameters=_extends({},Download_stories_DataDownload.parameters,{docs:_extends({},null==(_DataDownload$paramet=Download_stories_DataDownload.parameters)?void 0:_DataDownload$paramet.docs,{source:_extends({originalSource:"{\n  render: () => <Chart id={'downloadData'} size={[400, 300]} padding={[40, 40, 20, 40]} style={{\n    display: 'inline-block'\n  }}>\n            <Bar {...barProps}>\n                <Bars />\n                <Download variant={'data'} filename={'example.json'}>\n                    <BoxedLabel position={[0, -24]} size={[200, 24]} anchor={[0, 0]} style={{\n          cursor: 'pointer'\n        }} boxStyle={{\n          fill: '#f2f2f2',\n          strokeWidth: 1\n        }}>\n                        click this box to download data\n                    </BoxedLabel>\n                </Download>\n            </Bar>\n        </Chart>,\n  name: 'data download'\n}"},null==(_DataDownload$paramet2=Download_stories_DataDownload.parameters)||null==(_DataDownload$paramet2=_DataDownload$paramet2.docs)?void 0:_DataDownload$paramet2.source)})}),Download_stories_ImageDownload.parameters=_extends({},Download_stories_ImageDownload.parameters,{docs:_extends({},null==(_ImageDownload$parame=Download_stories_ImageDownload.parameters)?void 0:_ImageDownload$parame.docs,{source:_extends({originalSource:"{\n  render: () => <Chart id={'downloadImage'} size={[400, 300]} padding={[40, 40, 20, 40]} style={{\n    display: 'inline-block'\n  }}>\n            <Bar {...barProps}>\n                <Bars />\n                <Download variant={'image'} filename={'example.svg'}>\n                    <BoxedLabel position={[0, -24]} size={[200, 24]} anchor={[0, 0]} style={{\n          cursor: 'pointer'\n        }} boxStyle={{\n          fill: '#f2f2f2',\n          strokeWidth: 1\n        }}>\n                        click this box to download image\n                    </BoxedLabel>\n                </Download>\n            </Bar>\n        </Chart>,\n  name: 'image download'\n}"},null==(_ImageDownload$parame2=Download_stories_ImageDownload.parameters)||null==(_ImageDownload$parame2=_ImageDownload$parame2.docs)?void 0:_ImageDownload$parame2.source)})});var __namedExportsOrder=["DataDownload","ImageDownload"]},"./packages/annotation/src/typography/BoxedLabel.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{I:()=>BoxedLabel});var framer_motion__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/framer-motion/dist/es/render/dom/motion-minimal.mjs"),_chsk_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/core/dist/chsk-core.es.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js"),BoxedLabel=function BoxedLabel(_ref){var _ref$variant=_ref.variant,variant=void 0===_ref$variant?"boxed-label":_ref$variant,_ref$position=_ref.position,position=void 0===_ref$position?[0,0]:_ref$position,_ref$positionUnits=_ref.positionUnits,positionUnits=void 0===_ref$positionUnits?"absolute":_ref$positionUnits,_ref$size=_ref.size,size=void 0===_ref$size?[100,32]:_ref$size,_ref$sizeUnits=_ref.sizeUnits,sizeUnits=void 0===_ref$sizeUnits?"absolute":_ref$sizeUnits,_ref$offset=_ref.offset,offset=void 0===_ref$offset?[0,0]:_ref$offset,_ref$anchor=_ref.anchor,anchor=void 0===_ref$anchor?[.5,.5]:_ref$anchor,_ref$angle=_ref.angle,angle=void 0===_ref$angle?0:_ref$angle,_ref$angleUnit=_ref.angleUnit,angleUnit=void 0===_ref$angleUnit?"degree":_ref$angleUnit,_ref$expansion=_ref.expansion,expansion=void 0===_ref$expansion?[0,0,0,0]:_ref$expansion,rx=_ref.rx,ry=_ref.ry,boxStyle=_ref.boxStyle,textStyle=_ref.textStyle,className=_ref.className,style=_ref.style,_ref$setRole=_ref.setRole,setRole=void 0===_ref$setRole||_ref$setRole,children=_ref.children,dimensions=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.Bs9)(),scales=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.kE1)().scales,absPos=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.eE7)(position,positionUnits,dimensions.size,scales),absSize=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.YEL)(size,sizeUnits,dimensions.size),_getAnchoredOrigin=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.ji)(absPos,absSize,anchor),x=_getAnchoredOrigin[0],y=_getAnchoredOrigin[1];x+=size[0]/2+offset[0],y+=size[1]/2+offset[1],absSize[0]+=expansion[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.RLj]+expansion[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.pXp],absSize[1]+=expansion[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.GSB]+expansion[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.DaS];var compositeClassName=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.gjB)(variant,className),content="string"==typeof children?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("text",{style:textStyle,className:"label "+compositeClassName,children}):children,config={x,y,rotate:angle&&"radian"===angleUnit?(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.BVy)(angle):angle,originX:"0px",originY:"0px"};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(framer_motion__WEBPACK_IMPORTED_MODULE_2__.m.g,{role:setRole?variant:void 0,initial:config,animate:config,style:(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.dJS)(style,config),className:compositeClassName,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_1__.AeJ,{variant:"label",x:0,y:0,width:absSize[0],height:absSize[1],rx,ry,center:!0,className:compositeClassName,style:boxStyle,setRole:!1}),content]})};BoxedLabel.displayName="BoxedLabel";try{BoxedLabel.displayName="BoxedLabel",BoxedLabel.__docgenInfo={description:"",displayName:"BoxedLabel",props:{variant:{defaultValue:{value:"boxed-label"},description:"variant",name:"variant",required:!1,type:{name:"string"}},size:{defaultValue:{value:"[100, 32]"},description:"size of box in absolute units",name:"size",required:!1,type:{name:"SizeSpec"}},angle:{defaultValue:{value:"0"},description:"angle",name:"angle",required:!1,type:{name:"number"}},angleUnit:{defaultValue:{value:"degree"},description:"angle unit",name:"angleUnit",required:!1,type:{name:"enum",value:[{value:'"degree"'},{value:'"radian"'}]}},className:{defaultValue:null,description:"class string",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"css style",name:"style",required:!1,type:{name:"Partial<CSSProperties>"}},setRole:{defaultValue:{value:"true"},description:"toggle role attribute in svg code",name:"setRole",required:!1,type:{name:"boolean"}},position:{defaultValue:{value:"[0, 0]"},description:"container position",name:"position",required:!1,type:{name:"PositionSpec"}},positionUnits:{defaultValue:{value:"absolute"},description:"absolute or relative units for position",name:"positionUnits",required:!1,type:{name:"PositionUnits"}},sizeUnits:{defaultValue:{value:"absolute"},description:"absolute or relative units for position and size measurements",name:"sizeUnits",required:!1,type:{name:"SizeUnits"}},anchor:{defaultValue:{value:"[0.5, 0.5]"},description:"container anchor point",name:"anchor",required:!1,type:{name:"AnchorSpec"}},padding:{defaultValue:null,description:"padding (absolute values) *",name:"padding",required:!1,type:{name:"FourSideSizeSpec"}},offset:{defaultValue:{value:"[0, 0]"},description:"offset/translation applied after anchoring, absolute units",name:"offset",required:!1,type:{name:"NumericPositionSpec"}},expansion:{defaultValue:{value:"[0, 0, 0, 0]"},description:"expansion of box size",name:"expansion",required:!1,type:{name:"FourSideSizeSpec"}},rx:{defaultValue:null,description:"horizontal radius of box",name:"rx",required:!1,type:{name:"number"}},ry:{defaultValue:null,description:"vertical radius of box",name:"ry",required:!1,type:{name:"number"}},boxStyle:{defaultValue:null,description:"style for box",name:"boxStyle",required:!1,type:{name:"Partial<CSSProperties>"}},textStyle:{defaultValue:null,description:"style for text",name:"textStyle",required:!1,type:{name:"Partial<CSSProperties>"}},children:{defaultValue:null,description:"children",name:"children",required:!1,type:{name:"ReactNode"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/annotation/src/typography/BoxedLabel.tsx#BoxedLabel"]={docgenInfo:BoxedLabel.__docgenInfo,name:"BoxedLabel",path:"packages/annotation/src/typography/BoxedLabel.tsx#BoxedLabel"})}catch(__react_docgen_typescript_loader_error){}},"./packages/annotation/stories/files/Download.mdx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/react/index.js");var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js"),_home_runner_work_chsk_chsk_node_modules_storybook_addon_docs_dist_shims_mdx_react_shim__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@mdx-js/react/lib/index.js"),_storybook_blocks__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@storybook/blocks/dist/index.mjs"),_Download_stories__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/annotation/stories/files/Download.stories.tsx");function _createMdxContent(props){const _components=Object.assign({h1:"h1",p:"p",code:"code",h2:"h2"},(0,_home_runner_work_chsk_chsk_node_modules_storybook_addon_docs_dist_shims_mdx_react_shim__WEBPACK_IMPORTED_MODULE_2__.ah)(),props.components);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_storybook_blocks__WEBPACK_IMPORTED_MODULE_3__.h_,{of:_Download_stories__WEBPACK_IMPORTED_MODULE_4__}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.h1,{id:"download",children:"Download"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.p,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"Download"})," provides a click-able object that triggers a download of chart content into a file."]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_storybook_blocks__WEBPACK_IMPORTED_MODULE_3__.Ed,{of:_Download_stories__WEBPACK_IMPORTED_MODULE_4__}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.h2,{id:"data-download",children:"Data download"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.p,{children:["Set prop ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"variant"})," to ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"'data'"})," to fetch the raw data associated with a view (in ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"json"})," format)."]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.p,{children:["The example below uses a simple ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"Bar"})," view; click the text above the bars to download the raw data for the bars."]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_storybook_blocks__WEBPACK_IMPORTED_MODULE_3__.Xz,{of:_Download_stories__WEBPACK_IMPORTED_MODULE_4__.DataDownload}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.h2,{id:"image-download",children:"Image download"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.p,{children:["Set prop ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"variant"})," to ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"'image'"})," to fetch an image of the entire chart (in ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"svg"})," format)."]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_storybook_blocks__WEBPACK_IMPORTED_MODULE_3__.Xz,{of:_Download_stories__WEBPACK_IMPORTED_MODULE_4__.ImageDownload}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.p,{children:"Note that the downloaded image may appear slightly different, when previewed offline, than in the browser.\nThis is usually because of discrepancies in font faces.\nIn particular, the generic font face 'sans-serif' may be interpreted differently in different contexts.\nTo maximize consistency, use a specific font face that is available across all target platforms."})]})}const __WEBPACK_DEFAULT_EXPORT__=function MDXContent(props={}){const{wrapper:MDXLayout}=Object.assign({},(0,_home_runner_work_chsk_chsk_node_modules_storybook_addon_docs_dist_shims_mdx_react_shim__WEBPACK_IMPORTED_MODULE_2__.ah)(),props.components);return MDXLayout?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(MDXLayout,Object.assign({},props,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_createMdxContent,props)})):_createMdxContent(props)}}}]);