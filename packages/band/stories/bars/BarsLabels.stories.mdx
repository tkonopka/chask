import { ArgsTable, Canvas, Meta, Source, Story } from '@storybook/addon-docs'
import { Chart, Axis, AxisTicks, GridLines } from '@chsk/core'
import { Bar, Bars, BarsLabels } from '../../src'
import { ChartForBarsLabelsDecorator } from './decorators'

# BarsLabels

<Meta title="Addons/Band/Bars/BarsLabels" />
export const Template = args => <BarsLabels {...args} />

`BarsLabels` draws a set of labels on a bar chart.

<ArgsTable of={BarsLabels} />

## Alignment

By default, `BarsLabels` places labels at the center of bars.

<Canvas>
    <Story
        name="default"
        args={{
            minSize: [40, 10],
        }}
        component={BarsLabels}
        decorators={[ChartForBarsLabelsDecorator]}
    >
        {Template.bind({})}
    </Story>
</Canvas>

Prop `align` sets the horizontal and vertical alignment within the bar.
Prop `padding` controls the space between the bar edge and the text.

<Canvas>
    <Story
        name="near baseline"
        args={{
            padding: [2, 8, 2, 8],
            align: [0, 0.5],
            style: { fill: '#ffffff', textAnchor: 'start' },
            styleOuter: { fill: '#222222', textAnchor: 'start' },
        }}
        component={BarsLabels}
        decorators={[ChartForBarsLabelsDecorator]}
    >
        {Template.bind({})}
    </Story>
    <Story
        name="near edge"
        args={{
            padding: [2, 8, 2, 8],
            align: [1, 0.5],
            style: { fill: '#ffffff', textAnchor: 'end' },
            styleOuter: { fill: '#222222', textAnchor: 'start' },
        }}
        component={BarsLabels}
        decorators={[ChartForBarsLabelsDecorator]}
    >
        {Template.bind({})}
    </Story>
</Canvas>

## Labels outside bars

By default, `BarsLabels` omits labels for bars smaller than the size specified with prop `minSize`.
For such small bars, labels can be placed outside of bars with prop `showOuter`

<Canvas>
    <Story
        name="some labels outside bars"
        args={{
            padding: [2, 8, 2, 8],
            align: [0, 0.5],
            showOuter: true,
            style: { fill: '#ffffff', textAnchor: 'start' },
            styleOuter: { fill: '#222222', textAnchor: 'start' },
        }}
        component={BarsLabels}
        decorators={[ChartForBarsLabelsDecorator]}
    >
        {Template.bind({})}
    </Story>
</Canvas>

To display all labels outside bars, set `minSize` to a zero size to display all the labels,
set `align` to position the labels on the edge,
and further use prop `offset` to move the labels beyond the bar boundaries.

<Canvas>
    <Story
        name="all labels outside bars"
        args={{
            padding: [2, 0, 2, 0],
            align: [1, 0.5],
            minSize: [0, 0],
            offset: [8, 0],
            style: { fill: '#222222', textAnchor: 'start' },
        }}
        component={BarsLabels}
        decorators={[ChartForBarsLabelsDecorator]}
    >
        {Template.bind({})}
    </Story>
</Canvas>

## Subsets

It is possible to draw selected labels, only.

<Canvas>
    <Story
        name="selected labels"
        args={{
            ids: ['beta', 'delta'],
            padding: [2, 8, 2, 8],
            align: [0, 0.5],
            showOuter: true,
            style: { fill: '#ffffff', textAnchor: 'start' },
        }}
        component={BarsLabels}
        decorators={[ChartForBarsLabelsDecorator]}
    >
        {Template.bind({})}
    </Story>
</Canvas>
