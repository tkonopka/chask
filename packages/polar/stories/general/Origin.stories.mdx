import { ArgsTable, Canvas, Meta, Source, Story } from '@storybook/addon-docs'
import { Surface } from '@chsk/core'
import { Origin, Pie, Slices } from '../../src'
import { ChartDecorator } from '../decorators'
import { commonPieProps } from '../pie/decorators'

# Origin

<Meta title="Addons/Polar/Polar/Origin" />

export const Template = args => <Pie {...args} />

`Origin` moves the svg coordinate system.

<ArgsTable of={Origin} />

## Usage

`Origin` is intended to be used as an immediate child of a view component, e.g. `Pie`.
Whereas svg coordinates in a view are centered on the top-left corner of the view,
`Origin` introduces an svg `g` element that moves the origin of the coordinate system to the center.
This is important for components such as `Slices`.

<Canvas>
    <Story
        name="without origin"
        args={{
            ...commonPieProps,
            children: (
                <>
                    <Slices />
                    <Surface
                        variant={'inner'}
                        style={{ stroke: '#222222', strokeWidth: 1, fillOpacity: 0 }}
                    />
                </>
            ),
        }}
        component={Pie}
        decorators={[ChartDecorator]}
    >
        {Template.bind({})}
    </Story>
    <Story
        name="with origin"
        args={{
            ...commonPieProps,
            children: (
                <>
                    <Surface
                        variant={'inner'}
                        style={{ stroke: '#222222', strokeWidth: 1, fillOpacity: 0 }}
                    />
                    <Origin>
                        <Slices />
                    </Origin>
                </>
            ),
        }}
        component={Pie}
        decorators={[ChartDecorator]}
    >
        {Template.bind({})}
    </Story>
</Canvas>

Note that `Origin` should not, in general, be nested.
