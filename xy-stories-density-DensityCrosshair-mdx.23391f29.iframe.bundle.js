"use strict";(self.webpackChunkchsk=self.webpackChunkchsk||[]).push([[1638,9065],{"./node_modules/@mdx-js/react/lib/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{NF:()=>withMDXComponents,Zo:()=>MDXProvider,ah:()=>useMDXComponents,pC:()=>MDXContext});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");const MDXContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext({});function withMDXComponents(Component){return function boundMDXComponent(props){const allComponents=useMDXComponents(props.components);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(Component,{...props,allComponents})}}function useMDXComponents(components){const contextComponents=react__WEBPACK_IMPORTED_MODULE_0__.useContext(MDXContext);return react__WEBPACK_IMPORTED_MODULE_0__.useMemo((()=>"function"==typeof components?components(contextComponents):{...contextComponents,...components}),[contextComponents,components])}const emptyObject={};function MDXProvider({components,children,disableParentContext}){let allComponents;return allComponents=disableParentContext?"function"==typeof components?components({}):components||emptyObject:useMDXComponents(components),react__WEBPACK_IMPORTED_MODULE_0__.createElement(MDXContext.Provider,{value:allComponents},children)}},"./packages/xy/stories/density/DensityCrosshair.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{CustomSymbol:()=>CustomSymbol,Default:()=>Default,Tooltip:()=>Tooltip,__namedExportsOrder:()=>__namedExportsOrder,default:()=>DensityCrosshair_stories});var chsk_core_es=__webpack_require__("./packages/core/dist/chsk-core.es.js"),react=__webpack_require__("./node_modules/react/index.js"),debounce=__webpack_require__("./node_modules/lodash/debounce.js"),debounce_default=__webpack_require__.n(debounce),types=__webpack_require__("./packages/xy/src/density/types.ts"),context=__webpack_require__("./packages/xy/src/density/context.tsx"),helpers=__webpack_require__("./packages/xy/src/scatter/helpers.ts"),overlays=__webpack_require__("./packages/xy/src/scatter/overlays.tsx"),createDensitySymbol=function createDensitySymbol(_ref){var activeData=_ref.activeData,coordinates=_ref.coordinates,_ref$dataComponent=_ref.dataComponent,dataComponent=void 0===_ref$dataComponent?chsk_core_es.Wnl:_ref$dataComponent,_ref$symbol=_ref.symbol,symbol=void 0===_ref$symbol?chsk_core_es.Cdc:_ref$symbol,symbolR=_ref.symbolR,symbolStyle=_ref.symbolStyle,symbolClassName=_ref.symbolClassName,setRole=_ref.setRole;return void 0===activeData?null:(0,react.createElement)(dataComponent,{key:"active-"+activeData.bins[chsk_core_es.X]+"-"+activeData.bins[chsk_core_es.Y],component:symbol,props:{variant:"active",cx:coordinates[chsk_core_es.X],cy:coordinates[chsk_core_es.Y],r:symbolR,className:symbolClassName,style:(0,chsk_core_es.hIX)(symbolStyle,activeData.color),setRole}})};try{createDensitySymbol.displayName="createDensitySymbol",createDensitySymbol.__docgenInfo={description:"",displayName:"createDensitySymbol",props:{symbol:{defaultValue:null,description:"symbol for individual data points",name:"symbol",required:!1,type:{name:"FC<SymbolProps>"}},setRole:{defaultValue:null,description:"toggle role attribute in svg code",name:"setRole",required:!1,type:{name:"boolean"}},dataComponent:{defaultValue:null,description:"function binding data to interactivity handlers",name:"dataComponent",required:!1,type:{name:"FC<DataComponentProps<DensityInteractiveDataItem, SymbolProps>>"}},symbolStyle:{defaultValue:null,description:"style for data points",name:"symbolStyle",required:!1,type:{name:"Partial<CSSProperties>"}},symbolClassName:{defaultValue:null,description:"style class for data points",name:"symbolClassName",required:!1,type:{name:"string"}},symbolR:{defaultValue:null,description:"size of symbol",name:"symbolR",required:!1,type:{name:"number"}},activeData:{defaultValue:null,description:"",name:"activeData",required:!1,type:{name:"DensityInteractiveDataItem"}},coordinates:{defaultValue:null,description:"",name:"coordinates",required:!0,type:{name:"NumericPositionSpec"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/xy/src/density/overlays.tsx#createDensitySymbol"]={docgenInfo:createDensitySymbol.__docgenInfo,name:"createDensitySymbol",path:"packages/xy/src/density/overlays.tsx#createDensitySymbol"})}catch(__react_docgen_typescript_loader_error){}var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),_excluded=["variant","expansion","symbol","symbolR","symbolStyle","symbolClassName","minDistance","visible","className","style","setRole","dataComponent"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}var createTooltipDataItems=function createTooltipDataItems(item,scale){var values=item.data[types.Nj];if(!(0,chsk_core_es.FBg)(scale))return[{id:item.id,label:"count "+item.count,color:item.color,data:(0,chsk_core_es.J69)(values)}];var counts={};values.map((function(v){var s=String(v);s in counts||(counts[s]=0),counts[s]+=1}));for(var result=[],domain=scale.domain().map(String),_i=0,_Object$entries=Object.entries(counts);_i<_Object$entries.length;_i++){var _Object$entries$_i=_Object$entries[_i],k=_Object$entries$_i[0],v=_Object$entries$_i[1];result.push({id:domain[Number(k)],color:scale(Number(k)),label:domain[Number(k)]+": "+v,data:v})}return result},DensityCrosshair=function DensityCrosshair(_ref){var _ref$variant=_ref.variant,variant=void 0===_ref$variant?"xy":_ref$variant,expansion=_ref.expansion,_ref$symbol=_ref.symbol,symbol=void 0===_ref$symbol?chsk_core_es.bK0:_ref$symbol,symbolR=_ref.symbolR,symbolStyle=_ref.symbolStyle,symbolClassName=_ref.symbolClassName,minDistance=_ref.minDistance,visible=_ref.visible,className=_ref.className,style=_ref.style,_ref$setRole=_ref.setRole,setRole=void 0===_ref$setRole||_ref$setRole,_ref$dataComponent=_ref.dataComponent,dataComponent=void 0===_ref$dataComponent?chsk_core_es.Wnl:_ref$dataComponent,props=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(_ref,_excluded),preparedData=(0,context.BJ)(),scales=(0,chsk_core_es.kE1)().scales,size=(0,chsk_core_es.Bs9)().size,detectorRef=(0,react.useRef)(null),_useState=(0,react.useState)(void 0),activeData=_useState[0],setActiveData=_useState[1],setTooltipData=(0,chsk_core_es.lLG)().setData,_useState2=(0,react.useState)({}),detectorStyle=_useState2[0],setDetectorStyle=_useState2[1],binSize=preparedData.binSize,padding=expansion||[binSize,binSize,binSize,binSize],handleClick=(0,react.useCallback)((function(event){var _props$handlers;null==(_props$handlers=props.handlers)||null==_props$handlers.onClick||_props$handlers.onClick(activeData,event)}),[activeData,props.handlers]),handleMouseLeave=(0,react.useCallback)((function(event){var _props$handlers2,_props$modifiers$onMo,_props$modifiers;null==(_props$handlers2=props.handlers)||null==_props$handlers2.onMouseLeave||_props$handlers2.onMouseLeave(activeData,event),setActiveData(void 0),setTooltipData({}),setDetectorStyle(null!=(_props$modifiers$onMo=null==(_props$modifiers=props.modifiers)?void 0:_props$modifiers.onMouseLeave)?_props$modifiers$onMo:{})}),[setActiveData,setTooltipData,props.handlers]),targets=preparedData.data,criterion="xy"===variant?helpers.sr:"x"===variant?helpers.uD:helpers.I_,handleMouseMove=(0,react.useCallback)((function(event){var _hit$,_props$modifiers$onMo2,_props$modifiers2,_props$handlers3;if(detectorRef&&detectorRef.current){var _detectorRef$current$=detectorRef.current.getBoundingClientRect(),x=_detectorRef$current$.x,y=_detectorRef$current$.y,mouse=[event.clientX-x-padding[chsk_core_es.RLj],event.clientY-y-padding[chsk_core_es.GSB]],mouseBins=[mouse[chsk_core_es.X]/binSize,mouse[chsk_core_es.Y]/binSize],values=targets.map((function(target){return criterion(target,mouseBins)})),hit=values.reduce((function(result,x,i){return x<result[0]?[x,i]:result}),[values[0],0]);if(minDistance&&hit[0]>minDistance/binSize)handleMouseLeave(event);else{var target=targets[null!=(_hit$=hit[1])?_hit$:0];if(!activeData||activeData.bins[chsk_core_es.X]!=target[chsk_core_es.X]||activeData.bins[chsk_core_es.Y]!==target[chsk_core_es.Y]){var newActiveData=function createInteractiveDataItem(target){return{id:target[chsk_core_es.X]+","+target[chsk_core_es.Y],bins:[target[chsk_core_es.X],target[chsk_core_es.Y]],data:target,count:target[types.z3],color:target[types.vm]}}(target);setActiveData(newActiveData),setTooltipData({x:target[0]*binSize,y:target[1]*binSize,title:newActiveData.bins[chsk_core_es.X]+", "+newActiveData.bins[chsk_core_es.Y],data:createTooltipDataItems(newActiveData,scales.color)}),setDetectorStyle(null!=(_props$modifiers$onMo2=null==(_props$modifiers2=props.modifiers)?void 0:_props$modifiers2.onMouseEnter)?_props$modifiers$onMo2:{}),null==(_props$handlers3=props.handlers)||null==_props$handlers3.onMouseEnter||_props$handlers3.onMouseEnter(newActiveData,event)}}}}),[activeData,setActiveData,setTooltipData,targets]),debouncedHandleMouseMove=debounce_default()(handleMouseMove,10,{leading:!0}),detector=(0,jsx_runtime.jsx)("rect",{ref:detectorRef,role:setRole?"crosshair-detector":void 0,x:-padding[chsk_core_es.RLj],y:-padding[chsk_core_es.GSB],width:size[chsk_core_es.X]+padding[chsk_core_es.RLj]+padding[chsk_core_es.pXp],height:size[chsk_core_es.Y]+padding[chsk_core_es.GSB]+padding[chsk_core_es.DaS],style:_extends({},detectorStyle,{opacity:0}),onMouseMove:debouncedHandleMouseMove,onMouseLeave:handleMouseLeave,onClick:handleClick}),coordinates=void 0!==activeData?[activeData.bins[chsk_core_es.X]*binSize,activeData.bins[chsk_core_es.Y]*binSize]:[NaN,NaN],activeSymbol=createDensitySymbol({activeData,coordinates,dataComponent,symbol,symbolR:null!=symbolR?symbolR:binSize/2,symbolStyle,symbolClassName,setRole}),lines=(0,overlays.u)({visible:null!=visible?visible:[!0,!0],size,coordinates,style,className,setRole});return(0,jsx_runtime.jsxs)("g",{role:setRole?"density-crosshair":void 0,children:[(0,jsx_runtime.jsxs)(chsk_core_es.JjT,{role:setRole?"crosshair-presence":void 0,visible:void 0!==activeData,firstRender:!1,children:[lines,activeSymbol]},"crosshair"),detector]})};DensityCrosshair.displayName="DensityCrosshair";try{DensityCrosshair.displayName="DensityCrosshair",DensityCrosshair.__docgenInfo={description:"",displayName:"DensityCrosshair",props:{symbolR:{defaultValue:null,description:"size of symbol",name:"symbolR",required:!1,type:{name:"number"}},className:{defaultValue:null,description:"class string",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"css style",name:"style",required:!1,type:{name:"Partial<CSSProperties>"}},setRole:{defaultValue:{value:"true"},description:"toggle role attribute in svg code",name:"setRole",required:!1,type:{name:"boolean"}},handlers:{defaultValue:null,description:"handlers for events",name:"handlers",required:!1,type:{name:"DataInteractivityHandlers<DensityInteractiveDataItem>"}},modifiers:{defaultValue:null,description:"style modifiers",name:"modifiers",required:!1,type:{name:"DataInteractivityModifiers"}},dataComponent:{defaultValue:null,description:"function binding data to interactivity handlers",name:"dataComponent",required:!1,type:{name:"FC<DataComponentProps<DensityInteractiveDataItem, SymbolProps>>"}},symbol:{defaultValue:null,description:"symbol for individual data points",name:"symbol",required:!1,type:{name:"FC<SymbolProps>"}},symbolStyle:{defaultValue:null,description:"style for data points",name:"symbolStyle",required:!1,type:{name:"Partial<CSSProperties>"}},symbolClassName:{defaultValue:null,description:"style class for data points",name:"symbolClassName",required:!1,type:{name:"string"}},variant:{defaultValue:{value:"xy"},description:"crosshair variant",name:"variant",required:!1,type:{name:"enum",value:[{value:'"xy"'},{value:'"x"'},{value:'"y"'}]}},expansion:{defaultValue:null,description:"expansion of background surface",name:"expansion",required:!1,type:{name:"FourSideSizeSpec"}},minDistance:{defaultValue:null,description:"minimum distance to nearest point",name:"minDistance",required:!1,type:{name:"number"}},visible:{defaultValue:null,description:"visibility for crosshair lines",name:"visible",required:!1,type:{name:"[boolean, boolean]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/xy/src/density/DensityCrosshair.tsx#DensityCrosshair"]={docgenInfo:DensityCrosshair.__docgenInfo,name:"DensityCrosshair",path:"packages/xy/src/density/DensityCrosshair.tsx#DensityCrosshair"})}catch(__react_docgen_typescript_loader_error){}var _Default$parameters,_Default$parameters2,_Default$parameters2$,_CustomSymbol$paramet,_CustomSymbol$paramet2,_CustomSymbol$paramet3,_Tooltip$parameters,_Tooltip$parameters2,_Tooltip$parameters2$,decorators=__webpack_require__("./packages/xy/stories/density/decorators.tsx");function DensityCrosshair_stories_extends(){return DensityCrosshair_stories_extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},DensityCrosshair_stories_extends.apply(this,arguments)}const DensityCrosshair_stories={title:"Addons/XY/Density/DensityCrosshair",component:DensityCrosshair};var Default={name:"default",args:{style:{stroke:"#444",strokeWidth:1,strokeDasharray:6}},decorators:[decorators.ww]},CustomSymbol={name:"custom symbol",args:{symbol:chsk_core_es.bK0,symbolStyle:{strokeWidth:1.5,stroke:"#222222"},symbolR:20},decorators:[decorators.ww]},Tooltip={name:"tooltip",decorators:[decorators.dQ]};Default.parameters=DensityCrosshair_stories_extends({},Default.parameters,{docs:DensityCrosshair_stories_extends({},null==(_Default$parameters=Default.parameters)?void 0:_Default$parameters.docs,{source:DensityCrosshair_stories_extends({originalSource:"{\n  name: 'default',\n  args: {\n    style: {\n      stroke: '#444',\n      strokeWidth: 1,\n      strokeDasharray: 6\n    }\n  },\n  decorators: [ChartForCrosshairDecorator]\n}"},null==(_Default$parameters2=Default.parameters)||null==(_Default$parameters2$=_Default$parameters2.docs)?void 0:_Default$parameters2$.source)})}),CustomSymbol.parameters=DensityCrosshair_stories_extends({},CustomSymbol.parameters,{docs:DensityCrosshair_stories_extends({},null==(_CustomSymbol$paramet=CustomSymbol.parameters)?void 0:_CustomSymbol$paramet.docs,{source:DensityCrosshair_stories_extends({originalSource:"{\n  name: 'custom symbol',\n  args: {\n    symbol: Square,\n    symbolStyle: {\n      strokeWidth: 1.5,\n      stroke: '#222222'\n    },\n    symbolR: 20\n  },\n  decorators: [ChartForCrosshairDecorator]\n}"},null==(_CustomSymbol$paramet2=CustomSymbol.parameters)||null==(_CustomSymbol$paramet3=_CustomSymbol$paramet2.docs)?void 0:_CustomSymbol$paramet3.source)})}),Tooltip.parameters=DensityCrosshair_stories_extends({},Tooltip.parameters,{docs:DensityCrosshair_stories_extends({},null==(_Tooltip$parameters=Tooltip.parameters)?void 0:_Tooltip$parameters.docs,{source:DensityCrosshair_stories_extends({originalSource:"{\n  name: 'tooltip',\n  decorators: [ChartForCrosshairTooltipDecorator]\n}"},null==(_Tooltip$parameters2=Tooltip.parameters)||null==(_Tooltip$parameters2$=_Tooltip$parameters2.docs)?void 0:_Tooltip$parameters2$.source)})});var __namedExportsOrder=["Default","CustomSymbol","Tooltip"]},"./packages/xy/src/density/Density.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>Density});var react=__webpack_require__("./node_modules/react/index.js"),LazyMotion=__webpack_require__("./node_modules/framer-motion/dist/es/components/LazyMotion/index.mjs"),features_animation=__webpack_require__("./node_modules/framer-motion/dist/es/render/dom/features-animation.mjs"),chsk_core_es=__webpack_require__("./packages/core/dist/chsk-core.es.js"),helpers=__webpack_require__("./packages/xy/src/scatter/helpers.ts"),types=__webpack_require__("./packages/xy/src/density/types.ts"),lab=__webpack_require__("./node_modules/d3-color/src/lab.js"),round=Math.round,context=__webpack_require__("./packages/xy/src/density/context.tsx"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),_excluded=["container","data","x","y","valueColor","binSize","scaleX","scaleY","scaleColor","children"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}var prepareData=function prepareData(_ref2){var data=_ref2.data,x=_ref2.x,y=_ref2.y,_ref2$valueColor=_ref2.valueColor,valueColor=void 0===_ref2$valueColor?null:_ref2$valueColor,scales=_ref2.scales,binSize=_ref2.binSize,disabled=_ref2.disabled,scaleX=scales.x,scaleY=scales.y,scaleColor=scales.color,bins={},binKeys=new Set;return data.forEach((function(seriesData,i){var xValues,yValues,colorValues,d=seriesData.data,countIncrement=disabled[i]?0:1;if((0,chsk_core_es.kJL)(d)){var getX=(0,chsk_core_es.wIU)(x),getY=(0,chsk_core_es.wIU)(y),getColor=valueColor?(0,chsk_core_es.wIU)(valueColor):null;xValues=d.map((function(item){return getX(item)})),yValues=d.map((function(item){return getY(item)})),colorValues=getColor?d.map((function(item){return getColor(item)})):Array(xValues.length).fill(i)}else{var _getX2=(0,chsk_core_es.wIU)(String(x)),_getY2=(0,chsk_core_es.wIU)(String(y)),_getColor2=valueColor?(0,chsk_core_es.wIU)(String(valueColor)):null;xValues=_getX2(d),yValues=_getY2(d),colorValues=_getColor2?_getColor2(d):Array(xValues.length).fill(i)}xValues.forEach((function(v,j){var xBin=round(scaleX(v)/binSize),yBin=round(scaleY(yValues[j])/binSize),key=xBin+","+yBin;binKeys.has(key)||(binKeys.add(key),bins[key]=[xBin,yBin,0,"",[]]),countIncrement&&(bins[key][types.z3]+=1,bins[key][types.Nj].push(colorValues[j]))}))})),Object.values(bins).map((function(item){return item[types.vm]=function avgLab(values,scale){for(var n=values.length,l=0,a=0,b=0,i=0;i<n;){for(var v=values[i],j=1;i+j<n&&values[i+j]==v;)j+=1;var vColor=(0,lab.ZP)(scale(v));l+=j*vColor.l,a+=j*vColor.a,b+=j*vColor.b,i+=j}return(0,lab.ZP)(l/n,a/n,b/n).formatHex()}(item[types.Nj],scaleColor),item})).sort((function(a,b){return a[types.z3]-b[types.z3]}))},Density=function Density(_ref3){var _ref3$container=_ref3.container,container=void 0===_ref3$container?chsk_core_es.WdC:_ref3$container,data=_ref3.data,x=_ref3.x,y=_ref3.y,_ref3$valueColor=_ref3.valueColor,valueColor=void 0===_ref3$valueColor?null:_ref3$valueColor,_ref3$binSize=_ref3.binSize,binSize=void 0===_ref3$binSize?3:_ref3$binSize,_ref3$scaleX=_ref3.scaleX,scaleX=void 0===_ref3$scaleX?chsk_core_es.Bs3:_ref3$scaleX,_ref3$scaleY=_ref3.scaleY,scaleY=void 0===_ref3$scaleY?chsk_core_es.Bs3:_ref3$scaleY,scaleColor=_ref3.scaleColor,children=_ref3.children,props=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(_ref3,_excluded),theme=(0,chsk_core_es.FgM)(),_useContainer=(0,chsk_core_es.uK4)(container),dimsProps=_useContainer.dimsProps,origin=_useContainer.origin,innerSize=_useContainer.innerSize,seriesIndexes=(0,react.useMemo)((function(){return(0,chsk_core_es.snp)(data)}),[data]),seriesIds=(0,react.useMemo)((function(){return data.map((function(item){return item.id}))}),[data]),disabled=(0,chsk_core_es.gKR)(seriesIds).disabled,processedData=(0,react.useMemo)((function(){return function processData(_ref){var data=_ref.data,x=_ref.x,y=_ref.y,_ref$valueColor=_ref.valueColor,valueColor=void 0===_ref$valueColor?null:_ref$valueColor;return data.map((function(seriesData,index){var d=seriesData.data;if((0,chsk_core_es.kJL)(d)){var getX=(0,chsk_core_es.wIU)(x),getY=(0,chsk_core_es.wIU)(y),getColor=valueColor?(0,chsk_core_es.wIU)(valueColor):null;return{id:seriesData.id,index,x:(0,chsk_core_es.FG_)(d.map((function(item){return getX(item)}))),y:(0,chsk_core_es.FG_)(d.map((function(item){return getY(item)}))),color:getColor?(0,chsk_core_es.FG_)(d.map((function(item){return getColor(item)}))):void 0}}var _getX=(0,chsk_core_es.wIU)(String(x)),_getY=(0,chsk_core_es.wIU)(String(y)),_getColor=valueColor?(0,chsk_core_es.wIU)(String(valueColor)):null;return{id:seriesData.id,index,x:(0,chsk_core_es.FG_)(_getX(d)),y:(0,chsk_core_es.FG_)(_getY(d)),color:_getColor?(0,chsk_core_es.FG_)(_getColor(d)):void 0}}))}({data,x,y,valueColor})}),[data,x,y,valueColor]),_useMemo=(0,react.useMemo)((function(){return(0,helpers.qe)(processedData,scaleX,scaleY,innerSize,Array(seriesIds.length).fill(!1))}),[processedData,scaleX,scaleY,innerSize,seriesIds]),xProps=_useMemo.x,yProps=_useMemo.y,colorProps=(0,react.useMemo)((function(){return(0,helpers.VF)(processedData,null!=scaleColor?scaleColor:theme.Colors.categorical,seriesIds)}),[processedData,scaleColor,theme,seriesIds]),scalesContextValue=(0,chsk_core_es.cT_)({x:xProps,y:yProps,color:colorProps}),preparedData=(0,react.useMemo)((function(){return prepareData({data,x,y,valueColor,scales:scalesContextValue.scales,binSize,disabled})}),[data,x,y,valueColor,scalesContextValue,binSize,disabled]);return(0,jsx_runtime.jsx)(chsk_core_es.PzT,_extends({variant:"density",position:origin,size:dimsProps.size,padding:dimsProps.padding,originalData:data,processedData,seriesIndexes,keys:seriesIds,scalesContextValue},props,{children:(0,jsx_runtime.jsx)(context.IO,{data:preparedData,binSize,seriesIndexes,keys:seriesIds,children:(0,jsx_runtime.jsx)(LazyMotion.X,{features:features_animation.H,children})})}))};Density.displayName="Density";try{Density.displayName="Density",Density.__docgenInfo={description:"",displayName:"Density",props:{binSize:{defaultValue:{value:"3"},description:"bin size",name:"binSize",required:!1,type:{name:"number"}},className:{defaultValue:null,description:"class string",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"css style",name:"style",required:!1,type:{name:"Partial<CSSProperties>"}},setRole:{defaultValue:null,description:"toggle role attribute in svg code",name:"setRole",required:!1,type:{name:"boolean"}},children:{defaultValue:null,description:"children",name:"children",required:!1,type:{name:"ReactNode"}},container:{defaultValue:null,description:"position and size for bounding container",name:"container",required:!1,type:{name:"ContainerProps"}},data:{defaultValue:null,description:"data",name:"data",required:!0,type:{name:"ScatterDataItem[]"}},x:{defaultValue:null,description:"extraction of x-axis values from raw data",name:"x",required:!0,type:{name:"string | AccessorFunction<number>"}},y:{defaultValue:null,description:"extraction of y-axis values from raw data",name:"y",required:!0,type:{name:"string | AccessorFunction<number>"}},scaleX:{defaultValue:null,description:"scale for horizontal axis",name:"scaleX",required:!1,type:{name:"ContinuousScaleSpec"}},scaleY:{defaultValue:null,description:"scale for vertical axis",name:"scaleY",required:!1,type:{name:"ContinuousScaleSpec"}},scaleColor:{defaultValue:null,description:"scale for colors",name:"scaleColor",required:!1,type:{name:"ColorScaleSpec"}},valueColor:{defaultValue:{value:"null"},description:"extraction of a value for color",name:"valueColor",required:!1,type:{name:"string | AccessorFunction<number> | null"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/xy/src/density/Density.tsx#Density"]={docgenInfo:Density.__docgenInfo,name:"Density",path:"packages/xy/src/density/Density.tsx#Density"})}catch(__react_docgen_typescript_loader_error){}},"./packages/xy/src/density/DensityCells.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{P:()=>DensityCells});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_chsk_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/core/dist/chsk-core.es.js"),_types__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/xy/src/density/types.ts"),_context__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/xy/src/density/context.tsx"),_DensitySimpleCell__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/xy/src/density/DensitySimpleCell.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js"),max=Math.max,alphaScale=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.nm0)({variant:"sqrt",domain:[0,1],size:1}),DensityCells=function DensityCells(_ref){var _ref$cell=_ref.cell,cell=void 0===_ref$cell?_DensitySimpleCell__WEBPACK_IMPORTED_MODULE_3__.o:_ref$cell,_ref$transparency=_ref.transparency,transparency=void 0===_ref$transparency||_ref$transparency,className=_ref.className,style=_ref.style,_ref$setRole=_ref.setRole,setRole=void 0===_ref$setRole||_ref$setRole,_useDensityPreparedDa=(0,_context__WEBPACK_IMPORTED_MODULE_4__.BJ)(),data=_useDensityPreparedDa.data,binSize=_useDensityPreparedDa.binSize,maxCount=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return data.reduce((function(acc,item){return max(acc,item[_types__WEBPACK_IMPORTED_MODULE_5__.z3])}),1)}),[data]),elements=data.map((function(item){var x=item[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.X],y=item[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Y],value=item[_types__WEBPACK_IMPORTED_MODULE_5__.z3],opacity=transparency||0===value?alphaScale(value/maxCount):1,fill=item[_types__WEBPACK_IMPORTED_MODULE_5__.vm];return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(cell,{key:x+"-"+y,value,x:x*binSize,y:y*binSize,width:binSize,height:binSize,className,style:{fill,opacity}})}));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("g",{role:setRole?"density-cells":void 0,style,children:elements})};DensityCells.displayName="DensityCells";try{DensityCells.displayName="DensityCells",DensityCells.__docgenInfo={description:"",displayName:"DensityCells",props:{cell:{defaultValue:{value:"({ value, x, y, width, height, ...props }: DensityCellProps) => {\n    if (value < 2) {\n        return <circle cx={x} cy={y} r={width / 2} {...props} />\n    }\n    return <rect x={x - width / 2} y={y - height / 2} width={width} height={height} {...props} />\n}"},description:"component used to draw a cell in the density map",name:"cell",required:!1,type:{name:"FC<DensityCellProps>"}},transparency:{defaultValue:{value:"true"},description:"use transparency proportional to cell count",name:"transparency",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"class string",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"css style",name:"style",required:!1,type:{name:"Partial<CSSProperties>"}},setRole:{defaultValue:{value:"true"},description:"toggle role attribute in svg code",name:"setRole",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/xy/src/density/DensityCells.tsx#DensityCells"]={docgenInfo:DensityCells.__docgenInfo,name:"DensityCells",path:"packages/xy/src/density/DensityCells.tsx#DensityCells"})}catch(__react_docgen_typescript_loader_error){}},"./packages/xy/src/density/DensitySimpleCell.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{o:()=>DensitySimpleCell});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js"),_excluded=["value","x","y","width","height"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}var DensitySimpleCell=function DensitySimpleCell(_ref){var value=_ref.value,x=_ref.x,y=_ref.y,width=_ref.width,height=_ref.height,props=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(_ref,_excluded);return value<2?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("circle",_extends({cx:x,cy:y,r:width/2},props)):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("rect",_extends({x:x-width/2,y:y-height/2,width,height},props))};DensitySimpleCell.displayName="DensitySimpleCell";try{DensitySimpleCell.displayName="DensitySimpleCell",DensitySimpleCell.__docgenInfo={description:"",displayName:"DensitySimpleCell",props:{value:{defaultValue:null,description:"data count",name:"value",required:!0,type:{name:"number"}},setRole:{defaultValue:null,description:"toggle role attribute in svg code",name:"setRole",required:!1,type:{name:"boolean"}},onMouseEnter:{defaultValue:null,description:"handler for mouse enter event",name:"onMouseEnter",required:!1,type:{name:"((event: MouseEvent<Element, MouseEvent>) => void)"}},onMouseMove:{defaultValue:null,description:"handler for mouse move event",name:"onMouseMove",required:!1,type:{name:"((event: MouseEvent<Element, MouseEvent>) => void)"}},onMouseLeave:{defaultValue:null,description:"handler for mouse leave event",name:"onMouseLeave",required:!1,type:{name:"((event: MouseEvent<Element, MouseEvent>) => void)"}},onClick:{defaultValue:null,description:"handler for click event",name:"onClick",required:!1,type:{name:"((event: MouseEvent<Element, MouseEvent>) => void)"}},className:{defaultValue:null,description:"class string",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"css style",name:"style",required:!1,type:{name:"Partial<CSSProperties>"}},x:{defaultValue:null,description:"x coordinate",name:"x",required:!0,type:{name:"number"}},y:{defaultValue:null,description:"y coordinate",name:"y",required:!0,type:{name:"number"}},width:{defaultValue:null,description:"width",name:"width",required:!0,type:{name:"number"}},height:{defaultValue:null,description:"height",name:"height",required:!0,type:{name:"number"}},transition:{defaultValue:null,description:"transition for animation",name:"transition",required:!1,type:{name:"TransitionProps"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/xy/src/density/DensitySimpleCell.tsx#DensitySimpleCell"]={docgenInfo:DensitySimpleCell.__docgenInfo,name:"DensitySimpleCell",path:"packages/xy/src/density/DensitySimpleCell.tsx#DensitySimpleCell"})}catch(__react_docgen_typescript_loader_error){}},"./packages/xy/src/density/context.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{BJ:()=>useDensityPreparedData,IO:()=>DensityPreparedDataProvider});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js"),DensityPreparedDataContext=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({data:[],binSize:1,seriesIndexes:{},keys:[]}),DensityPreparedDataProvider=function DensityPreparedDataProvider(_ref){var data=_ref.data,binSize=_ref.binSize,seriesIndexes=_ref.seriesIndexes,keys=_ref.keys,children=_ref.children,value=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return{data,binSize,seriesIndexes,keys}}),[data,binSize,seriesIndexes,keys]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(DensityPreparedDataContext.Provider,{value,children})};DensityPreparedDataProvider.displayName="DensityPreparedDataProvider";var useDensityPreparedData=function useDensityPreparedData(){return(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(DensityPreparedDataContext)};try{DensityPreparedDataProvider.displayName="DensityPreparedDataProvider",DensityPreparedDataProvider.__docgenInfo={description:"",displayName:"DensityPreparedDataProvider",props:{keys:{defaultValue:null,description:"list of keys",name:"keys",required:!0,type:{name:"string[]"}},seriesIndexes:{defaultValue:null,description:"map from series ids to indexes",name:"seriesIndexes",required:!0,type:{name:"Record<string, number>"}},binSize:{defaultValue:null,description:"bin size",name:"binSize",required:!0,type:{name:"number"}},data:{defaultValue:null,description:"data",name:"data",required:!0,type:{name:"DensityPreparedDataItem[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/xy/src/density/context.tsx#DensityPreparedDataProvider"]={docgenInfo:DensityPreparedDataProvider.__docgenInfo,name:"DensityPreparedDataProvider",path:"packages/xy/src/density/context.tsx#DensityPreparedDataProvider"})}catch(__react_docgen_typescript_loader_error){}},"./packages/xy/src/density/types.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Nj:()=>DENSITY_CONTENT,vm:()=>DENSITY_COLOR,z3:()=>DENSITY_COUNT});var DENSITY_COUNT=2,DENSITY_COLOR=3,DENSITY_CONTENT=4},"./packages/xy/src/scatter/helpers.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{C9:()=>useTargets,I_:()=>distanceY,Pu:()=>getSizeScaleProps,VF:()=>getColorScaleProps,pq:()=>useSymbolData,qe:()=>getXYScaleProps,sr:()=>distanceXY,uD:()=>distanceX});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_chsk_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/core/dist/chsk-core.es.js"),_predicates__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/xy/src/scatter/predicates.ts"),getXYScaleProps=function getXYScaleProps(data,scaleSpecX,scaleSpecY,size,disabled){var result={x:(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.BRZ)(scaleSpecX),y:(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.BRZ)(scaleSpecY)},filterDisabled=function filterDisabled(v,i){return!disabled[i]};if(!(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.HBl)(scaleSpecX)){var x=data.filter(filterDisabled).map((function(seriesData){return seriesData.x})).flat();result.x=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.zAC)(scaleSpecX,(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.FG_)(x))}if(!(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.HBl)(scaleSpecY)){var y=data.filter(filterDisabled).map((function(seriesData){return seriesData.y})).flat();result.y=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.zAC)(scaleSpecY,(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.FG_)(y))}return result.x.size=size[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.X],result.y.size=size[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.Y],result},getSizeScaleProps=function getSizeScaleProps(data,scaleSpec,maxSize){var maxDomain=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.Fp7)(data.map((function(seriesData){return seriesData.size})).flat());return"number"==typeof maxSize?(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__._C2)(scaleSpec,maxDomain,maxSize):(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__._C2)(scaleSpec,maxDomain,10)},getColorScaleProps=function getColorScaleProps(data,scaleSpec,seriesIds){if("categorical"===scaleSpec.variant)return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.NVB)(scaleSpec,seriesIds);var minmax=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.FG_)(data.map((function(seriesData){var _seriesData$color;return null!=(_seriesData$color=seriesData.color)?_seriesData$color:[]})).flat());return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.NVB)(scaleSpec,minmax)},useSymbolData=function useSymbolData(processedData,preparedData){return(0,_predicates__WEBPACK_IMPORTED_MODULE_2__.dI)(processedData)?(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return preparedData.keys.map((function(id){var seriesIndex=preparedData.seriesIndexes[id],seriesProcessedData=processedData[seriesIndex];return preparedData.data[seriesIndex].r.map((function(r,index){var _seriesProcessedData$;return{id,index,point:[seriesProcessedData.x[index],seriesProcessedData.y[index]],size:seriesProcessedData.size[index],color:null==(_seriesProcessedData$=seriesProcessedData.color)?void 0:_seriesProcessedData$[index]}}))}))}),[processedData,preparedData]):[]},distanceXY=function distanceXY(a,b){return Math.sqrt(Math.pow(a[0]-b[0],2)+Math.pow(a[1]-b[1],2))},distanceX=function distanceX(a,b){return Math.abs(a[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.X]-b[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.X])},distanceY=function distanceY(a,b){return Math.abs(a[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.Y]-b[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.Y])},useTargets=function useTargets(preparedData,disabledKeys){return(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){var result=[];return preparedData.keys.forEach((function(id){if(!disabledKeys.has(id)){var seriesIndex=preparedData.seriesIndexes[id],data=preparedData.data[seriesIndex];data.r.forEach((function(r,index){result.push([data.x[index],data.y[index],seriesIndex,index])}))}})),result}),[preparedData,disabledKeys])}},"./packages/xy/src/scatter/overlays.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{S:()=>createActiveSymbol,u:()=>createCrosshairLines});var _chsk_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/core/dist/chsk-core.es.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js"),createCrosshairLines=function createCrosshairLines(_ref){var visible=_ref.visible,coordinates=_ref.coordinates,size=_ref.size,style=_ref.style,setRole=_ref.setRole,className=_ref.className;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:[visible[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.X]?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_2__.x12,{variant:"crosshair",x1:coordinates[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.X],x2:coordinates[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.X],y1:0,y2:size[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Y],style,className,setRole},"x"):null,visible[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Y]?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_2__.x12,{variant:"crosshair",x1:0,x2:size[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.X],y1:coordinates[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Y],y2:coordinates[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Y],style,className,setRole},"y"):null]})},createActiveSymbol=function createActiveSymbol(_ref2){var _activeData$size,activeData=_ref2.activeData,coordinates=_ref2.coordinates,scales=_ref2.scales,seriesIndex=_ref2.seriesIndex,_ref2$dataComponent=_ref2.dataComponent,dataComponent=void 0===_ref2$dataComponent?_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Wnl:_ref2$dataComponent,_ref2$symbol=_ref2.symbol,symbol=void 0===_ref2$symbol?_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Cdc:_ref2$symbol,symbolStyle=_ref2.symbolStyle,symbolClassName=_ref2.symbolClassName,setRole=_ref2.setRole;if(void 0===activeData||void 0===activeData.point)return null;var scaleSize=scales.size;return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(dataComponent,{key:"active-"+seriesIndex+"-"+activeData.index,component:symbol,props:{variant:"active",cx:coordinates[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.X],cy:coordinates[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Y],r:scaleSize(null!=(_activeData$size=activeData.size)?_activeData$size:0),className:symbolClassName,style:(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.hIX)(symbolStyle,scales.color(seriesIndex)),setRole}})};try{createCrosshairLines.displayName="createCrosshairLines",createCrosshairLines.__docgenInfo={description:"",displayName:"createCrosshairLines",props:{visible:{defaultValue:null,description:"",name:"visible",required:!0,type:{name:"[boolean, boolean]"}},coordinates:{defaultValue:null,description:"",name:"coordinates",required:!0,type:{name:"[number, number]"}},size:{defaultValue:null,description:"",name:"size",required:!0,type:{name:"SizeSpec"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"Partial<CSSProperties>"}},setRole:{defaultValue:null,description:"",name:"setRole",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/xy/src/scatter/overlays.tsx#createCrosshairLines"]={docgenInfo:createCrosshairLines.__docgenInfo,name:"createCrosshairLines",path:"packages/xy/src/scatter/overlays.tsx#createCrosshairLines"})}catch(__react_docgen_typescript_loader_error){}try{createActiveSymbol.displayName="createActiveSymbol",createActiveSymbol.__docgenInfo={description:"",displayName:"createActiveSymbol",props:{symbol:{defaultValue:null,description:"symbol for individual data points",name:"symbol",required:!1,type:{name:"FC<SymbolProps>"}},setRole:{defaultValue:null,description:"toggle role attribute in svg code",name:"setRole",required:!1,type:{name:"boolean"}},dataComponent:{defaultValue:null,description:"function binding data to interactivity handlers",name:"dataComponent",required:!1,type:{name:"FC<DataComponentProps<ScatterInteractiveDataItem, SymbolProps>>"}},symbolStyle:{defaultValue:null,description:"style for data points",name:"symbolStyle",required:!1,type:{name:"Partial<CSSProperties>"}},symbolClassName:{defaultValue:null,description:"style class for data points",name:"symbolClassName",required:!1,type:{name:"string"}},activeData:{defaultValue:null,description:"",name:"activeData",required:!1,type:{name:"ScatterInteractiveDataItem"}},coordinates:{defaultValue:null,description:"",name:"coordinates",required:!0,type:{name:"NumericPositionSpec"}},scales:{defaultValue:null,description:"",name:"scales",required:!0,type:{name:"Scales"}},seriesIndex:{defaultValue:null,description:"",name:"seriesIndex",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/xy/src/scatter/overlays.tsx#createActiveSymbol"]={docgenInfo:createActiveSymbol.__docgenInfo,name:"createActiveSymbol",path:"packages/xy/src/scatter/overlays.tsx#createActiveSymbol"})}catch(__react_docgen_typescript_loader_error){}},"./packages/xy/src/scatter/predicates.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Bf:()=>isScatterData,Tc:()=>isScatterPreparedData,dI:()=>isScatterProcessedData});var isScatterProcessedData=function isScatterProcessedData(data){return data.map((function(item){return"object"==typeof item&&null!==item&&("id"in item&&"index"in item&&"x"in item&&"y"in item&&"size"in item)})).every(Boolean)},isScatterPreparedData=function isScatterPreparedData(data){return data.map((function(item){return"object"==typeof item&&null!==item&&("id"in item&&"index"in item&&"x"in item&&"y"in item&&"r"in item)})).every(Boolean)},isScatterData=function isScatterData(data){return data.map((function(item){return"id"in item&&"data"in item&&"object"==typeof item.data})).every(Boolean)}},"./packages/xy/stories/density/decorators.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{dQ:()=>ChartForCrosshairTooltipDecorator,hb:()=>ChartDensityDecorator,jc:()=>densityData,vB:()=>ChartCellDecorator,ww:()=>ChartForCrosshairDecorator});var _chsk_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/core/dist/chsk-core.es.js"),_src__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/xy/src/density/Density.tsx"),_src__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/xy/src/density/DensityCells.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js"),densityData=function generateDensityData(ids,n,round){return void 0===round&&(round=2),ids.map((function(id,i){var series={id},indexes=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.w6H)(n[i]),x=Math.random(),y=Math.random();return series.data={x:indexes.map((function(){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.DJC)(x+Math.random(),round)})),y:indexes.map((function(){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.DJC)(y+Math.random(),round)})),c:indexes.map((function(){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.DJC)(Math.abs(Math.random()),round)}))},series}))}(["alpha","beta"],[180,120]),ChartCellDecorator=function ChartCellDecorator(Story){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_1__.kL2,{size:[400,160],padding:[40,40,40,40],style:{display:"inline-block"},children:Story()})};ChartCellDecorator.displayName="ChartCellDecorator";var ChartDensityDecorator=function ChartDensityDecorator(Story){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_1__.kL2,{size:[400,300],padding:[40,140,60,60],style:{display:"inline-block"},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_src__WEBPACK_IMPORTED_MODULE_2__.A,{data:densityData,x:"x",y:"y",binSize:20,scaleX:{variant:"linear",domain:[0,"auto"]},scaleY:{variant:"linear",domain:[0,"auto"]},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_1__.RDh,{variant:"bottom",label:"x (a.u.)"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_1__.RDh,{variant:"left",label:"y (a.u.)"}),Story(),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_1__.DeQ,{position:[230,60],anchor:[0,.5],positionUnits:"absolute",title:"Groups"})]})})};ChartDensityDecorator.displayName="ChartDensityDecorator";var ChartForCrosshairDecorator=function ChartForCrosshairDecorator(Story){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_1__.kL2,{size:[400,300],padding:[40,60,60,60],style:{display:"inline-block"},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_src__WEBPACK_IMPORTED_MODULE_2__.A,{data:densityData,x:"x",y:"y",binSize:20,scaleX:{variant:"linear",domain:[0,"auto"]},scaleY:{variant:"linear",domain:[0,"auto"]},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_1__.RDh,{variant:"bottom",label:"x (a.u.)"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_1__.RDh,{variant:"left",label:"y (a.u.)"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_src__WEBPACK_IMPORTED_MODULE_3__.P,{}),Story()]})})};ChartForCrosshairDecorator.displayName="ChartForCrosshairDecorator";var ChartForCrosshairTooltipDecorator=function ChartForCrosshairTooltipDecorator(Story){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_1__.kL2,{size:[400,300],padding:[40,60,60,60],style:{display:"inline-block"},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_src__WEBPACK_IMPORTED_MODULE_2__.A,{data:densityData,x:"x",y:"y",binSize:20,scaleX:{variant:"linear",domain:[0,"auto"]},scaleY:{variant:"linear",domain:[0,"auto"]},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_1__.RDh,{variant:"bottom",label:"x (a.u.)"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_1__.RDh,{variant:"left",label:"y (a.u.)"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_src__WEBPACK_IMPORTED_MODULE_3__.P,{}),Story(),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_1__.ua7,{itemSize:[120,25]})]})})};ChartForCrosshairTooltipDecorator.displayName="ChartForCrosshairTooltipDecorator";try{ChartCellDecorator.displayName="ChartCellDecorator",ChartCellDecorator.__docgenInfo={description:"",displayName:"ChartCellDecorator",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/xy/stories/density/decorators.tsx#ChartCellDecorator"]={docgenInfo:ChartCellDecorator.__docgenInfo,name:"ChartCellDecorator",path:"packages/xy/stories/density/decorators.tsx#ChartCellDecorator"})}catch(__react_docgen_typescript_loader_error){}try{ChartDensityDecorator.displayName="ChartDensityDecorator",ChartDensityDecorator.__docgenInfo={description:"",displayName:"ChartDensityDecorator",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/xy/stories/density/decorators.tsx#ChartDensityDecorator"]={docgenInfo:ChartDensityDecorator.__docgenInfo,name:"ChartDensityDecorator",path:"packages/xy/stories/density/decorators.tsx#ChartDensityDecorator"})}catch(__react_docgen_typescript_loader_error){}try{ChartForCrosshairDecorator.displayName="ChartForCrosshairDecorator",ChartForCrosshairDecorator.__docgenInfo={description:"",displayName:"ChartForCrosshairDecorator",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/xy/stories/density/decorators.tsx#ChartForCrosshairDecorator"]={docgenInfo:ChartForCrosshairDecorator.__docgenInfo,name:"ChartForCrosshairDecorator",path:"packages/xy/stories/density/decorators.tsx#ChartForCrosshairDecorator"})}catch(__react_docgen_typescript_loader_error){}try{ChartForCrosshairTooltipDecorator.displayName="ChartForCrosshairTooltipDecorator",ChartForCrosshairTooltipDecorator.__docgenInfo={description:"",displayName:"ChartForCrosshairTooltipDecorator",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/xy/stories/density/decorators.tsx#ChartForCrosshairTooltipDecorator"]={docgenInfo:ChartForCrosshairTooltipDecorator.__docgenInfo,name:"ChartForCrosshairTooltipDecorator",path:"packages/xy/stories/density/decorators.tsx#ChartForCrosshairTooltipDecorator"})}catch(__react_docgen_typescript_loader_error){}},"./packages/xy/stories/density/DensityCrosshair.mdx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/react/index.js");var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js"),_storybook_addon_essentials_docs_mdx_react_shim__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@mdx-js/react/lib/index.js"),_storybook_blocks__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@storybook/blocks/dist/index.mjs"),_DensityCrosshair_stories__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/xy/stories/density/DensityCrosshair.stories.tsx");function _createMdxContent(props){const _components=Object.assign({h1:"h1",p:"p",code:"code",h2:"h2"},(0,_storybook_addon_essentials_docs_mdx_react_shim__WEBPACK_IMPORTED_MODULE_2__.ah)(),props.components);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.h1,{id:"densitycrosshair",children:"DensityCrosshair"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_storybook_blocks__WEBPACK_IMPORTED_MODULE_3__.h_,{of:_DensityCrosshair_stories__WEBPACK_IMPORTED_MODULE_4__}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.p,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"DensityCrosshair"})," detects mouse motion and draws crosshair lines to highlight a nearby data point."]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_storybook_blocks__WEBPACK_IMPORTED_MODULE_3__.Ed,{of:_DensityCrosshair_stories__WEBPACK_IMPORTED_MODULE_4__}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.h2,{id:"variants",children:"Variants"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.p,{children:["The default ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"DensityCrosshair"})," component tracks the mouse pointer and\nfinds the nearest cell using the Euclidean metric in two dimensions."]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_storybook_blocks__WEBPACK_IMPORTED_MODULE_3__.Xz,{of:_DensityCrosshair_stories__WEBPACK_IMPORTED_MODULE_4__.Default}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.p,{children:["Prop ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"variant"})," changes the calculation of nearest data point.\nVariants ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"x"})," and ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"y"})," use only the horizontal and vertical positions, respectively."]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.h2,{id:"custom-symbol",children:"Custom symbol"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.p,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"DensityCrosshair"})," displays a symbol on top of the density map to represent the active cell.\nThis symbol can be tuned with prop ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"Symbol"})," and other props with prefix ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"symbol"}),"."]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_storybook_blocks__WEBPACK_IMPORTED_MODULE_3__.Xz,{of:_DensityCrosshair_stories__WEBPACK_IMPORTED_MODULE_4__.CustomSymbol}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.h2,{id:"tooltip",children:"Tooltip"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.p,{children:"The crosshair component automatically sets data for the tooltip context."}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_storybook_blocks__WEBPACK_IMPORTED_MODULE_3__.Xz,{of:_DensityCrosshair_stories__WEBPACK_IMPORTED_MODULE_4__.Tooltip})]})}const __WEBPACK_DEFAULT_EXPORT__=function MDXContent(props={}){const{wrapper:MDXLayout}=Object.assign({},(0,_storybook_addon_essentials_docs_mdx_react_shim__WEBPACK_IMPORTED_MODULE_2__.ah)(),props.components);return MDXLayout?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(MDXLayout,Object.assign({},props,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_createMdxContent,props)})):_createMdxContent(props)}}}]);