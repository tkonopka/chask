"use strict";(self.webpackChunkchsk=self.webpackChunkchsk||[]).push([[7669],{"./packages/xy/dist/chsk-xy.es.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{AM:()=>Density,BJ:()=>useDensityPreparedData,Bf:()=>isScatterData,DP:()=>useScatterPreparedData,Ew:()=>ScatterErrors,FX:()=>Regression,LY:()=>HistogramCurve,PR:()=>DensityCells,ST:()=>ScatterLabel,V2:()=>ScatterInterval,XG:()=>ScatterCrosshair,b5:()=>Histogram,bp:()=>Scatter,cG:()=>ScatterPoints,dA:()=>HistogramArea,dI:()=>isScatterProcessedData,gv:()=>DensityCrosshair,l5:()=>ScatterSelectedLabels,nC:()=>ScatterSeries,nr:()=>ScatterCurve,pP:()=>HistogramBars,tA:()=>isHistogramData,z3:()=>ke});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js"),framer_motion__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/framer-motion/dist/es/components/LazyMotion/index.mjs"),framer_motion__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/framer-motion/dist/es/render/dom/features-animation.mjs"),_chsk_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/core/dist/chsk-core.es.js"),lodash_debounce__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/lodash/debounce.js"),lodash_debounce__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(lodash_debounce__WEBPACK_IMPORTED_MODULE_2__),Ne=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({data:[],binSize:1,seriesIndexes:{},keys:[]}),DensityPreparedDataProvider=function DensityPreparedDataProvider(e){var t=e.data,r=e.binSize,a=e.seriesIndexes,o=e.keys,i=e.children,l=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return{data:t,binSize:r,seriesIndexes:a,keys:o}}),[t,r,a,o]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Ne.Provider,{value:l,children:i})},useDensityPreparedData=function useDensityPreparedData(){return(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(Ne)};function _extends(){return _extends=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},_extends.apply(this,arguments)}function _objectWithoutPropertiesLoose(e,n){if(null==e)return{};var t,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}var isScatterProcessedData=function isScatterProcessedData(e){return e.map((function(e){return"object"==typeof e&&null!==e&&"id"in e&&"index"in e&&"x"in e&&"y"in e&&"size"in e})).every(Boolean)},isScatterData=function isScatterData(e){return e.map((function(e){return"id"in e&&"data"in e&&"object"==typeof e.data})).every(Boolean)},getXYScaleProps=function getXYScaleProps(e,n,t,r,a){var o={x:(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.BRZ)(n),y:(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.BRZ)(t)},filterDisabled=function filterDisabled(e,n){return!a[n]};if(!(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.HBl)(n)){var i=e.filter(filterDisabled).map((function(e){return e.x})).flat();o.x=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.zAC)(n,(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.FG_)(i))}if(!(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.HBl)(t)){var s=e.filter(filterDisabled).map((function(e){return e.y})).flat();o.y=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.zAC)(t,(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.FG_)(s))}return o.x.size=r[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X],o.y.size=r[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y],o},getColorScaleProps=function getColorScaleProps(e,n,t){if("categorical"===n.variant)return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.NVB)(n,t);var r=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.FG_)(e.map((function(e){var n;return null!=(n=e.color)?n:[]})).flat());return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.NVB)(n,r)},useSymbolData=function useSymbolData(e,t){return isScatterProcessedData(e)?(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return t.keys.map((function(n){var r=t.seriesIndexes[n],a=e[r];return t.data[r].r.map((function(e,t){var r;return{id:n,index:t,point:[a.x[t],a.y[t]],size:a.size[t],color:null==(r=a.color)?void 0:r[t]}}))}))}),[e,t]):[]},distanceXY=function distanceXY(e,n){return Math.sqrt(Math.pow(e[0]-n[0],2)+Math.pow(e[1]-n[1],2))},distanceX=function distanceX(e,n){return Math.abs(e[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]-n[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X])},distanceY=function distanceY(e,n){return Math.abs(e[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]-n[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y])},ke=2;function define(e,n,t){e.prototype=n.prototype=t,t.constructor=e}function extend(e,n){var t=Object.create(e.prototype);for(var r in n)t[r]=n[r];return t}function Color(){}var Se=1/.7,ze="\\s*([+-]?\\d+)\\s*",Ie="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Le="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",$e=/^#([0-9a-f]{3,8})$/,je=new RegExp("^rgb\\("+ze+","+ze+","+ze+"\\)$"),He=new RegExp("^rgb\\("+Le+","+Le+","+Le+"\\)$"),Pe=new RegExp("^rgba\\("+ze+","+ze+","+ze+","+Ie+"\\)$"),De=new RegExp("^rgba\\("+Le+","+Le+","+Le+","+Ie+"\\)$"),We=new RegExp("^hsl\\("+Ie+","+Le+","+Le+"\\)$"),Ee=new RegExp("^hsla\\("+Ie+","+Le+","+Le+","+Ie+"\\)$"),Oe={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function color_formatHex(){return this.rgb().formatHex()}function color_formatRgb(){return this.rgb().formatRgb()}function color(e){var n,t;return e=(e+"").trim().toLowerCase(),(n=$e.exec(e))?(t=n[1].length,n=parseInt(n[1],16),6===t?rgbn(n):3===t?new Rgb(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===t?rgba(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===t?rgba(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=je.exec(e))?new Rgb(n[1],n[2],n[3],1):(n=He.exec(e))?new Rgb(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=Pe.exec(e))?rgba(n[1],n[2],n[3],n[4]):(n=De.exec(e))?rgba(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=We.exec(e))?hsla(n[1],n[2]/100,n[3]/100,1):(n=Ee.exec(e))?hsla(n[1],n[2]/100,n[3]/100,n[4]):Oe.hasOwnProperty(e)?rgbn(Oe[e]):"transparent"===e?new Rgb(NaN,NaN,NaN,0):null}function rgbn(e){return new Rgb(e>>16&255,e>>8&255,255&e,1)}function rgba(e,n,t,r){return r<=0&&(e=n=t=NaN),new Rgb(e,n,t,r)}function rgbConvert(e){return e instanceof Color||(e=color(e)),e?new Rgb((e=e.rgb()).r,e.g,e.b,e.opacity):new Rgb}function Rgb(e,n,t,r){this.r=+e,this.g=+n,this.b=+t,this.opacity=+r}function rgb_formatHex(){return"#"+hex(this.r)+hex(this.g)+hex(this.b)}function rgb_formatRgb(){var e=clampa(this.opacity);return(1===e?"rgb(":"rgba(")+clampi(this.r)+", "+clampi(this.g)+", "+clampi(this.b)+(1===e?")":", "+e+")")}function clampa(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function clampi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function hex(e){return((e=clampi(e))<16?"0":"")+e.toString(16)}function hsla(e,n,t,r){return r<=0?e=n=t=NaN:t<=0||t>=1?e=n=NaN:n<=0&&(e=NaN),new Hsl(e,n,t,r)}function hslConvert(e){if(e instanceof Hsl)return new Hsl(e.h,e.s,e.l,e.opacity);if(e instanceof Color||(e=color(e)),!e)return new Hsl;if(e instanceof Hsl)return e;var n=(e=e.rgb()).r/255,t=e.g/255,r=e.b/255,a=Math.min(n,t,r),o=Math.max(n,t,r),i=NaN,s=o-a,l=(o+a)/2;return s?(i=n===o?(t-r)/s+6*(t<r):t===o?(r-n)/s+2:(n-t)/s+4,s/=l<.5?o+a:2-o-a,i*=60):s=l>0&&l<1?0:i,new Hsl(i,s,l,e.opacity)}function Hsl(e,n,t,r){this.h=+e,this.s=+n,this.l=+t,this.opacity=+r}function clamph(e){return(e=(e||0)%360)<0?e+360:e}function clampt(e){return Math.max(0,Math.min(1,e||0))}function hsl2rgb(e,n,t){return 255*(e<60?n+(t-n)*e/60:e<180?t:e<240?n+(t-n)*(240-e)/60:n)}define(Color,color,{copy:function copy(e){return Object.assign(new this.constructor,this,e)},displayable:function displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHex8:function formatHex8(){return this.rgb().formatHex8()},formatHsl:function formatHsl(){return hslConvert(this).formatHsl()},formatRgb:color_formatRgb,toString:color_formatRgb}),define(Rgb,(function(e,n,t,r){return 1===arguments.length?rgbConvert(e):new Rgb(e,n,t,null==r?1:r)}),extend(Color,{brighter:function brighter(e){return e=null==e?Se:Math.pow(Se,e),new Rgb(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function darker(e){return e=null==e?.7:Math.pow(.7,e),new Rgb(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function rgb(){return this},clamp:function clamp(){return new Rgb(clampi(this.r),clampi(this.g),clampi(this.b),clampa(this.opacity))},displayable:function displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatHex8:function formatHex8(){return"#"+hex(this.r)+hex(this.g)+hex(this.b)+hex(255*(isNaN(this.opacity)?1:this.opacity))},formatRgb:rgb_formatRgb,toString:rgb_formatRgb})),define(Hsl,(function(e,n,t,r){return 1===arguments.length?hslConvert(e):new Hsl(e,n,t,null==r?1:r)}),extend(Color,{brighter:function brighter(e){return e=null==e?Se:Math.pow(Se,e),new Hsl(this.h,this.s,this.l*e,this.opacity)},darker:function darker(e){return e=null==e?.7:Math.pow(.7,e),new Hsl(this.h,this.s,this.l*e,this.opacity)},rgb:function rgb(){var e=this.h%360+360*(this.h<0),n=isNaN(e)||isNaN(this.s)?0:this.s,t=this.l,r=t+(t<.5?t:1-t)*n,a=2*t-r;return new Rgb(hsl2rgb(e>=240?e-240:e+120,a,r),hsl2rgb(e,a,r),hsl2rgb(e<120?e+240:e-120,a,r),this.opacity)},clamp:function clamp(){return new Hsl(clamph(this.h),clampt(this.s),clampt(this.l),clampa(this.opacity))},displayable:function displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function formatHsl(){var e=clampa(this.opacity);return(1===e?"hsl(":"hsla(")+clamph(this.h)+", "+100*clampt(this.s)+"%, "+100*clampt(this.l)+"%"+(1===e?")":", "+e+")")}}));var Be=Math.PI/180,Ae=180/Math.PI,qe=.96422,Fe=1,Ke=.82521,Xe=4/29,Ye=6/29,Ve=3*Ye*Ye,Ue=Ye*Ye*Ye;function labConvert(e){if(e instanceof Lab)return new Lab(e.l,e.a,e.b,e.opacity);if(e instanceof Hcl)return hcl2lab(e);e instanceof Rgb||(e=rgbConvert(e));var n,t,r=rgb2lrgb(e.r),a=rgb2lrgb(e.g),o=rgb2lrgb(e.b),i=xyz2lab((.2225045*r+.7168786*a+.0606169*o)/Fe);return r===a&&a===o?n=t=i:(n=xyz2lab((.4360747*r+.3850649*a+.1430804*o)/qe),t=xyz2lab((.0139322*r+.0971045*a+.7141733*o)/Ke)),new Lab(116*i-16,500*(n-i),200*(i-t),e.opacity)}function lab(e,n,t,r){return 1===arguments.length?labConvert(e):new Lab(e,n,t,null==r?1:r)}function Lab(e,n,t,r){this.l=+e,this.a=+n,this.b=+t,this.opacity=+r}function xyz2lab(e){return e>Ue?Math.pow(e,1/3):e/Ve+Xe}function lab2xyz(e){return e>Ye?e*e*e:Ve*(e-Xe)}function lrgb2rgb(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function rgb2lrgb(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Hcl(e,n,t,r){this.h=+e,this.c=+n,this.l=+t,this.opacity=+r}function hcl2lab(e){if(isNaN(e.h))return new Lab(e.l,0,0,e.opacity);var n=e.h*Be;return new Lab(e.l,Math.cos(n)*e.c,Math.sin(n)*e.c,e.opacity)}define(Lab,lab,extend(Color,{brighter:function brighter(e){return new Lab(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker:function darker(e){return new Lab(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function rgb(){var e=(this.l+16)/116,n=isNaN(this.a)?e:e+this.a/500,t=isNaN(this.b)?e:e-this.b/200;return new Rgb(lrgb2rgb(3.1338561*(n=qe*lab2xyz(n))-1.6168667*(e=Fe*lab2xyz(e))-.4906146*(t=Ke*lab2xyz(t))),lrgb2rgb(-.9787684*n+1.9161415*e+.033454*t),lrgb2rgb(.0719453*n-.2289914*e+1.4052427*t),this.opacity)}})),define(Hcl,(function(e,n,t,r){return 1===arguments.length?function(e){if(e instanceof Hcl)return new Hcl(e.h,e.c,e.l,e.opacity);if(e instanceof Lab||(e=labConvert(e)),0===e.a&&0===e.b)return new Hcl(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var n=Math.atan2(e.b,e.a)*Ae;return new Hcl(n<0?n+360:n,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}(e):new Hcl(e,n,t,null==r?1:r)}),extend(Color,{brighter:function brighter(e){return new Hcl(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker:function darker(e){return new Hcl(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb:function rgb(){return hcl2lab(this).rgb()}}));var Ge=Math.round,Je=["container","data","x","y","valueColor","binSize","scaleX","scaleY","scaleColor","children"],Density=function Density(e){var t=e.container,r=void 0===t?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.WdC:t,a=e.data,o=e.x,i=e.y,l=e.valueColor,c=void 0===l?null:l,v=e.binSize,f=void 0===v?3:v,p=e.scaleX,h=void 0===p?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Bs3:p,y=e.scaleY,b=void 0===y?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Bs3:y,x=e.scaleColor,g=e.children,R=_objectWithoutPropertiesLoose(e,Je),$=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.FgM)(),j=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.uK4)(r),H=j.dimsProps,P=j.origin,D=j.innerSize,W=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.snp)(a)}),[a]),E=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return a.map((function(e){return e.id}))}),[a]),O=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.gKR)(E).disabled,B=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return function(e){var t=e.x,r=e.y,a=e.valueColor,o=void 0===a?null:a;return e.data.map((function(e,n){var a=e.data;if((0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.kJL)(a)){var i=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIU)(t),s=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIU)(r),l=o?(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIU)(o):null;return{id:e.id,index:n,x:(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.FG_)(a.map((function(e){return i(e)}))),y:(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.FG_)(a.map((function(e){return s(e)}))),color:l?(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.FG_)(a.map((function(e){return l(e)}))):void 0}}var c=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIU)(String(t)),u=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIU)(String(r)),d=o?(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIU)(String(o)):null;return{id:e.id,index:n,x:(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.FG_)(c(a)),y:(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.FG_)(u(a)),color:d?(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.FG_)(d(a)):void 0}}))}({data:a,x:o,y:i,valueColor:c})}),[a,o,i,c]),A=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return getXYScaleProps(B,h,b,D,Array(E.length).fill(!1))}),[B,h,b,D,E]),q=A.x,F=A.y,K=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return getColorScaleProps(B,null!=x?x:$.Colors.categorical,E)}),[B,x,$,E]),X=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.cT_)({x:q,y:F,color:K}),Y=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return function prepareData$2(e){var n=e.data,t=e.x,r=e.y,a=e.valueColor,o=void 0===a?null:a,i=e.scales,s=e.binSize,l=e.disabled,c=i.x,u=i.y,d=i.color,v={},f=new Set;return n.forEach((function(e,n){var a,i,d,p=e.data,h=l[n]?0:1;if((0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.kJL)(p)){var m=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIU)(t),y=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIU)(r),b=o?(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIU)(o):null;a=p.map((function(e){return m(e)})),i=p.map((function(e){return y(e)})),d=b?p.map((function(e){return b(e)})):Array(a.length).fill(n)}else{var x=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIU)(String(t)),g=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIU)(String(r)),R=o?(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIU)(String(o)):null;a=x(p),i=g(p),d=R?R(p):Array(a.length).fill(n)}a.forEach((function(e,n){var t=Ge(c(e)/s),r=Ge(u(i[n])/s),a=t+","+r;f.has(a)||(f.add(a),v[a]=[t,r,0,"",[]]),h&&(v[a][2]+=1,v[a][4].push(d[n]))}))})),Object.values(v).map((function(e){return e[3]=function(e,n){for(var t=e.length,r=0,a=0,o=0,i=0;i<t;){for(var s=e[i],l=1;i+l<t&&e[i+l]==s;)l+=1;var c=lab(n(s));r+=l*c.l,a+=l*c.a,o+=l*c.b,i+=l}return lab(r/t,a/t,o/t).formatHex()}(e[4],d),e})).sort((function(e,n){return e[2]-n[2]}))}({data:a,x:o,y:i,valueColor:c,scales:X.scales,binSize:f,disabled:O})}),[a,o,i,c,X,f,O]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.PzT,_extends({variant:"density",position:P,size:H.size,padding:H.padding,originalData:a,processedData:B,seriesIndexes:W,keys:E,scalesContextValue:X},R,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(DensityPreparedDataProvider,{data:Y,binSize:f,seriesIndexes:W,keys:E,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(framer_motion__WEBPACK_IMPORTED_MODULE_4__.X,{features:framer_motion__WEBPACK_IMPORTED_MODULE_5__.H,children:g})})}))},Te=["value","x","y","width","height"],DensitySimpleCell=function DensitySimpleCell(e){var n=e.value,t=e.x,r=e.y,a=e.width,o=e.height,i=_objectWithoutPropertiesLoose(e,Te);return n<2?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("circle",_extends({cx:t,cy:r,r:a/2},i)):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("rect",_extends({x:t-a/2,y:r-o/2,width:a,height:o},i))},Ze=Math.max,en=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.nm0)({variant:"sqrt",domain:[0,1],size:1}),DensityCells=function DensityCells(e){var t=e.cell,a=void 0===t?DensitySimpleCell:t,o=e.transparency,i=void 0===o||o,l=e.className,c=e.style,u=e.setRole,d=void 0===u||u,v=useDensityPreparedData(),f=v.data,p=v.binSize,h=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return f.reduce((function(e,n){return Ze(e,n[2])}),1)}),[f]),m=f.map((function(e){var n=e[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X],t=e[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y],o=e[2],s=i||0===o?en(o/h):1,c=e[3];return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(a,{key:n+"-"+t,value:o,x:n*p,y:t*p,width:p,height:p,className:l,style:{fill:c,opacity:s}})}));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("g",{role:d?"density-cells":void 0,style:c,children:m})},createCrosshairLines=function createCrosshairLines(e){var n=e.visible,t=e.coordinates,r=e.size,a=e.style,o=e.setRole,i=e.className;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:[n[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.x12,{variant:"crosshair",x1:t[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X],x2:t[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X],y1:0,y2:r[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y],style:a,className:i,setRole:o},"x"):null,n[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.x12,{variant:"crosshair",x1:0,x2:r[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X],y1:t[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y],y2:t[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y],style:a,className:i,setRole:o},"y"):null]})},createActiveSymbol=function createActiveSymbol(e){var n,t=e.activeData,a=e.coordinates,o=e.scales,i=e.seriesIndex,s=e.dataComponent,l=void 0===s?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Wnl:s,c=e.symbol,u=void 0===c?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Cdc:c,d=e.symbolStyle,v=e.symbolClassName,f=e.setRole;if(void 0===t||void 0===t.point)return null;var p=o.size;return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(l,{key:"active-"+i+"-"+t.index,component:u,props:{variant:"active",cx:a[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X],cy:a[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y],r:p(null!=(n=t.size)?n:0),className:v,style:(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.hIX)(d,o.color(i)),setRole:f}})},nn=["variant","expansion","symbol","symbolR","symbolStyle","symbolClassName","minDistance","visible","className","style","setRole","dataComponent"],createTooltipDataItems=function createTooltipDataItems(e,n){var t=e.data[4];if(!(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.FBg)(n))return[{id:e.id,label:"count "+e.count,color:e.color,data:(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.J69)(t)}];var r={};t.map((function(e){var n=String(e);n in r||(r[n]=0),r[n]+=1}));for(var a=[],o=n.domain().map(String),i=0,s=Object.entries(r);i<s.length;i++){var l=s[i],c=l[0],u=l[1];a.push({id:o[Number(c)],color:n(Number(c)),label:o[Number(c)]+": "+u,data:u})}return a},DensityCrosshair=function DensityCrosshair(e){var n=e.variant,t=void 0===n?"xy":n,c=e.expansion,u=e.symbol,d=void 0===u?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.bK0:u,v=e.symbolR,f=e.symbolStyle,p=e.symbolClassName,h=e.minDistance,m=e.visible,x=e.className,g=e.style,R=e.setRole,w=void 0===R||R,N=e.dataComponent,k=void 0===N?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Wnl:N,C=_objectWithoutPropertiesLoose(e,nn),M=useDensityPreparedData(),_=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.kE1)().scales,S=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Bs9)().size,z=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),I=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(void 0),L=I[0],$=I[1],j=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.lLG)().setData,X=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({}),Y=X[0],U=X[1],G=M.binSize,J=c||[G,G,G,G],Q=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(e){var n;null==(n=C.handlers)||null==n.onClick||n.onClick(L,e)}),[L,C.handlers]),T=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(e){var n,t,r;null==(n=C.handlers)||null==n.onMouseLeave||n.onMouseLeave(L,e),$(void 0),j({}),U(null!=(t=null==(r=C.modifiers)?void 0:r.onMouseLeave)?t:{})}),[$,j,C.handlers]),Z=M.data,ee="xy"===t?distanceXY:"x"===t?distanceX:distanceY,ne=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(e){var n,t,r,a;if(z&&z.current){var o=z.current.getBoundingClientRect(),i=o.x,s=o.y,l=[e.clientX-i-J[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.RLj],e.clientY-s-J[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.GSB]],c=[l[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]/G,l[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]/G],u=Z.map((function(e){return ee(e,c)})),d=u.reduce((function(e,n,t){return n<e[0]?[n,t]:e}),[u[0],0]);if(h&&d[0]>h/G)T(e);else{var v=Z[null!=(n=d[1])?n:0];if(!L||L.bins[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]!=v[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]||L.bins[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]!==v[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]){var f=function(e){return{id:e[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]+","+e[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y],bins:[e[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X],e[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]],data:e,count:e[2],color:e[3]}}(v);$(f),j({x:v[0]*G,y:v[1]*G,title:f.bins[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]+", "+f.bins[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y],data:createTooltipDataItems(f,_.color)}),U(null!=(t=null==(r=C.modifiers)?void 0:r.onMouseEnter)?t:{}),null==(a=C.handlers)||null==a.onMouseEnter||a.onMouseEnter(f,e)}}}}),[L,$,j,Z]),te=lodash_debounce__WEBPACK_IMPORTED_MODULE_2___default()(ne,10,{leading:!0}),re=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("rect",{ref:z,role:w?"crosshair-detector":void 0,x:-J[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.RLj],y:-J[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.GSB],width:S[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]+J[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.RLj]+J[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.pXp],height:S[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]+J[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.GSB]+J[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.DaS],style:_extends({},Y,{opacity:0}),onMouseMove:te,onMouseLeave:T,onClick:Q}),ae=void 0!==L?[L.bins[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]*G,L.bins[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]*G]:[NaN,NaN],oe=function(e){var n=e.activeData,t=e.coordinates,a=e.dataComponent,o=void 0===a?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Wnl:a,i=e.symbol,s=void 0===i?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Cdc:i,l=e.symbolR,c=e.symbolStyle,u=e.symbolClassName,d=e.setRole;return void 0===n?null:(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(o,{key:"active-"+n.bins[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]+"-"+n.bins[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y],component:s,props:{variant:"active",cx:t[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X],cy:t[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y],r:l,className:u,style:(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.hIX)(c,n.color),setRole:d}})}({activeData:L,coordinates:ae,dataComponent:k,symbol:d,symbolR:null!=v?v:G/2,symbolStyle:f,symbolClassName:p,setRole:w}),ie=createCrosshairLines({visible:null!=m?m:[!0,!0],size:S,coordinates:ae,style:g,className:x,setRole:w});return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)("g",{role:w?"density-crosshair":void 0,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.JjT,{role:w?"crosshair-presence":void 0,visible:void 0!==L,firstRender:!1,children:[ie,oe]},"crosshair"),re]})},tn=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({data:[],seriesIndexes:{},keys:[]}),HistogramPreparedDataProvider=function HistogramPreparedDataProvider(e){var t=e.data,r=e.seriesIndexes,a=e.keys,o=e.children,i=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return{data:t,seriesIndexes:r,keys:a}}),[t]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(tn.Provider,{value:i,children:o})},useHistogramPreparedData=function useHistogramPreparedData(){return(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(tn)},isHistogramProcessedData=function isHistogramProcessedData(e){return e.map((function(e){return"object"==typeof e&&null!==e&&"id"in e&&"index"in e&&"points"in e})).every(Boolean)},isHistogramData=function isHistogramData(e){return e.map((function(e){return"id"in e&&"data"in e&&Array.isArray(e.data)})).every(Boolean)},rn=["variant","container","data","breaks","scaleX","scaleY","scaleColor","autoRescale","children"],Histogram=function Histogram(e){var t=e.variant,r=void 0===t?"count":t,a=e.container,o=void 0===a?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.WdC:a,i=e.data,l=e.breaks,c=e.scaleX,v=void 0===c?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Bs3:c,x=e.scaleY,g=void 0===x?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Bs3:x,S=e.scaleColor,z=e.autoRescale,$=void 0===z||z,j=e.children,H=_objectWithoutPropertiesLoose(e,rn),P=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.FgM)(),D=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.uK4)(o),W=D.dimsProps,E=D.origin,O=D.innerSize,B=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.snp)(i)}),[i]),A=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return i.map((function(e){return e.id}))}),[i]),q=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.gKR)(A).disabled,F=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return Array.isArray(l)?l:function getBreaksArray(e,n){var t=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.FG_)(e.map((function(e){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.FG_)(e.data)})).flat());return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Sye)(t,n)}(i,l)}),[i,l]),K=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return function(e,n,t){return e.map((function(e,r){var a=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Gi7)(e.data),o=a[0],i=a[1],s=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.NYs)(e.data,n,t);return{id:e.id,index:r,points:(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.LM9)(s,n),breaks:n,n:e.data.length,mean:o,sd:Math.sqrt(i)}}))}(i,F,"density"===r)}),[i,F,r]),X=function(e,n,t,r,a){var o={x:(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.BRZ)(n),y:(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.BRZ)(t)},filterDisabled=function filterDisabled(e,n){return!a[n]};if(!(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.HBl)(n)){var i=e.filter(filterDisabled).map((function(e){return e.points.map((function(e){return e[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]}))})).flat();o.x=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.zAC)(n,(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.FG_)(i))}if(!(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.HBl)(t)){var s=e.filter(filterDisabled).map((function(e){return e.points.map((function(e){return e[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]}))})).flat();o.y=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.zAC)(t,(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.FG_)(s))}return o.x.size=r[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X],o.y.size=r[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y],o}(K,v,g,O,$?q:Array(A.length).fill(!1)),Y=X.x,V=X.y,U=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.NVB)(null!=S?S:P.Colors.categorical,A),T=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.cT_)({x:Y,y:V,color:U}),Z=T.scales,ee=K.map((function(e){return function(e,n,t){return{id:e.id,index:e.index,points:e.points.map((function(e){return[n(e[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]),t(e[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y])]})),breaks:e.breaks,n:e.n}}(e,Z.x,Z.y)}));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.PzT,_extends({variant:"histogram",position:E,size:W.size,padding:W.padding,originalData:i,processedData:K,seriesIndexes:B,keys:A,scalesContextValue:T},H,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(HistogramPreparedDataProvider,{data:ee,seriesIndexes:B,keys:A,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(framer_motion__WEBPACK_IMPORTED_MODULE_4__.X,{features:framer_motion__WEBPACK_IMPORTED_MODULE_5__.H,children:j})})}))},an=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({data:[],seriesIndexes:{},keys:[]}),ScatterPreparedDataProvider=function ScatterPreparedDataProvider(e){var t=e.data,r=e.seriesIndexes,a=e.keys,o=e.children,i=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return{data:t,seriesIndexes:r,keys:a}}),[t,r,a]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(an.Provider,{value:i,children:o})},useScatterPreparedData=function useScatterPreparedData(){return(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(an)},downsample=function downsample(e,n,t){void 0===t&&(t=0);var r=e.length,a=e.map((function(e,t){return Math.floor(t*n)}));return a.map((function(e,n){return n+t<r&&(0===n||e!=a[n-1])?n:void 0})).filter((function(e){return void 0!==e})).map((function(n){return e[n+t]}))},curvePoints=function curvePoints(e){var n=e.x,t=e.y,r=e.convolutionMask,a=e.convolutionOffset,o=void 0===a?0:a,i=e.downsampleFactor,s=void 0===i?1:i,l=e.downsampleIndex,c=void 0===l?0:l,u=r?r.length-1:0,d=n.slice(u+o,n.length+o),v=(r?function(e,n,t){void 0===t&&(t=!0);for(var r,a,o=t?(a=(r=n).reduce((function(e,n){return e+n}),0),r.map((function(e){return e/a}))):[].concat(n),i=o.length,s=e.length+o.length-1,l=Array(s).fill(0),c=0;c<s;c+=1){for(var u=0,d=0;d<i;d++){var v;u+=(null!=(v=e[c-d])?v:0)*o[d]}l[c]=u}return l}(t,r):t).slice(u,n.length),f=1===s,p=f?d:downsample(d,s,c),h=f?v:downsample(v,s,c);return p.map((function(e,n){return[e,h[n]]}))},on=["ids","baseline","curve","convolutionMask","convolutionOffset","downsampleFactor","downsampleIndex","style","className","setRole","dataComponent"],getAreaD=function getAreaD(e){var n,t=e.points,r=e.scaleY,a=e.baseline,o=e.curve,i=r(null!=a?a:r.domain()[0]),s=t.map((function(e){return[e[0],e[1],i]}));return null!=(n=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.DmD)(o)(s))?n:""},ScatterArea=function ScatterArea(e){var t=e.ids,a=e.baseline,o=e.curve,i=void 0===o?"Linear":o,l=e.convolutionMask,u=e.convolutionOffset,d=e.downsampleFactor,v=e.downsampleIndex,f=e.style,p=e.className,h=e.setRole,m=void 0===h||h,y=e.dataComponent,b=void 0===y?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Aj5:y,x=_objectWithoutPropertiesLoose(e,on),g=useScatterPreparedData(),R=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.kE1)().scales,w=R.y,N=R.color,k=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.gKR)(),M=k.disabledKeys,_=k.firstRender;if(!(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.z0X)(w))return null;var S={};g.keys.map((function(e){var t=g.seriesIndexes[e],r=g.data[t];S[e]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return getAreaD({points:curvePoints({x:r.x,y:r.y,convolutionMask:l,convolutionOffset:u,downsampleFactor:d,downsampleIndex:v}),curve:i,scaleY:w,baseline:a})}),[t,g,i,w,a,l,u,d,v])}));var z=(null!=t?t:g.keys).map((function(e){var n=!M.has(e),t=g.seriesIndexes[e];if(void 0===t)return null;var a=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.hIX)(f,N(t)),o=(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(b,_extends({data:{id:e},component:_chsk_core__WEBPACK_IMPORTED_MODULE_3__.y$t,props:{variant:"scatter-area",d:S[e],setRole:m,style:a,className:p}},x));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.JjT,{role:m?"scatter-area-presence":void 0,visible:n,firstRender:_,children:o},"area-"+t)}));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:z.filter(Boolean)})},sn=["ids","curve","style","setRole","dataComponent"],HistogramArea=function HistogramArea(e){var t=e.ids,a=e.curve,o=void 0===a?"MonotoneX":a,i=e.style,l=e.setRole,u=void 0===l||l,d=e.dataComponent,v=void 0===d?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Aj5:d,f=_objectWithoutPropertiesLoose(e,sn),p=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIO)().data,h=useHistogramPreparedData(),m=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.kE1)().scales,y=m.y,b=m.color,x=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.gKR)(),g=x.disabledKeys,R=x.firstRender;if(!(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.z0X)(y))return null;if(!isHistogramProcessedData(p))return null;var w={};h.keys.map((function(e){var t=h.seriesIndexes[e];w[e]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return getAreaD({points:h.data[t].points,curve:o,scaleY:y,baseline:0})}),[t,h,o,y])}));var N=(null!=t?t:h.keys).map((function(e){var n=h.seriesIndexes[e];if(void 0===n)return null;var t=!g.has(e),a=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.hIX)(i,b(n)),o=(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(v,_extends({data:p[n],component:_chsk_core__WEBPACK_IMPORTED_MODULE_3__.y$t,props:{variant:"histogram-area",d:w[e],setRole:u,style:a}},f));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.JjT,{role:u?"histogram-area-presence":void 0,visible:t,firstRender:R,children:o},"area-"+n)}));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:N.filter(Boolean)})},ln=["ids","component","style","className","setRole","dataComponent"],HistogramBars=function HistogramBars(e){var t=e.ids,a=e.component,o=void 0===a?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.AeJ:a,i=e.style,l=e.className,u=e.setRole,d=void 0===u||u,v=e.dataComponent,f=void 0===v?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Aj5:v,p=_objectWithoutPropertiesLoose(e,ln),h=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIO)().data,m=useHistogramPreparedData(),x=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.kE1)().scales,g=x.y,R=x.color,w=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.gKR)(),N=w.disabledKeys,k=w.firstRender;if(!(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.z0X)(g))return null;if(!isHistogramProcessedData(h))return null;var M=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return m.keys.map((function(e,n){var t=R(n);return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.hIX)(i,t)}))}),[m,i,R]),_=g(0),S=(null!=t?t:m.keys).map((function(e){var n=m.seriesIndexes[e];if(void 0===n)return null;var t=!N.has(e),a=m.data[n].points,i=a.length,c=a.map((function(e,t){if(0===t||t===i-1)return null;var s=a[t-1],c=a[t+1],u=(e[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]-s[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X])*(1===t?1:.5),v=u+(c[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]-e[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X])*(t===i-2?1:.5),m=e[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]-_;return 0===v||0===m?null:(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(f,_extends({key:"bar-"+n+"-"+t,component:o,data:_extends({},h[n],{bin:t}),props:{x:e[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]-u,y:_,width:v,height:m,className:l,style:M[n],variant:"histogram-bar",setRole:d}},p))})).filter(Boolean);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.JjT,{role:d?"histogram-bars-presence":void 0,visible:t,firstRender:k,children:c},"bars-"+n)}));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:S.filter(Boolean)})},cn=["ids","curve","style","setRole","dataComponent"],HistogramCurve=function HistogramCurve(e){var n=e.ids,t=e.curve,a=void 0===t?"MonotoneX":t,o=e.style,i=e.setRole,l=void 0===i||i,u=e.dataComponent,d=void 0===u?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Aj5:u,v=_objectWithoutPropertiesLoose(e,cn),f=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIO)().data,p=useHistogramPreparedData(),h=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.kE1)().scales.color,m=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.gKR)(),y=m.disabledKeys,b=m.firstRender;if(!isHistogramProcessedData(f))return null;var x=(null!=n?n:p.keys).map((function(e){var n=!y.has(e),t=p.seriesIndexes[e];if(void 0===t)return null;var i=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.hIX)(o,h(t));i.fill=void 0;var c=(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(d,_extends({data:f[t],component:_chsk_core__WEBPACK_IMPORTED_MODULE_3__.y$t,props:{variant:"histogram-curve",points:p.data[t].points,curve:a,style:i,setRole:l}},v));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.JjT,{role:l?"histogram-curve-presence":void 0,visible:n,firstRender:b,children:c},"curve-"+t)}));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:x.filter(Boolean)})},defaultScatterTooltipFormat=function defaultScatterTooltipFormat(e){return String(e.index)+(e.point?" ("+e.point[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]+", "+e.point[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]+")":"")},dn=["ids","style","className","setRole","dataComponent"],vn=["ids","style","className","setRole","dataComponent"],fn=["variant","ids","style","className","setRole","dataComponent"],regression=function regression(e,n){var t=e.length,r=0,a=0,o=0,i=0;e.forEach((function(e,t){r+=e,a+=n[t],o+=e*n[t],i+=e*e}));var s=r*r-t*i;return[(o*r-a*i)/s,(a*r-o*t)/s]},getRegressionLineCoordinates=function getRegressionLineCoordinates(e,n){return[[e[0],n[0]+e[0]*n[1]],[e[1],n[0]+e[1]*n[1]]]},PooledRegression=function PooledRegression(e){var t=e.ids,a=e.style,o=e.className,i=e.setRole,l=e.dataComponent,c=void 0===l?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Aj5:l,u=_objectWithoutPropertiesLoose(e,dn),d=useScatterPreparedData(),v=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.gKR)(),f=v.disabledKeys,p=v.firstRender,h=null!=t?t:d.keys,x=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){var e=[],n=[];if(h.forEach((function(t){var r=d.seriesIndexes[t];void 0!==r&&(f.has(t)||(e=e.concat(d.data[r].x),n=n.concat(d.data[r].y)))})),0===e.length)return null;var t=regression(e,n);return getRegressionLineCoordinates((0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.FG_)(e),t)}),[d,t]);if(null===x)return null;var g=(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(c,_extends({data:{id:h.join(" "),ids:h,variant:"pooled"},component:_chsk_core__WEBPACK_IMPORTED_MODULE_3__.x12,props:{x1:x[0][_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X],x2:x[1][_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X],y1:x[0][_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y],y2:x[1][_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y],variant:"regression",className:o,style:a,setRole:i}},u));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.JjT,{role:"regression-presence",firstRender:p,children:g})},IndividualRegression=function IndividualRegression(e){var t=e.ids,a=e.style,o=e.className,i=e.setRole,l=e.dataComponent,u=void 0===l?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Aj5:l,d=_objectWithoutPropertiesLoose(e,vn),v=useScatterPreparedData(),f=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.kE1)().scales.color,p=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.gKR)(),h=p.disabledKeys,x=p.firstRender,g=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){var e={};return v.keys.map((function(n,t){e[n]=regression(v.data[t].x,v.data[t].y)})),e}),[v]),R=(null!=t?t:v.keys).map((function(e){var n=v.seriesIndexes[e];if(void 0===n)return null;if(h.has(e))return null;if(g[e].some(isNaN))return null;var t=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.hIX)(a,f(n));t.fill=void 0;var l=getRegressionLineCoordinates((0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.FG_)(v.data[n].x),g[e]),c=(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(u,_extends({data:{id:e,ids:[e],variant:"series"},component:_chsk_core__WEBPACK_IMPORTED_MODULE_3__.x12,props:{x1:l[0][_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X],x2:l[1][_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X],y1:l[0][_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y],y2:l[1][_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y],variant:"regression",className:o,style:t,setRole:i}},d));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.JjT,{role:"regression-presence",firstRender:x,children:c},"regression-"+n)}));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:R.filter(Boolean)})},Regression=function Regression(e){var n=e.variant,t=void 0===n?"series":n,r=e.ids,a=e.style,o=e.className,i=e.setRole,s=e.dataComponent,l=void 0===s?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Aj5:s,c=_objectWithoutPropertiesLoose(e,fn);return("series"===t?IndividualRegression:PooledRegression)(_extends({ids:r,style:a,className:o,setRole:i,dataComponent:l},c))},pn=["container","data","x","y","k","valueColor","valueSize","scaleX","scaleY","scaleColor","scaleSize","autoRescale","children"],Scatter=function Scatter(e){var t=e.container,r=void 0===t?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.WdC:t,a=e.data,o=e.x,i=e.y,l=e.k,c=e.valueColor,v=void 0===c?null:c,f=e.valueSize,p=void 0===f?5:f,h=e.scaleX,m=void 0===h?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Bs3:h,y=e.scaleY,b=void 0===y?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Bs3:y,R=e.scaleColor,S=e.scaleSize,$=void 0===S?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Ooi:S,j=e.autoRescale,H=void 0===j||j,P=e.children,D=_objectWithoutPropertiesLoose(e,pn),W=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.FgM)(),E=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.uK4)(r),O=E.dimsProps,B=E.origin,A=E.innerSize,q=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.snp)(a)}),[a]),F=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return a.map((function(e){return e.id}))}),[a]),K=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.gKR)(F).disabled,X=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return function(e){var t=e.x,r=e.y,a=e.k,o=e.valueSize,i=void 0===o?5:o,s=e.valueColor,l=void 0===s?null:s;return e.data.map((function(e,n){var o=e.data;if(Array.isArray(o)){var s=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIU)(t),c=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIU)(r),u=a?(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIU)(a):void 0,d=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.hAO)(i),v=l?(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIU)(l):null;return{id:e.id,index:n,k:u?o.map((function(e){return u(e)})):(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.w6H)(o.length),x:o.map((function(e){return s(e)})),y:o.map((function(e){return c(e)})),size:o.map((function(e){return d(e)})),color:v?o.map((function(e){return v(e)})):void 0}}var f=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIU)(String(t)),p=f(o).length,h=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIU)(String(r)),m=a?(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIU)(String(a)):void 0,y=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.hj$)(i)?function(){return Array(p).fill(i)}:(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIU)(String(i)),b=l?(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIU)(String(l)):null;return{id:e.id,index:n,k:m?m(o):(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.w6H)(f(o).length),x:f(o),y:h(o),size:y(o),color:b?b(o):void 0}}))}({data:a,x:o,y:i,k:l,valueSize:p,valueColor:v})}),[a,o,i,l,p,v]),Y=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return getXYScaleProps(X,m,b,A,H?K:Array(F.length).fill(!1))}),[X,m,b,A,K,H,F]),V=Y.x,U=Y.y,G=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){var e=getColorScaleProps(X,null!=R?R:W.Colors.categorical,F),n=function(e,n,t){var r=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Fp7)(e.map((function(e){return e.size})).flat());return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__._C2)(n,r,"number"==typeof t?t:10)}(X,$,p);return{colorProps:e,sizeProps:n}}),[X,R,$,W,p,F]),J=G.colorProps,Q=G.sizeProps,T=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.cT_)({x:V,y:U,color:J,size:Q}),Z=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return function(e,n){var t=n.x,r=n.y,a=n.size,o=n.color;return e.map((function(e){return{id:e.id,index:e.index,x:e.x.map((function(e){return t(e)})),y:e.y.map((function(e){return r(e)})),r:e.size.map((function(e){return a(e)})),color:e.color?e.color.map((function(e){return o(e)})):void 0}}))}(X,T.scales)}),[X,T]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.PzT,_extends({variant:"scatter",position:B,size:O.size,padding:O.padding,originalData:a,processedData:X,seriesIndexes:q,keys:F,scalesContextValue:T},D,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(ScatterPreparedDataProvider,{data:Z,seriesIndexes:q,keys:F,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(framer_motion__WEBPACK_IMPORTED_MODULE_4__.X,{features:framer_motion__WEBPACK_IMPORTED_MODULE_5__.H,children:P})})}))},hn=["variant","expansion","symbol","symbolStyle","symbolClassName","minDistance","tooltipFormat","visible","className","style","setRole","dataComponent"],ScatterCrosshair=function ScatterCrosshair(e){var t,r=e.variant,c=void 0===r?"xy":r,u=e.expansion,d=e.symbol,v=void 0===d?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Cdc:d,f=e.symbolStyle,p=e.symbolClassName,h=e.minDistance,m=e.tooltipFormat,x=void 0===m?defaultScatterTooltipFormat:m,g=e.visible,R=e.className,w=e.style,N=e.setRole,k=void 0===N||N,M=e.dataComponent,_=void 0===M?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Wnl:M,z=_objectWithoutPropertiesLoose(e,hn),I=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.W3B)().data,L=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIO)().data,$=useScatterPreparedData(),j=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Bs9)().size,H=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.kE1)().scales,X=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.gKR)().disabledKeys,Y=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),V=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(void 0),U=V[0],G=V[1],J=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.lLG)().setData,Q=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({}),T=Q[0],Z=Q[1];if(!isScatterProcessedData(L))return null;if(!isScatterData(I))return null;var ee=u||[0,0,0,0],ne=useSymbolData(L,$),re=function(e,t){return(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){var n=[];return e.keys.forEach((function(r){if(!t.has(r)){var a=e.seriesIndexes[r],o=e.data[a];o.r.forEach((function(e,t){n.push([o.x[t],o.y[t],a,t])}))}})),n}),[e,t])}($,X),ae=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(e){var n;null==(n=z.handlers)||null==n.onClick||n.onClick(U,e)}),[U,z.handlers]),oe=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(e){var n,t,r;null==(n=z.handlers)||null==n.onMouseLeave||n.onMouseLeave(U,e),G(void 0),J({}),Z(null!=(t=null==(r=z.modifiers)?void 0:r.onMouseLeave)?t:{})}),[G,J,z.handlers]),ie="xy"===c?distanceXY:"x"===c?distanceX:distanceY,se=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(e){var n,t,r,a;if(Y&&Y.current){var o=Y.current.getBoundingClientRect(),i=o.x,s=o.y,l=[e.clientX-i-ee[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.RLj],e.clientY-s-ee[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.GSB]],c=re.map((function(e){return ie(e,l)})),u=c.reduce((function(e,n,t){return n<e[0]?[n,t]:e}),[c[0],0]);if(h&&u[0]>h)oe(e);else{var d=re[null!=(n=u[1])?n:0],v=d[2],f=L[v],p=d[3];if(!U||U.id!==f.id||U.index!==p){var m=I[v].data,y=_extends({},ne[v][p],{key:f.id,original:(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.kJL)(m)?m[p]:{}}),b=_extends({},y,{label:x(y)});G(b),J({x:d[0],y:d[1],title:b.id,data:[b]}),Z(null!=(t=null==(r=z.modifiers)?void 0:r.onMouseEnter)?t:{}),null==(a=z.handlers)||null==a.onMouseEnter||a.onMouseEnter(y,e)}}}}),[U,G,J,re,L]),ce=lodash_debounce__WEBPACK_IMPORTED_MODULE_2___default()(se,10,{leading:!0}),ue=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("rect",{ref:Y,role:k?"crosshair-detector":void 0,x:-ee[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.RLj],y:-ee[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.GSB],width:j[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]+ee[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.RLj]+ee[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.pXp],height:j[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]+ee[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.GSB]+ee[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.DaS],style:_extends({},T,{opacity:0}),onMouseMove:ce,onMouseLeave:oe,onClick:ae}),de=H.x,ve=H.y,fe=void 0!==U&&void 0!==U.point?[de(U.point[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]),ve(U.point[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y])]:[NaN,NaN],pe=$.seriesIndexes[null!=(t=null==U?void 0:U.id)?t:""],he=createActiveSymbol({activeData:U,coordinates:fe,scales:H,seriesIndex:pe,dataComponent:_,symbol:v,symbolStyle:f,symbolClassName:p,setRole:k}),me=createCrosshairLines({visible:null!=g?g:[!0,!0],size:j,coordinates:fe,style:w,className:R,setRole:k});return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)("g",{role:k?"scatter-crosshair":void 0,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.JjT,{role:k?"crosshair-presence":void 0,visible:void 0!==U,firstRender:!1,children:[me,he]},"crosshair"),ue]})},mn=["ids","curve","convolutionMask","convolutionOffset","downsampleFactor","downsampleIndex","style","className","setRole","dataComponent"],ScatterCurve=function ScatterCurve(e){var n=e.ids,t=e.curve,a=void 0===t?"Linear":t,o=e.convolutionMask,i=e.convolutionOffset,l=e.downsampleFactor,u=e.downsampleIndex,d=e.style,v=e.className,f=e.setRole,p=void 0===f||f,h=e.dataComponent,m=void 0===h?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.oKN:h,y=_objectWithoutPropertiesLoose(e,mn),b=useScatterPreparedData(),x=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.kE1)().scales.color,g=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.gKR)(),R=g.disabledKeys,w=g.firstRender,N=(null!=n?n:b.keys).map((function(e){var n=!R.has(e),t=b.seriesIndexes[e];if(void 0===t)return null;var c=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.hIX)(d,x(t));c.fill=void 0;var f=b.data[t],h=curvePoints({x:f.x,y:f.y,convolutionMask:o,convolutionOffset:i,downsampleFactor:l,downsampleIndex:u}),g=(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(m,_extends({data:{id:e},component:_chsk_core__WEBPACK_IMPORTED_MODULE_3__.y$t,props:{points:h,curve:a,variant:"scatter-curve",className:v,style:c,setRole:p}},y));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.JjT,{role:p?"scatter-curve-presence":void 0,visible:n,firstRender:w,children:g},"curve-"+t)}));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:N.filter(Boolean)})},yn=["variant","lower","upper","capWidth","className","style","setRole"],ScatterErrorBar=function ScatterErrorBar(e){var n=e.variant,t=e.lower,r=e.upper,a=e.capWidth,o=void 0===a?0:a,i=e.className,c=e.style,u=e.setRole,d=_objectWithoutPropertiesLoose(e,yn),v="x"===n?[0,o/2]:[o/2,0],f={style:c,className:i,setRole:!1},p=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.x12,_extends({x1:t[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X],y1:t[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y],x2:r[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X],y2:r[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]},f),"line"),h=o>0?[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.x12,_extends({x1:t[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]-v[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X],x2:t[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]+v[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X],y1:t[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]-v[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y],y2:t[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]+v[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]},f),"lower-cap"),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.x12,_extends({x1:r[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]-v[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X],x2:r[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]+v[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X],y1:r[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]-v[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y],y2:r[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]+v[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]},f),"upper-cap")]:null;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)("g",_extends({role:u?"error-bar":void 0},d,{children:[p,h]}))},bn=["variant","ids","lower","upper","capWidth","style","className","setRole","component","dataComponent"],ScatterErrors=function ScatterErrors(e){var t=e.variant,a=void 0===t?"y":t,o=e.ids,i=e.lower,l=e.upper,u=e.capWidth,d=e.style,v=e.className,f=e.setRole,p=void 0===f||f,h=e.component,m=void 0===h?ScatterErrorBar:h,y=e.dataComponent,b=void 0===y?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Wnl:y,x=_objectWithoutPropertiesLoose(e,bn),g=useScatterPreparedData(),R=g.data,w=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.W3B)().data,N=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.kE1)().scales,k=N.x,M=N.y,_=N.color,I=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.gKR)(),L=I.disabledKeys,$=I.firstRender;if(!((0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.z0X)(k)&&(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.z0X)(M)&&function isScatterPreparedData(e){return e.map((function(e){return"object"==typeof e&&null!==e&&"id"in e&&"index"in e&&"x"in e&&"y"in e&&"r"in e})).every(Boolean)}(R)&&isScatterData(w)))return null;var j=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return R.map((function(e,n){return function(e){var n,t,r=e.variant,a=e.rawData,o=e.seriesData,i=e.scale,s=e.lower,l=e.upper;if((0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.kJL)(a)){var c=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIU)(s),u=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIU)(l);n=a.map((function(e){return i(c(e))})),t=a.map((function(e){return i(u(e))}))}else{var d=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIU)(String(s)),v=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIU)(String(l));n=d(a).map((function(e){return i(e)})),t=v(a).map((function(e){return i(e)}))}var f="y"===r?o.x:o.y,p="y"===r?function(e){return e}:function(e){return[e[1],e[0]]};return n.map((function(e,n){return{lower:p([f[n],e]),upper:p([f[n],t[n]])}}))}({variant:a,rawData:w[n].data,seriesData:e,scale:"y"===a?M:k,lower:i,upper:l})}))}),[a,R,w,k,M,i,l]),D=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.gjB)("scatter-errors",v),E=(null!=o?o:g.keys).map((function(e){var n=!L.has(e),t=g.seriesIndexes[e];if(void 0===t)return null;var o=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.hIX)(d,_(t)),i=j[t].map((function(n,t){return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(b,_extends({key:"error-"+e+"-"+t,data:{id:e,index:t},component:m,props:{variant:a,lower:n.lower,upper:n.upper,capWidth:u,setRole:p,style:o,className:D}},x))}));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.JjT,{role:p?"scatter-errors":void 0,visible:n,firstRender:$,children:i},"errors-"+e)}));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:E.filter(Boolean)})},xn=["ids","lower","upper","convolutionMask","convolutionOffset","downsampleFactor","downsampleIndex","curve","style","className","setRole","dataComponent"],ScatterInterval=function ScatterInterval(e){var t=e.ids,a=e.lower,o=e.upper,i=e.convolutionMask,l=e.convolutionOffset,u=e.downsampleFactor,d=e.downsampleIndex,v=e.curve,f=void 0===v?"Linear":v,p=e.style,h=e.className,m=e.setRole,x=void 0===m||m,g=e.dataComponent,R=void 0===g?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Aj5:g,w=_objectWithoutPropertiesLoose(e,xn),N=useScatterPreparedData(),k=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.W3B)(),M=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.kE1)().scales,_=M.y,S=M.color,I=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.gKR)(),L=I.disabledKeys,$=I.firstRender;if(!(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.z0X)(_))return null;var j={convolutionMask:i,convolutionOffset:l,downsampleFactor:u,downsampleIndex:d},P=(null!=t?t:N.keys).map((function(e){var t=!L.has(e),i=N.seriesIndexes[e];if(void 0===i)return null;var l=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.hIX)(p,S(i)),c=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return function(e){var n,t=e.seriesIndex,r=e.rawData,a=e.preparedData,o=e.yScale,i=e.lower,s=e.upper,l=e.curve,c=e.convolutionMask,u=e.convolutionOffset,d=e.downsampleFactor,v=e.downsampleIndex,f=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIU)(i),p=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIU)(s),h=r.data[t].data,m=h.map((function(e){return o(f(e))})),x=h.map((function(e){return o(p(e))})),g=a.data[t].x,R={convolutionMask:c,convolutionOffset:u,downsampleFactor:d,downsampleIndex:v},w=curvePoints(_extends({x:g,y:m},R)),N=curvePoints(_extends({x:g,y:x},R)),k=w.map((function(e,n){return[e[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X],e[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y],N[n][_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]]}));return null!=(n=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.DmD)(l)(k))?n:""}(_extends({seriesIndex:i,rawData:k,preparedData:N,yScale:_,lower:a,upper:o,curve:f},j))}),[i,k,N,_,a,o,f]),u=(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(R,_extends({data:{id:e},component:_chsk_core__WEBPACK_IMPORTED_MODULE_3__.y$t,props:{variant:"scatter-interval",d:c,setRole:x,style:l,className:h}},w));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.JjT,{role:x?"scatter-interval-presence":void 0,visible:t,firstRender:$,children:u},"interval-"+i)}));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:P.filter(Boolean)})},gn=["variant","id","position","positionUnits","angle","autoRotate","component","className","setRole","children"],ScatterLabel=function ScatterLabel(e){var n,t=e.variant,a=void 0===t?"xy":t,o=e.id,i=e.position,l=void 0===i?[0,0]:i,c=e.positionUnits,u=void 0===c?"relative":c,d=e.angle,v=void 0===d?0:d,f=e.autoRotate,p=void 0!==f&&f,h=e.component,m=void 0===h?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.__J:h,y=e.className,b=e.setRole,x=void 0===b||b,g=e.children,R=_objectWithoutPropertiesLoose(e,gn),w=useScatterPreparedData(),N=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.kE1)().scales,k=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Bs9)().size,M=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.gKR)(),_=M.disabledKeys,S=M.firstRender,z=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.gjB)("scatter-label",y);o=null!=(n=o)?n:w.keys[0];var I=!_.has(o),L=w.seriesIndexes[o],$=w.data[L];if(void 0===L||0===$.x.length)return null;var j=function(e,n,t){if(1===n.x.length)return 0;var r=0,a=t(e,[n.x[r],n.y[r]]);return n.x.forEach((function(o,i){var s=t(e,[o,n.y[i]]);s<a&&(a=s,r=i)})),r}((0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.eE7)(l,u,k,N),$,"xy"===a?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.bIQ:"x"===a?distanceX:distanceY),H=[$.x[j],$.y[j]];if(p){var P=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.oqW)(j-1,0,$.x.length),D=[$.x[P],$.y[P]],O=(D[1]-H[1])/(D[0]-H[0]);v=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.BVy)(Math.atan(O))*(D[0]>H[0]?-1:1),v=Number.isNaN(v)?0:v,H=[(H[0]+D[0])/2,(H[1]+D[1])/2]}var B=(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(m,_extends({position:H,angle:v,className:z,setRole:x},R),g);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.JjT,{role:x?"scatter-label":void 0,visible:I,firstRender:S,children:B})},Rn=["ids","symbol","symbolStyle","symbolClassName","dataComponent","setRole"],ScatterPoints=function ScatterPoints(e){var n=e.ids,t=e.symbol,a=void 0===t?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Cdc:t,o=e.symbolStyle,i=e.symbolClassName,l=e.dataComponent,u=void 0===l?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Aj5:l,d=e.setRole,v=void 0===d||d,f=_objectWithoutPropertiesLoose(e,Rn),p=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIO)().data,h=useScatterPreparedData(),m=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.kE1)().scales.color,y=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.gKR)(),b=y.disabledKeys,x=y.firstRender;if(!isScatterProcessedData(p))return null;var g=useSymbolData(p,h),R=(null!=n?n:h.keys).map((function(e){var n=!b.has(e),t=h.seriesIndexes[e];if(void 0===t)return null;var l=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.hIX)(o,m(t)),c=h.data[t],d=c.x,y=c.y,R=p[t].k,w=c.color,N=n?c.r.map((function(e,n){return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(u,_extends({key:R[n],data:g[t][n],component:a,props:{cx:d[n],cy:y[n],r:e,className:i,style:w?(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.hIX)(o,w[n]):l,setRole:!1}},f))})):null;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.JjT,{role:v?"scatter-points":void 0,visible:n,firstRender:x,children:N},"points-"+t)}));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:R.filter(Boolean)})},wn=["ids","baseline","layers","curve","symbol","areaStyle","curveStyle","symbolStyle"],ScatterSeries=function ScatterSeries(e){var n=e.ids,t=e.baseline,r=void 0===t?0:t,a=e.layers,o=void 0===a?["area","curve","points"]:a,i=e.curve,l=void 0===i?"Linear":i,u=e.symbol,d=e.areaStyle,v=e.curveStyle,f=e.symbolStyle,p=_extends({curve:l},_objectWithoutPropertiesLoose(e,wn)),h=o.map((function(e){return"points"===e?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(ScatterPoints,_extends({ids:n},p,{symbol:u,symbolStyle:f}),"points"):"curve"===e?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(ScatterCurve,_extends({ids:n},p,{style:v}),"curve"):"area"===e?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(ScatterArea,_extends({ids:n},p,{baseline:r,style:d}),"area"):void 0}));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:h.filter(Boolean)})},Nn=[0,0],blockObject=function blockObject(e,n,t){var r=[e[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X],e[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y],-1,-1,0];return n?(r[2]=n[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X],r[3]=n[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y],r[4]=void 0===t?(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.KOy)(n)/2:t,r):(r[4]=Number(t),r)},computeDisplacement=function computeDisplacement(e,n,t,r){var a=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Jpm)(e.slice(0,2),n.slice(0,2)),o=Math.abs(e[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]-n[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]),i=Math.abs(e[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]-n[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]),s=[0,0];if(e[2]>=0&&n[2]>=0)s[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]=e[2]/2+n[2]/2+Math.abs(t*Math.cos(a))-o,s[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]=e[3]/2+n[3]/2+Math.abs(t*Math.sin(a))-i;else if(e[2]>=0)s[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]=e[2]/2+n[4]+Math.abs(t*Math.cos(a))-o,s[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]=e[3]/2+n[4]+Math.abs(t*Math.sin(a))-i;else{var l=Math.sqrt((0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.bIQ)(e.slice(0,2),n.slice(0,2)));s[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]=e[4]+n[4]+t-l,s[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]=s[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]}var c=[0,0];if(r>0){if(s[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]<=0||s[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]<=0)return Nn;c[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]=-(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.UYe)(s[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]),c[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]=-(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.UYe)(s[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y])}else c[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]=-(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.UYe)(r*s[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]),c[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]=-(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.UYe)(r*s[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]);return[r*c[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]*Math.cos(a),r*c[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]*Math.sin(a)]},getPointPosition=function getPointPosition(e,n,t){var r=t.seriesIndexes[e],a=t.data[r];return{position:[a.x[n],a.y[n]],r:a.r[n]}},ScatterSelectedLabels=function ScatterSelectedLabels(e){var t=e.data,a=e.component,o=void 0===a?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.__J:a,i=e.anchor,c=void 0===i?[.5,.5]:i,u=e.offset,d=void 0===u?[0,-.1]:u,v=e.symbol,f=e.symbolStyle,p=e.symbolClassName,h=e.connector,m=e.connectorStyle,x=e.connectorClassName,g=e.clearance,R=void 0===g?8:g,w=e.maxIterations,N=void 0===w?10:w,k=e.maxDelta,M=void 0===k?20:k,_=e.minDelta,S=void 0===_?.1:_,z=e.className,I=e.style,L=e.setRole,$=void 0===L||L,j=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIO)().data,H=useScatterPreparedData(),P=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.kE1)().scales,D=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.gKR)(),E=D.disabledKeys,O=D.firstRender,B=useSymbolData(j,H),A=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){var e=[];return H.data.map((function(n){E.has(n.id)||n.x.map((function(t,r){var a=[t,n.y[r]];e.push(blockObject(a,void 0,n.r[r]))}))})),e}),[H,E]),seriesFilter=function seriesFilter(e){return!E.has(e.id)&&void 0!==H.seriesIndexes[e.id]},q=t.filter(seriesFilter),F=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return t.filter(seriesFilter).map((function(e){var n,t,r,a=getPointPosition(e.id,e.index,H),o=a.position,i=a.r,s=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.qgA)(o,null!=(n=e.size)?n:[0,0],null!=(t=e.anchor)?t:c,null!=(r=e.offset)?r:d);return blockObject(s,e.size,i)}))}),[H,E]),X=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return function arrangeBlockObjects(e){for(var n=e.items,t=e.obstacles,r=void 0===t?[]:t,a=e.clearance,o=void 0===a?0:a,i=e.lr,s=void 0===i?1:i,l=e.maxIterations,c=void 0===l?6:l,u=e.minDelta,d=void 0===u?.05:u,v=e.maxDelta,p=void 0===v?20:v,h=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.BRZ)(n),m=n.map((function(e){var n=[].concat(e);return n[2]=-1,n[3]=-1,n})),x=Array.from(Array(n.length).keys()),g=0,R=1/Math.max(1,c),_loop=function _loop(){var e=x.map((function(e){return function(e,n,t,r){var a=n[e],o=[0,0],updateResult=function updateResult(e,n){o[0]+=e[0]*n,o[1]+=e[1]*n};return t.forEach((function(e){var n=computeDisplacement(a,e,r,1);updateResult(n,1)})),n.forEach((function(n,t){if(t!==e||n[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]!==a[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]||n[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]!==a[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]){var o=computeDisplacement(a,n,r,1);updateResult(o,.5)}})),o}(e,h,r,o)})),n=x.map((function(e){return function(e,n,t,r){var a=n[e],o=t[e];return computeDisplacement(a,o,r,-1)}(e,h,m,o)})),t=0;x.forEach((function(r){var a=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.QO2)(e[r],n[r]);a[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.DJC)(a[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X],4),a[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.DJC)(a[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y],4),function(e,n,t,r,a){Math.abs(n[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X])>r&&(e[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]+=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.oqW)(t*n[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X],-a,a)),Math.abs(n[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y])>r&&(e[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]+=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.oqW)(t*n[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y],-a,a))}(h[r],a,s,d,p),t=Math.max(t,Math.max(Math.abs(a[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]),Math.abs(a[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y])))})),g>2&&(s-=R),s*t<d&&(s=0),g+=1};s>0&&g<c;)_loop();return h.map((function(e){return{position:e.slice(0,2),anchor:[.5,.5]}}))}({items:F,obstacles:A,clearance:R,maxIterations:N,maxDelta:M,minDelta:S})}),[F,A]),Y=q.map((function(e,n){var t=H.seriesIndexes[e.id],a=B[t][e.index],i=getPointPosition(e.id,e.index,H).position,s=v?createActiveSymbol({activeData:a,coordinates:i,scales:P,seriesIndex:t,symbol:v,symbolStyle:f,symbolClassName:p,setRole:!1}):null,c=h?(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(h,{key:"connector",variant:"scatter-label",style:m,className:x,x1:i[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X],y1:i[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y],x2:X[n].position[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X],y2:X[n].position[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y],setRole:!1}):null,u=(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(o,_extends({key:"label",variant:"scatter-label",style:I,className:z},e,{position:X[n].position,anchor:[.5,.5],setRole:!1}),q[n].content);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)("g",{role:$?"scatter-selected-label":void 0,children:[c,s,u]},"label-"+String(q[n].content))}));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.JjT,{role:$?"scatter-selected-labels":void 0,firstRender:O,children:Y})}}}]);