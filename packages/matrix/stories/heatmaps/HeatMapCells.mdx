import { ArgTypes, Canvas, Meta } from '@storybook/blocks'
import * as HeatMapCellsStories from './HeatMapCells.stories'

# HeatMapCells

<Meta of={HeatMapCellsStories} />

`HeatMapCells` draws a set of rectangles to produce a heat map matrix.

<ArgTypes of={HeatMapCellsStories} />

Note that `HeatMapCells` is intended to be used within a `HeatMap` component.

## Data subsets

By default, `HeatMapCells` shows the entire dataset.
To display selected rows or columns, use props `ids` and `keys`, respectively.

<Canvas of={HeatMapCellsStories.SelectedIds} />
<Canvas of={HeatMapCellsStories.SelectedKeys} />

To display only selected cells, specify an array of id-key pairs with prop `cells`.

<Canvas of={HeatMapCellsStories.SelectedCells} />

## Custom scales

`HeatMapCells` uses scales defined in `HeatMap` by default (below, first two rows).
However, it is possible to specify a custom color scale (below, last two rows).

<Canvas of={HeatMapCellsStories.CustomScales} />

Note that the way the color scales are specified differ slightly in `HeatMap` and `HeatMapCells`.
In `HeatMap`, it is possible to specify the type of scale and allow the component to determine appropriate domain settings.
In `HeatMapCells`, it is necessary to provide the domain settings manually.

## Legends for custom colors

Using custom colors in `HeatMapCells` automatically resets the scale for all its child components.
Thus, it is possible to create Legends based on the custom colors, including using multiple legends on the same chart.

<Canvas of={HeatMapCellsStories.CustomLegends} />

For legends with continuous colors,
it may be necessary to define a custom identifier `gradientId` to display the color gradient.

## Mouse events and style modifiers

Prop `handlers` attaches event handlers to individual data cells.

<Canvas of={HeatMapCellsStories.MouseClick} />

(Check the browser console with `Ctrl Shift J` for output.)

Prop `modifiers` defines css styles that are applied following mouse events.

<Canvas of={HeatMapCellsStories.StyleModifiers} />

Note that by default, `HeatMapCells` uses `SimpleDataComponent` to create cells, prioritizing simplicity over features.
`SimpleDataComponent` actually ignores the content of `handlers` and `modifiers`.
Thus, for `handlers` and `modifiers` to take effect, prop `dataComponent` should also be set, for example,
to `DataComponent` or `TooltipDataComponent`.

Note also that many use-cases for handlers and modifiers may be handled instead by `HeatMapHighlight`.
