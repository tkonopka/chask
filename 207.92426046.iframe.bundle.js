"use strict";(self.webpackChunkchsk=self.webpackChunkchsk||[]).push([[207],{"./packages/band/dist/chsk-band.es.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{$Q:()=>Bar,BS:()=>Violin,CL:()=>isScheduleData,Cu:()=>useBarPreparedData,D_:()=>Strip,Gs:()=>Schedules,KI:()=>Violins,Ll:()=>Bars,O1:()=>BandLabels,Pf:()=>Schedule,af:()=>BarAndWhisker,dp:()=>Distributions,iP:()=>Strips,k6:()=>isStripData,kT:()=>BandSurface,nE:()=>BandHighlight,tQ:()=>DistributionTooltip,vW:()=>BarsLabels,vf:()=>Distribution});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),framer_motion__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/framer-motion/dist/es/render/dom/motion-minimal.mjs"),framer_motion__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/framer-motion/dist/es/components/LazyMotion/index.mjs"),framer_motion__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/framer-motion/dist/es/render/dom/features-animation.mjs"),_chsk_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/core/dist/chsk-core.es.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/jsx-runtime.js"),lodash__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/lodash/lodash.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},_extends.apply(this,arguments)}function _objectWithoutPropertiesLoose(e,n){if(null==e)return{};var t,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)t=a[i],n.indexOf(t)>=0||(r[t]=e[t]);return r}var BandHighlightMask=function BandHighlightMask(e,n,t,i,r,a){var o=n[0],l=n[1],d={initial:a?t?{height:0}:{width:0}:void 0,style:i,className:r};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment,t?{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(framer_motion__WEBPACK_IMPORTED_MODULE_4__.m.rect,_extends({animate:{width:(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.UYe)(e[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.X][1]),height:(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.UYe)(e[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.Y][0])}},d),"mask-top"),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(framer_motion__WEBPACK_IMPORTED_MODULE_4__.m.rect,_extends({transform:"translate("+o+","+l+")rotate(180)",animate:{width:(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.UYe)(e[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.X][1]),height:(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.UYe)(l-e[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.Y][1])}},d),"mask-bottom")]}:{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(framer_motion__WEBPACK_IMPORTED_MODULE_4__.m.rect,_extends({animate:{width:e[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.X][0],height:e[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.Y][1]}},d),"mask-left"),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(framer_motion__WEBPACK_IMPORTED_MODULE_4__.m.rect,_extends({transform:"translate("+o+","+l+")rotate(180)",animate:{width:o-e[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.X][1],height:e[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.Y][1]}},d),"mask-right")]})},BandHighlight=function BandHighlight(a){var o=a.ids,l=a.interactive,s=void 0===l||l,d=a.edgeAnimation,u=void 0!==d&&d,R=a.tooltipAlign,I=void 0===R?[.5,.5]:R,C=a.className,j=a.setRole,W=void 0===j||j,P=a.style,B=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.wIO)(),A=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.Bs9)().size,L=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.kE1)().scales,M=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.gKR)().disabledKeys,D=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.lLG)().setData,O=0===L.x.bandwidth()&&0!==L.y.bandwidth(),V=O?L.y:L.x,F=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),q=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),E=q[0],K=q[1],X=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.pP)(o,[],B)}),[o,B]).idSet,Y=O?A[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.X]:A[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.Y],G=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return e=V,n=X,t=Y,i=O,r=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.Ax7)(e,n),i?[[0,t],r]:[r,[0,t]];var e,n,t,i,r}),[V,X,Y,O]);(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){if(!s&&null===E){var e=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.FG_)(G[0]),n=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.FG_)(G[1]);K([e,n])}}),[G,K]);var H=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(){D({}),K(null)}),[D,K]),J=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(e){if(F&&F.current){var n=F.current.getBoundingClientRect(),t=n.x,i=n.y,r=[e.clientX-t,e.clientY-i];if(!(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.sn2)(r,E)){var a=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.CXu)(r,G),o=a.indexes,l=a.zone;if(null!==l){var s=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.ueV)([l[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.X][0],l[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.Y][0]],(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.gCP)(l),I),d=s[0],u=s[1],c=O?o[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.Y]:o[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.X],f=B.data[c].id,v=B.data[c].data.map((function(e,n){return _extends({},e,{id:f,key:B.keys[n]})})).filter((function(e){return!(e.key&&M.has(e.key))}));D({x:d,y:u,title:f,data:v}),K(l)}else H()}}}),[G,F,E,K]),Q=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("rect",{ref:F,role:W?"band-detector":void 0,width:A[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.X],height:A[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.Y],style:{opacity:0},onMouseMove:J,onMouseLeave:H}),T=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.gjB)("band-highlight",C);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("g",{role:"band-highlight",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_1__.JjT,{role:W?"band-highlight-mask":void 0,visible:null!==E,firstRender:!1,children:null===E?null:BandHighlightMask(E,A,O,P,T,u)},"band-highlight-mask"),s?Q:null]})},BandSurface=function BandSurface(e){var i,o=e.variant,l=void 0===o?"step":o,s=e.ids,d=e.expansion,u=void 0===d?[0,0]:d,m=e.interactive,b=void 0!==m&&m,k=e.tooltip,g=void 0!==k&&k,S=e.component,w=void 0===S?_chsk_core__WEBPACK_IMPORTED_MODULE_1__.AeJ:S,N=e.dataComponent,_=void 0===N?_chsk_core__WEBPACK_IMPORTED_MODULE_1__.Aj5:N,R=e.handlers,j=e.modifiers,W=e.className,P=e.setRole,B=void 0!==P&&P,A=e.style,L=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.wIO)(),M=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.Bs9)().size,D=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.kE1)().scales,O=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.lLG)().data,V=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(void 0),F=V[0],q=V[1],E=0===D.x.bandwidth()&&0!==D.y.bandwidth(),K=E?D.y:D.x,X="step"===l?K.step():K.bandwidth(),Y=(E?M[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.X]:M[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.Y])+u[0]+u[1],G=E?X:Y,H=E?Y:X,J=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.pP)(s,[],L)}),[s,L]).idSet,Q=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.gjB)("bandSurface",W),T=null==O||null==(i=O.data)?void 0:i[0].id,U=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(e,n){null==R||null==R.onMouseEnter||R.onMouseEnter(e,n),q(null==e?void 0:e.id)}),[R,q]),Z=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(e,n){null==R||null==R.onMouseLeave||R.onMouseLeave(e,n),q(void 0)}),[R,q]),$=b?_extends({},R,{onMouseEnter:U,onMouseLeave:Z}):void 0,ee={setRole:B,width:H,height:G,className:Q,style:A},ne=L.data.map((function(e,n){if(!J.has(e.id))return null;var t=K(e.id),i=E?-u[0]:t-X/2,r=E?t-X/2:-u[0],o=!!g&&T===e.id,l=!!b&&e.id===F,s=!g&&!b;return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_,{key:"band-"+n,component:w,data:{id:e.id},props:_extends({},ee,{x:i,y:r,opacity:+(s||l||o)}),handlers:$,modifiers:j})})).filter(Boolean);return 0===ne.length?null:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("g",{role:"band-surface",children:ne})},BandLabels=function BandLabels(e){var n=e.ids,i=e.position,r=void 0===i?1:i,o=e.size,l=void 0===o?[1,1]:o,s=e.unit,d=void 0===s?"relative":s,u=e.offset,m=void 0===u?[0,0]:u,y=e.align,b=e.padding,k=e.format,g=void 0===k?function(e){return String(e.id)}:k,S=e.component,w=void 0===S?_chsk_core__WEBPACK_IMPORTED_MODULE_1__.__J:S,N=e.className,_=e.setRole,R=void 0!==_&&_,I=e.style,C=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.W3B)().data,B=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.wIO)(),A=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.Bs9)(),L=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.kE1)().scales,M=0===L.x.bandwidth()&&0!==L.y.bandwidth(),D=M?L.y:L.x,O=D.bandwidth(),V=B.data,F=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.pP)(n,[],B)}),[n,B]).idSet,q=function(e,n,t,i,r){var a=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.eE7)([e,e],n,t,i);return r?a[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.X]:a[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.Y]}(r,d,A.size,L,M),E="relative"===d?[l[0]*O,l[1]*O]:l,K=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.gjB)("bandLabel",N),X=V.map((function(e,n){if(!F.has(e.id))return null;var t=g(C[n]),i=D(e.id),r=M?[q,i]:[i,q];return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(w,{key:"band-label-"+n,position:[r[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.X]+m[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.X],r[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.Y]+m[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.Y]],size:E,align:y,padding:b,className:K,style:I,variant:"label",setRole:R},t)})).flat().filter(Boolean);return 0===X.length?null:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("g",{role:"band-labels",children:X})},he=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({data:[],seriesIndexes:{},keys:[]}),BarPreparedDataProvider=function BarPreparedDataProvider(e){var n=e.data,i=e.seriesIndexes,r=e.keys,a=e.children,o=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return{data:n,seriesIndexes:i,keys:r}}),[n]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(he.Provider,{value:o,children:a})},useBarPreparedData=function useBarPreparedData(){return(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(he)},getScaleProps=function getScaleProps(e,n,t,i,r,a,o,l){void 0===l&&(l=!1);var s={index:(0,lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(t),value:(0,lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(i)};if((0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.HBl)(t)||(s.index.domain=e),!(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.HBl)(i)){var filterDisabled=function filterDisabled(e,n){return!o[n]},isValue=function isValue(e){return void 0!==e&&isFinite(Number(e))},d=n.map((function(e){return e.filter(filterDisabled).flat().filter(isValue)})),u=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.FG_)(l?d.map((function(e){var n=e.reduce((function(e,n){return isFinite(n)&&n>0?e+n:e}),0);return[e.reduce((function(e,n){return isFinite(n)&&n<0?e+n:e}),0),n]})).flat():d.flat());s.value=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.zAC)(i,u)}return s.index.size=a?r[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.Y]:r[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.X],s.value.size=a?r[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.X]:r[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.Y],s},getInternalWidthAndGap=function getInternalWidthAndGap(e,n,t,i){var r=e.bandwidth(),a=n.length,o=t||0,l="grouped"===i?r/a:r,s=l*o;return"grouped"===i?[l*(1-o),s/2,s]:[l*(1-o),s/2,-l*(1-o)]},xe=["container","variant","data","keys","horizontal","autoRescale","paddingInternal","scaleIndex","scaleValue","scaleColor","children"],Bar=function Bar(e){var n=e.container,i=void 0===n?_chsk_core__WEBPACK_IMPORTED_MODULE_1__.WdC:n,r=e.variant,a=void 0===r?"grouped":r,o=e.data,l=e.keys,s=e.horizontal,c=void 0!==s&&s,f=e.autoRescale,v=void 0===f||f,y=e.paddingInternal,p=void 0===y?0:y,h=e.scaleIndex,x=void 0===h?_chsk_core__WEBPACK_IMPORTED_MODULE_1__.Us:h,b=e.scaleValue,k=void 0===b?_chsk_core__WEBPACK_IMPORTED_MODULE_1__.Tx9:b,g=e.scaleColor,S=e.children,w=_objectWithoutPropertiesLoose(e,xe),z=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.FgM)(),N=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.uK4)(i),_=N.dimsProps,R=N.origin,I=N.innerSize,C=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.gKR)(l).disabled,j=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.snp)(o)}),[o]),W=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return l.map((function(e){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.wIU)(e)}))}),[l]),P=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return function(e,n){return e.map((function(e,t){var i=n.map((function(n){return Number(n(e))}));return{id:e.id,index:t,data:i,domain:i.map((function(e){return[0,e]}))}}))}(o,W)}),[o,W]),B="stacked"===a,A=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return getScaleProps(P.map((function(e){return e.id})),P.map((function(e){return e.domain})),x,k,I,c,v?C:Array(l.length).fill(!1),B)}),[P,x,k,I,c,v,C,l,B]),Y=A.index,G=A.value,H=c?G:Y,J=c?Y:G,Q=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.NVB)(null!=g?g:z.Colors.categorical,l),T=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.cT_)({x:H,y:J,color:Q}),U=T.scales,Z=c?U.y:U.x,$=c?U.x:U.y,ee=getInternalWidthAndGap(Z,l,p,a),ne=ee[0],te=ee[1],ie=ee[2],re=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return function(e,n,t,i,r,a,o,l,s){var d=t(0);return e.map((function(e){var u=e.data.map((function(e,n){return s[n]||!e?0:t(e)-d})),c=n(e.id)-n.bandwidth()/2,f=[],v=[];if(i?u.forEach((function(e){v.push([e,a])})):u.forEach((function(e){v.push([a,e])})),u=u.map((function(e){return null!=e?e:d})),r)if(i){var m=d;u.forEach((function(e){f.push([m,c]),m+=e}))}else{var y=d;u.forEach((function(e){f.push([c,y]),y+=e}))}else if(i){var p=c+o;u.forEach((function(){f.push([d,p]),p+=a+l}))}else{var h=c+o;u.forEach((function(){f.push([h,d]),h+=a+l}))}return{id:e.id,index:e.index,position:f,size:v}}))}(P,Z,$,c,B,ne,te,ie,C)}),[P,c,B,Z,$,ne,te,ie,C]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_1__.PzT,_extends({variant:"bar",position:R,size:_.size,padding:_.padding,originalData:o,processedData:P,seriesIndexes:j,keys:l,scalesContextValue:T},w,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(BarPreparedDataProvider,{data:re,seriesIndexes:j,keys:l,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(framer_motion__WEBPACK_IMPORTED_MODULE_5__.X,{features:framer_motion__WEBPACK_IMPORTED_MODULE_6__.H,children:S})})}))},isBarProcessedData=function isBarProcessedData(e){var n=e.map((function(e){return"object"==typeof e&&null!==e&&"id"in e&&"index"in e&&"data"in e&&"domain"in e}));return n.length>0&&n.every(Boolean)},be=["ids","keys","component","className","style","dataComponent"],Bars=function Bars(e){var n=e.ids,i=e.keys,r=e.component,o=void 0===r?_chsk_core__WEBPACK_IMPORTED_MODULE_1__.AeJ:r,l=e.className,s=e.style,d=e.dataComponent,u=void 0===d?_chsk_core__WEBPACK_IMPORTED_MODULE_1__.oKN:d,f=_objectWithoutPropertiesLoose(e,be),y=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.wIO)().data,h=useBarPreparedData(),x=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.kE1)().scales.color,b=h.data,k=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.gKR)(),g=k.disabledKeys,S=k.firstRender;if(!isBarProcessedData(y))return null;var w=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.pP)(n,i,h)}),[n,i,h]),z=w.idSet,_=w.keySet,R=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return h.keys.map((function(e,n){var t=x(n);return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.hIX)(s,t)}))}),[h,s,x]),C=h.keys.map((function(e,n){if(!_.has(e))return null;var t=!g.has(e),i=b.map((function(t){if(!z.has(t.id))return null;var i=t.position[n],r=t.size[n];return Number.isFinite(r[0])&&Number.isFinite(r[1])?0===r[0]||0===r[1]?null:(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(u,_extends({key:"bar-"+t.id+"-"+e,component:o,data:{id:t.id,key:e,data:y[t.index].data[n]},props:{x:i[0],y:i[1],width:r[0],height:r[1],className:l,style:R[n],variant:"bar",setRole:!1}},f)):null})).filter(Boolean);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_1__.JjT,{role:"bars",visible:t,firstRender:S,children:i},"bars-"+e)}));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment,{children:C.filter(Boolean)})},BarsLabels=function BarsLabels(e){var n=e.ids,i=e.keys,r=e.format,o=void 0===r?function(e){return String(e)}:r,l=e.padding,s=void 0===l?[4,4,4,4]:l,d=e.minSize,u=void 0===d?[40,10]:d,f=e.align,v=void 0===f?[.5,.5]:f,y=e.offset,b=void 0===y?[0,0]:y,k=e.className,g=e.setRole,S=void 0!==g&&g,w=e.style,_=e.showOuter,R=void 0!==_&&_,I=e.styleOuter,C=e.component,j=void 0===C?_chsk_core__WEBPACK_IMPORTED_MODULE_1__.__J:C,W=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.wIO)().data,B=useBarPreparedData(),A=B.data,L=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.gKR)(),M=L.disabledKeys,D=L.firstRender;if(!isBarProcessedData(W))return null;var O=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.pP)(n,i,B)}),[n,i,B]),V=O.idSet,F=O.keySet,q=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.gjB)("barLabel",k),E=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.gjB)("barLabel out",k),K=B.keys.map((function(e,n){if(!F.has(e))return null;var t=!M.has(e),i=A.map((function(e,t){if(!V.has(e.id))return null;var i=e.size[n],r=e.position[n];if(!Number.isFinite(i[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.X])||!Number.isFinite(i[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.Y]))return null;var l=[r[0]+i[0]/2,r[1]+i[1]/2],d=w,c=q;if(Math.abs(i[0])<u[0]||Math.abs(i[1])<u[1]){if(!R)return null;d=I,l[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.X]+=i[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.X],c=E}var f=o(W[t].data[n]);return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(j,{key:"bar-label-"+t+"-"+n,position:[l[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.X]+b[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.X],l[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.Y]+b[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.Y]],size:i,align:v,padding:s,className:c,style:d,setRole:S},f)})).filter(Boolean);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_1__.JjT,{role:"bars-labels",visible:t,firstRender:D,children:i},"labels-"+n)}));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment,{children:K.filter(Boolean)})},ke=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({data:[],seriesIndexes:{},keys:[]}),DistributionPreparedDataProvider=function DistributionPreparedDataProvider(e){var n=e.data,i=e.seriesIndexes,r=e.keys,a=e.children,o=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return{data:n,seriesIndexes:i,keys:r}}),[n]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ke.Provider,{value:o,children:a})},ge=["data","horizontal","boxStyle","whiskerStyle","whiskerCapWidth","className","style","setRole"],BarAndWhisker=function BarAndWhisker(e){var n=e.data,t=e.horizontal,i=e.boxStyle,r=e.whiskerStyle,a=e.whiskerCapWidth,o=void 0===a?0:a,l=e.className,d=e.style,u=e.setRole,c=_objectWithoutPropertiesLoose(e,ge),f=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.kE1)().scales;if(!n)return null;if(void 0===n.moments||void 0===n.interval)return null;var m=n.bandWidth/2,y=o*m,p=n.bandStart+m,h=n.moments[0],x=(t?f.x:f.y)(0),b={className:l,setRole:!1},k=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_1__.AeJ,_extends({variant:"bar",x:-m,y:0,width:n.bandWidth,height:x-h,style:i},b),"bar"),g=[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_1__.x12,_extends({variant:"whisker",x1:0,x2:0,y1:0,y2:-h+n.interval[1],style:r},b),"whisker")],S=[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_1__.x12,_extends({variant:"whisker-cap",x1:-y,x2:y,y1:-h+n.interval[1],y2:-h+n.interval[1],style:r},b),"whisker-cap")],w={x:t?h:p,y:t?p:h,rotate:t?-90:0,originX:"0px",originY:"0px"};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(framer_motion__WEBPACK_IMPORTED_MODULE_4__.m.g,_extends({initial:w,animate:w,role:u?"bar-and-whisker":void 0,style:d},c,{children:[k,g,o>0?S:null]}))},Se=["data","horizontal","boxStyle","whiskerStyle","middleStyle","whiskerCapWidth","className","style","setRole"],BoxAndWhiskers=function BoxAndWhiskers(e){var n=e.data,t=e.horizontal,i=e.boxStyle,r=e.whiskerStyle,a=e.middleStyle,o=e.whiskerCapWidth,l=void 0===o?0:o,d=e.className,u=e.style,c=e.setRole,f=_objectWithoutPropertiesLoose(e,Se);if(!n)return null;var v=n.bandWidth/2,m=l*v,y=n.values,p=n.bandStart+v,h=n.values[2],x={className:d,setRole:!1},b=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_1__.AeJ,_extends({variant:"box",x:-v,y:-h+y[3],width:n.bandWidth,height:y[1]-y[3],style:i},x),"box"),k=[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_1__.x12,_extends({variant:"median",x1:-v,x2:+v,y1:0,y2:0,style:a},x),"median"),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_1__.x12,_extends({variant:"whisker",x1:0,x2:0,y1:-h+y[3],y2:-h+y[4],style:r},x),"whisker-upper"),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_1__.x12,_extends({variant:"whisker",x1:0,x2:0,y1:-h+y[1],y2:-h+y[0],style:r},x),"whisker-lower")],g=[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_1__.x12,_extends({variant:"whisker-cap",x1:-m,x2:m,y1:-h+y[4],y2:-h+y[4],style:r},x),"whisker-upper-cap"),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_1__.x12,_extends({variant:"whisker-cap",x1:-m,x2:m,y1:-h+y[0],y2:-h+y[0],style:r},x),"whisker-lower-cap")],S={x:t?h:p,y:t?p:h,rotate:t?-90:0,originX:"0px",originY:"0px"};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(framer_motion__WEBPACK_IMPORTED_MODULE_4__.m.g,_extends({initial:S,animate:S,role:c?"box-and-whiskers":void 0,style:u},f,{children:[b,k,l>0?g:null]}))},getQuantiles=function getQuantiles(e,n){var t=e.length-1,i=[].concat(e).sort((function(e,n){return e-n}));return n.map((function(e){return function(e,n,t){var i=t*Math.max(0,Math.min(1,n)),r=Math.floor(i);if(i===r)return e[r];var a=e[r];return a+(e[r+1]-a)*(i-r)}(i,e,t)}))},ze=Array.isArray,isDistributionProcessedSummary=function isDistributionProcessedSummary(e){if("object"!=typeof e||null===e)return!1;if(!("n"in e))return!1;var n=[5,5,2];return["values","quantiles","extrema"].map((function(t,i){return ze(e[t])&&e[t].length===n[i]})).every(Boolean)},Ne=["container","variant","data","keys","quantiles","horizontal","autoRescale","paddingInternal","scaleIndex","scaleValue","scaleColor","children"],Distribution=function Distribution(e){var n=e.container,i=void 0===n?_chsk_core__WEBPACK_IMPORTED_MODULE_1__.WdC:n,r=e.variant,a=void 0===r?"grouped":r,o=e.data,l=e.keys,s=e.quantiles,c=void 0===s?[.05,.25,.5,.75,.95]:s,f=e.horizontal,v=void 0!==f&&f,y=e.autoRescale,p=void 0===y||y,h=e.paddingInternal,x=void 0===h?0:h,k=e.scaleIndex,g=void 0===k?_chsk_core__WEBPACK_IMPORTED_MODULE_1__.Us:k,S=e.scaleValue,w=void 0===S?_chsk_core__WEBPACK_IMPORTED_MODULE_1__.Tx9:S,z=e.scaleColor,N=e.children,_=_objectWithoutPropertiesLoose(e,Ne),R=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.FgM)(),I=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.uK4)(i),C=I.dimsProps,j=I.origin,W=I.innerSize,P=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.gKR)(l).disabled,B=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.snp)(o)}),[o]),A=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return l.map((function(e){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.wIU)(e)}))}),[l]),Y=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return function(e,n,t){return e.map((function(e,i){var r=n.map((function(n){var i=n(e);if(i){if(isDistributionProcessedSummary(i))return{n:i.n,moments:i.moments,interval:i.interval,values:i.values,quantiles:i.quantiles,extrema:i.extrema};if(Array.isArray(i)){var r=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.Gi7)(i),a=r[0],o=r[1],l=isFinite(o)?Math.sqrt(o):0;return{n:i.length,moments:[a,o],interval:[a-l,a+l],values:getQuantiles(i,t),quantiles:t,extrema:(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.FG_)(i)}}}}));return{id:e.id,index:i,data:r,domain:r.map((function(e){return e?(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.FG_)(e.extrema):void 0}))}}))}(o,A,c)}),[o,A,c]),G=getScaleProps(Y.map((function(e){return e.id})),Y.map((function(e){return e.domain})),g,w,W,v,p?P:Array(l.length).fill(!1)),H=G.index,Q=G.value,T=v?Q:H,U=v?H:Q,Z=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.NVB)(null!=z?z:R.Colors.categorical,l),$=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.cT_)({x:T,y:U,color:Z}),ee=$.scales,ne=v?ee.y:ee.x,te=v?ee.x:ee.y,ie=getInternalWidthAndGap(ne,l,x,a),re=ie[0],ae=ie[1],oe=ie[2],le=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return function(e,n,t,i,r,a,o){return e.map((function(e){var i=n(e.id)-n.bandwidth()/2+a,l=e.data.map((function(e){var n,a;if(i+=r+o,void 0!==e)return{n:e.values.length,moments:null==(n=e.moments)?void 0:n.map((function(e){return t(Number(e))})),interval:null==(a=e.interval)?void 0:a.map((function(e){return t(Number(e))})),values:e.values.map((function(e){return t(e)})),quantiles:e.quantiles,extrema:e.extrema.map((function(e){return t(e)})),bandStart:i-r-o,bandWidth:r}}));return{id:e.id,index:e.index,data:l}}))}(Y,ne,te,0,re,ae,oe)}),[Y,ne,te,v,re,ae,oe]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_1__.PzT,_extends({variant:"distribution",position:j,size:C.size,padding:C.padding,originalData:o,processedData:Y,seriesIndexes:B,keys:l,scalesContextValue:$},_,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DistributionPreparedDataProvider,{data:le,seriesIndexes:B,keys:l,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(framer_motion__WEBPACK_IMPORTED_MODULE_5__.X,{features:framer_motion__WEBPACK_IMPORTED_MODULE_6__.H,children:N})})}))},InformationTable=function InformationTable(e){var n=e.position,t=e.size,i=e.labels,r=e.values,a=e.className,o=e.style;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment,{children:[i.map((function(e,i){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("text",{x:n[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.X],y:n[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.Y]+i*t[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.Y],className:a+" label",style:o,children:void 0!==r[i]?e+":":""},"label-"+i)})),r.map((function(e,i){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("text",{x:n[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.X]+t[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.X],y:n[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.Y]+i*t[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.Y],className:a+" value",style:o,children:null!=e?e:""},"value-"+i)}))]})},DistributionTooltipItem=function DistributionTooltipItem(e){var n=e.position,t=void 0===n?[0,0]:n,i=e.data,r=e.padding,o=void 0===r?_chsk_core__WEBPACK_IMPORTED_MODULE_1__.WO3.padding:r,l=e.color,s=e.r,d=void 0===s?_chsk_core__WEBPACK_IMPORTED_MODULE_1__.WWF.r:s,u=e.symbol,c=void 0===u?_chsk_core__WEBPACK_IMPORTED_MODULE_1__.bK0:u,f=e.symbolStyle,m=e.label,y=e.labelStyle,p=e.labelDistance,b=void 0===p?_chsk_core__WEBPACK_IMPORTED_MODULE_1__.WWF.labelDistance:p,k=e.valueFormat,g=void 0===k?function(e){return String(e)}:k,S=e.cellSize,w=void 0===S?[40,20]:S,N=e.cellPadding,_=void 0===N?20:N,R=e.cellStyle,I=e.className,C=e.style,j=e.setRole,W=void 0===j||j,P=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.kE1)().scales.color;if(!isDistributionProcessedSummary(i))return null;if(!i)return null;var B="key"in i?String(i.key):"",A=[d+o[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.RLj],d+o[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.GSB]],L=[A[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.X]+d+b,A[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.Y]],M=function(e,n,t,i){var r="number"==typeof n?t(n):null!=n?n:t(t.domain().indexOf(null!=i?i:""));return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.hIX)(e,r)}(f,l,P,B),D=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.gjB)("tooltipSymbol right",I),O=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.gjB)("tooltipItem right",I),V=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.gjB)("tooltipItem",I),F=[o[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.RLj],Math.max(o[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.GSB]+1.5*w[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.Y],2*L[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.Y])],q=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(InformationTable,{position:F,size:w,labels:["n","mean","stdev","min","max"],values:[i.n,i.moments?g(i.moments[0]):void 0,i.moments&&isFinite(i.moments[1])?g(Math.sqrt(i.moments[1])):void 0,g(i.extrema[0]),g(i.extrema[1])],className:V,style:R},"info-n-mean"),E=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(InformationTable,{position:[F[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.X]+2*w[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.X]+_,F[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.Y]],size:w,labels:i.quantiles.map((function(e){return String(100*e)+"%"})),values:i.values.map((function(e){return g(e)})),className:V},"info-q");return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("g",{role:W?"tooltip-item":void 0,transform:(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.R6R)(t),style:C,className:"tooltipItem",children:[(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(c,{key:"symbol-"+B,cx:A[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.X],cy:A[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.Y],r:d,className:D,style:M,setRole:!1}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("text",{x:L[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.X],y:L[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.Y],className:O,style:y,children:null!=m?m:B},"label"),q,E]},"item-"+B)},DistributionTooltip=function DistributionTooltip(e){var n,t,i,r=e.offset,a=void 0===r?_chsk_core__WEBPACK_IMPORTED_MODULE_1__.WWF.offset:r,o=e.size,l=e.anchor,s=void 0===l?_chsk_core__WEBPACK_IMPORTED_MODULE_1__.WWF.anchor:l,d=e.padding,u=void 0===d?_chsk_core__WEBPACK_IMPORTED_MODULE_1__.WWF.padding:d,c=e.rx,f=void 0===c?_chsk_core__WEBPACK_IMPORTED_MODULE_1__.WWF.rx:c,v=e.ry,m=void 0===v?_chsk_core__WEBPACK_IMPORTED_MODULE_1__.WWF.ry:v,p=e.maxOverhang,b=void 0===p?_chsk_core__WEBPACK_IMPORTED_MODULE_1__.WWF.maxOverhang:p,k=e.itemSize,g=void 0===k?_chsk_core__WEBPACK_IMPORTED_MODULE_1__.WWF.itemSize:k,S=e.itemPadding,w=void 0===S?_chsk_core__WEBPACK_IMPORTED_MODULE_1__.WWF.itemPadding:S,z=e.firstOffset,N=void 0===z?_chsk_core__WEBPACK_IMPORTED_MODULE_1__.WWF.firstOffset:z,_=e.title,R=e.titleStyle,I=e.titleFormat,C=e.r,j=void 0===C?_chsk_core__WEBPACK_IMPORTED_MODULE_1__.WWF.r:C,W=e.symbol,P=void 0===W?_chsk_core__WEBPACK_IMPORTED_MODULE_1__.bK0:W,B=e.symbolStyle,A=e.labelStyle,L=e.labelDistance,M=void 0===L?_chsk_core__WEBPACK_IMPORTED_MODULE_1__.WWF.labelDistance:L,D=e.labelFormat,O=e.valueFormat,V=void 0===O?function(e){return String(e)}:O,F=e.cellSize,q=void 0===F?[40,20]:F,E=e.cellPadding,K=void 0===E?20:E,X=e.cellStyle,Y=e.className,G=e.style,H=e.setRole,J=void 0===H||H,Q=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.lLG)().data,$=null!=(n=null==Q?void 0:Q.data)?n:[];if(!$.every((function(e){return isDistributionProcessedSummary(e)})))return null;_=null!=(t=_)?t:null===I?"":I?I(Q):Q.title;var ae=$.length,oe=[4*q[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.X]+K,5*q[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.Y]];o=null!=(i=o)?i:[Math.max(g[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.X],oe[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.X])+u[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.RLj]+u[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.pXp],g[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.Y]*ae+(_?g[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.Y]:0)+oe[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.Y]*ae+u[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.GSB]+u[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.DaS]];var le=[u[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.RLj],u[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.GSB]],se=[u[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.RLj],u[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.GSB]],de=[0,g[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.Y]];_&&(se[0]+=de[0]+N[0],se[1]+=de[1]+N[1]);var ue=Array(ae).fill(0).map((function(e,n){return[u[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.RLj],se[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.Y]+(g[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.Y]+oe[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.Y])*n]})),ce=$.map((function(e,n){var t,i,r,a;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DistributionTooltipItem,{position:ue[n],data:e,label:D?null!=(t=null!=(i=D(e))?i:e.key)?t:"":null!=(r=e.key)?r:"",labelDistance:M,item:null!=(a=e.key)?a:"",padding:w,symbol:P,symbolStyle:B,labelStyle:A,className:Y,valueFormat:V,cellPadding:K,cellSize:q,cellStyle:X},"item-"+n)}));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(_chsk_core__WEBPACK_IMPORTED_MODULE_1__.ua7,{offset:a,size:o,padding:u,anchor:s,rx:f,ry:m,maxOverhang:b,style:G,setRole:J,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_1__.CKu,{variant:"right",position:le,size:g,padding:w,offset:[0,j],style:R,className:Y,children:_},"title"),ce]})},_e=["ids","keys","component","className","setRole","boxStyle","whiskerStyle","middleStyle","whiskerCapWidth","dataComponent"],Distributions=function Distributions(e){var n=e.ids,i=e.keys,r=e.component,o=e.className,l=e.setRole,s=void 0===l||l,d=e.boxStyle,u=e.whiskerStyle,f=e.middleStyle,y=e.whiskerCapWidth,h=e.dataComponent,x=void 0===h?_chsk_core__WEBPACK_IMPORTED_MODULE_1__.oKN:h,b=_objectWithoutPropertiesLoose(e,_e),k=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.wIO)().data,g=function useDistributionPreparedData(){return(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(ke)}(),S=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.kE1)().scales,w=S.color,z=g.data,_=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.gKR)(),R=_.disabledKeys,I=_.firstRender,C=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.y7R)(S.y);if(!function isDistributionProcessedData(e){var n=e.map((function(e){return"object"==typeof e&&null!==e&&"id"in e&&"index"in e&&"data"in e&&"domain"in e}));return n.length>0&&n.every(Boolean)}(k))return null;var j=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.pP)(n,i,g)}),[n,i,g]),W=j.idSet,P=j.keySet,B=g.keys,A=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return B.map((function(e,n){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.hIX)(d,w(n))}))}),[B,d,w]),L=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return B.map((function(e,n){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.hIX)(u,w(n))}))}),[B,u,w]),M=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return B.map((function(e,n){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.hIX)(f,w(n))}))}),[B,f,w]),D=g.keys.map((function(e,n){if(!P.has(e))return null;var t=!R.has(e),i=z.map((function(t){if(!W.has(t.id))return null;var i=t.data[n],l=k[t.index].data[n];return l?(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(x,_extends({key:"quantiles-"+t.index+"-"+n,data:_extends({id:t.id,key:e},l),component:null!=r?r:BoxAndWhiskers,props:{data:i,horizontal:C,className:o,boxStyle:A[n],whiskerStyle:L[n],middleStyle:M[n],whiskerCapWidth:y,setRole:s}},b)):null})).filter(Boolean);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_1__.JjT,{role:"distributions",visible:t,firstRender:I,children:i},"distributions-"+n)})).filter(Boolean);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment,{children:D})},Re=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({data:[],seriesIndexes:{},keys:[]}),SchedulePreparedDataProvider=function SchedulePreparedDataProvider(e){var n=e.data,i=e.seriesIndexes,r=e.keys,a=e.children,o=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return{data:n,seriesIndexes:i,keys:r}}),[n]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Re.Provider,{value:o,children:a})},Ie=["container","data","keys","intervalStart","intervalEnd","intervalKey","horizontal","autoRescale","scaleIndex","scaleValue","scaleColor","children"],Schedule=function Schedule(e){var n=e.container,i=void 0===n?_chsk_core__WEBPACK_IMPORTED_MODULE_1__.WdC:n,r=e.data,a=e.keys,o=e.intervalStart,l=void 0===o?"start":o,s=e.intervalEnd,c=void 0===s?"end":s,f=e.intervalKey,v=void 0===f?"key":f,y=e.horizontal,p=void 0===y||y,h=e.autoRescale,x=void 0===h||h,b=e.scaleIndex,k=void 0===b?_chsk_core__WEBPACK_IMPORTED_MODULE_1__.Us:b,g=e.scaleValue,S=void 0===g?_chsk_core__WEBPACK_IMPORTED_MODULE_1__.Tx9:g,w=e.scaleColor,z=e.children,N=_objectWithoutPropertiesLoose(e,Ie),_=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.FgM)(),R=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.uK4)(i),I=R.dimsProps,C=R.origin,j=R.innerSize,W=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.gKR)(a).disabled,P=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.snp)(r)}),[r]),B=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return[(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.wIU)(l),(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.wIU)(c)]}),[l,c,v]),A=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.wIU)(v)}),[v]),Y=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return function(e,n,t,i){return e.map((function(e,r){var a=e.data.map((function(e){var i=String(t(e));return{start:Number(n[0](e)),end:Number(n[1](e)),key:i}})).filter((function(e){return i.indexOf(e.key)>=0}));return{id:e.id,index:r,data:a,domain:a.map((function(e){return[e.start,e.end]}))}}))}(r,B,A,a)}),[r,B,A,a]),G=getScaleProps(Y.map((function(e){return e.id})),Y.map((function(e){return e.domain})),k,S,j,p,x?W:Array(a.length).fill(!1)),H=G.index,J=G.value,Q=p?J:H,T=p?H:J,U=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.NVB)(null!=w?w:_.Colors.categorical,a),Z=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.cT_)({x:Q,y:T,color:U}),$=Z.scales,ee=p?$.y:$.x,ne=p?$.x:$.y,te=getInternalWidthAndGap(ee,a,0,"layered"),ie=te[0],re=te[1],ae=te[2],oe=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return function(e,n,t,i,r,a,o){return e.map((function(e){var l=n(e.id)-n.bandwidth()/2+a,s=e.data.map((function(e){l+=r+o;var n=t(e.start),a=t(e.end);return _extends({},e,{bandStart:l-r-o,bandWidth:r,size:i?[a-n,r]:[r,a-n],position:i?[n,l-r-o]:[l-r-o,n]})}));return{id:e.id,index:e.index,data:s}}))}(Y,ee,ne,p,ie,re,ae)}),[Y,ee,ne,p,ie,re,ae]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_1__.PzT,_extends({variant:"schedule",position:C,size:I.size,padding:I.padding,originalData:r,processedData:Y,seriesIndexes:P,keys:a,scalesContextValue:Z},N,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(SchedulePreparedDataProvider,{data:oe,seriesIndexes:P,keys:a,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(framer_motion__WEBPACK_IMPORTED_MODULE_5__.X,{features:framer_motion__WEBPACK_IMPORTED_MODULE_6__.H,children:z})})}))},isScheduleData=function isScheduleData(e){return e.map((function(e){return"object"==typeof e&&null!==e&&"id"in e&&"data"in e})).every(Boolean)},Ce=["ids","keys","component","className","setRole","dataComponent","style"],Schedules=function Schedules(e){var n=e.ids,i=e.keys,r=e.component,o=void 0===r?_chsk_core__WEBPACK_IMPORTED_MODULE_1__.AeJ:r,l=e.className,s=e.setRole,d=void 0===s||s,u=e.dataComponent,f=void 0===u?_chsk_core__WEBPACK_IMPORTED_MODULE_1__.oKN:u,y=e.style,h=_objectWithoutPropertiesLoose(e,Ce),x=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.wIO)().data,b=function useSchedulePreparedData(){return(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(Re)}(),k=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.kE1)().scales.color,g=b.data,S=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.gKR)(),w=S.disabledKeys,z=S.firstRender;if(!function isScheduleProcessedData(e){var n=e.map((function(e){return"object"==typeof e&&null!==e&&"id"in e&&"index"in e&&"data"in e&&"domain"in e}));return n.length>0&&n.every(Boolean)}(x))return null;var _=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.pP)(n,i,b)}),[n,i,b]),R=_.idSet,C=_.keySet,j=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return b.keys.map((function(e,n){var t=k(n);return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.hIX)(y,t)}))}),[b,y,k]),W=b.keys,P=b.keys.map((function(e,n){if(!C.has(e))return null;var t=!w.has(e),i=[];return g.map((function(t){if(!R.has(t.id))return null;t.data.map((function(r){if(!C.has(r.key)||r.key!=e)return null;var s=W.indexOf(r.key),u=r.position,c=r.size,v=(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(f,_extends({key:"interval-"+t.index+"-"+n,data:_extends({id:t.id},r),component:o,props:{x:u[0],y:u[1],width:c[0],height:c[1],className:l,style:j[s],variant:"interval",setRole:d}},h));i.push(v)}))})),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_1__.JjT,{role:"intervals",visible:t,firstRender:z,children:i.filter(Boolean)},"intervals-"+n)})).filter(Boolean);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment,{children:P})},je=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({data:[],seriesIndexes:{},keys:[]}),StripPreparedDataProvider=function StripPreparedDataProvider(e){var n=e.data,i=e.seriesIndexes,r=e.keys,a=e.children,o=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return{data:n,seriesIndexes:i,keys:r}}),[n]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(je.Provider,{value:o,children:a})},getStripInternalOrder=function getStripInternalOrder(e,n){var t=n.map((function(e,n){return n}));if("none"===e)return t;if("random"===e)return t.sort((function(){return Math.random()-.5}));if("middle"===e)return Array(n.length).fill((n.length+1)/2);var i=n.map((function(e,n){return[e,n]}));return"increasing"===e||"ascending"===e?i.sort((function(e,n){return e[0]-n[0]})).forEach((function(e,n){return t[e[1]]=n})):i.sort((function(e,n){return n[0]-e[0]})).forEach((function(e,n){return t[e[1]]=n})),t},We=["container","variant","data","keys","jitter","valueSize","horizontal","autoRescale","paddingInternal","scaleIndex","scaleValue","scaleColor","children"],Strip=function Strip(e){var n=e.container,i=void 0===n?_chsk_core__WEBPACK_IMPORTED_MODULE_1__.WdC:n,r=e.variant,a=void 0===r?"grouped":r,o=e.data,l=e.keys,s=e.jitter,c=void 0===s?"none":s,f=e.valueSize,v=void 0===f?3:f,y=e.horizontal,p=void 0!==y&&y,h=e.autoRescale,x=void 0===h||h,k=e.paddingInternal,g=void 0===k?0:k,S=e.scaleIndex,w=void 0===S?_chsk_core__WEBPACK_IMPORTED_MODULE_1__.Us:S,z=e.scaleValue,N=void 0===z?_chsk_core__WEBPACK_IMPORTED_MODULE_1__.Tx9:z,_=e.scaleColor,R=e.children,I=_objectWithoutPropertiesLoose(e,We),C=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.FgM)(),j=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.uK4)(i),W=j.dimsProps,P=j.origin,B=j.innerSize,A=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.gKR)(l).disabled,Y=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.snp)(o)}),[o]),G=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return l.map((function(e){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.wIU)(e)}))}),[l]),H=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return function(e,n,t,i){return e.map((function(e,r){var a=n.map((function(n){var r=n(e);if(r&&Array.isArray(r))return{value:r,internal:getStripInternalOrder(i,r),valueSize:Array(r.length).fill(t)}}));return{id:e.id,index:r,data:a,domain:a.map((function(e){return e?(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.FG_)(null==e?void 0:e.value):void 0}))}}))}(o,G,v,c)}),[o,G,v,c]),J=getScaleProps(H.map((function(e){return e.id})),H.map((function(e){return e.domain})),w,N,B,p,x?A:Array(l.length).fill(!1)),Q=J.index,T=J.value,U=p?T:Q,Z=p?Q:T,$=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.NVB)(null!=_?_:C.Colors.categorical,l),ee=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.cT_)({x:U,y:Z,color:$}),ne=ee.scales,te=p?ne.y:ne.x,ie=p?ne.x:ne.y,re=getInternalWidthAndGap(te,l,g,a),ae=re[0],oe=re[1],le=re[2],se=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return function(e,n,t,i,r,a,o){return e.map((function(e){var i=n(e.id)-n.bandwidth()/2+a,l=e.data.map((function(e){if(i+=r+o,e){var n=e.value.length,a=n<=1?r:r/(e.value.length-1),l=i-r-o+(n<=1?r/2:0);return{value:e.value.map((function(e){return t(e)})),internal:e.internal.map((function(e){return l+e*a})),valueSize:e.valueSize.map((function(e){return e})),bandStart:i-r-o,bandWidth:r}}}));return{id:e.id,index:e.index,data:l}}))}(H,te,ie,0,ae,oe,le)}),[H,p,te,ie,ae,oe,le]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_1__.PzT,_extends({variant:"strip",position:P,size:W.size,padding:W.padding,originalData:o,processedData:H,seriesIndexes:Y,keys:l,scalesContextValue:ee},I,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(StripPreparedDataProvider,{data:se,seriesIndexes:Y,keys:l,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(framer_motion__WEBPACK_IMPORTED_MODULE_5__.X,{features:framer_motion__WEBPACK_IMPORTED_MODULE_6__.H,children:R})})}))},isStripData=function isStripData(e){return e.map((function(e){return"object"==typeof e&&null!==e&&"id"in e})).every(Boolean)},Pe=["ids","keys","component","className","symbolStyle","dataComponent"],Strips=function Strips(e){var n=e.ids,i=e.keys,r=e.component,o=void 0===r?_chsk_core__WEBPACK_IMPORTED_MODULE_1__.Cdc:r,l=e.className,s=e.symbolStyle,d=e.dataComponent,u=void 0===d?_chsk_core__WEBPACK_IMPORTED_MODULE_1__.Aj5:d,f=_objectWithoutPropertiesLoose(e,Pe),y=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.wIO)().data,h=function useStripPreparedData(){return(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(je)}(),x=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.kE1)().scales,b=x.color,k=h.data,g=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.gKR)(),S=g.disabledKeys,w=g.firstRender,z=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.y7R)(x.y);if(!function isStripProcessedData(e){var n=e.map((function(e){return"object"==typeof e&&null!==e&&"id"in e&&"index"in e&&"data"in e&&"domain"in e}));return n.length>0&&n.every(Boolean)}(y))return null;var _=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.pP)(n,i,h)}),[n,i,h]),R=_.idSet,I=_.keySet,j=h.keys,W=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return j.map((function(e,n){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.hIX)(s,b(n))}))}),[j,s,b]),P=h.keys.map((function(e,n){if(!I.has(e))return null;var t=!S.has(e),i=k.map((function(t){if(!R.has(t.id))return null;var i=t.data[n];if(!i)return null;var r=z?i.value:i.internal,s=z?i.internal:i.value,d=y[t.index].data[n];return i.valueSize.map((function(i,c){return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(u,_extends({key:"point-"+t.index+"-"+n+"-"+c,data:{id:t.id,key:e,index:c,value:null==d?void 0:d.value[c],valueSize:null==d?void 0:d.valueSize[c]},component:o,props:{cx:r[c],cy:s[c],r:i,className:l,style:W[n],setRole:!1}},f))}))})).filter(Boolean).flat();return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_1__.JjT,{role:"strips",visible:t,firstRender:w,children:i},"strips-"+n)}));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment,{children:P})},Be=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({data:[],seriesIndexes:{},keys:[]}),ViolinPreparedDataProvider=function ViolinPreparedDataProvider(e){var n=e.data,i=e.seriesIndexes,r=e.keys,a=e.children,o=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return{data:n,seriesIndexes:i,keys:r}}),[n]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Be.Provider,{value:o,children:a})},Ae=["container","variant","data","keys","breaks","horizontal","autoRescale","paddingInternal","scaleIndex","scaleValue","scaleColor","children"],Violin=function Violin(e){var n=e.container,i=void 0===n?_chsk_core__WEBPACK_IMPORTED_MODULE_1__.WdC:n,r=e.variant,a=void 0===r?"grouped":r,o=e.data,l=e.keys,s=e.breaks,c=void 0===s?20:s,f=e.horizontal,v=void 0!==f&&f,y=e.autoRescale,p=void 0===y||y,h=e.paddingInternal,x=void 0===h?0:h,k=e.scaleIndex,g=void 0===k?_chsk_core__WEBPACK_IMPORTED_MODULE_1__.Us:k,S=e.scaleValue,w=void 0===S?_chsk_core__WEBPACK_IMPORTED_MODULE_1__.Tx9:S,z=e.scaleColor,N=e.children,_=_objectWithoutPropertiesLoose(e,Ae),R=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.FgM)(),I=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.uK4)(i),C=I.dimsProps,j=I.origin,W=I.innerSize,P=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.gKR)(l).disabled,B=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.snp)(o)}),[o]),A=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return l.map((function(e){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.wIU)(e)}))}),[l]),Y=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return function(e,n){return e.map((function(e,t){var i=n.map((function(n){var t=n(e);if(t){if(function isViolinProcessedSummary(e){return"object"==typeof e&&null!==e&&"n"in e&&["values","breaks"].map((function(n){return(0,lodash__WEBPACK_IMPORTED_MODULE_3__.isArray)(e[n])})).every(Boolean)}(t))return{n:t.n,values:t.values,breaks:t.breaks};if(Array.isArray(t))return{n:t.length,values:t}}})),r=i.map((function(e){if(e)return e.breaks?(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.FG_)(e.breaks):(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.FG_)(e.values)}));return{id:e.id,index:t,data:i,domain:r}}))}(o,A)}),[o,A]),G=getScaleProps(Y.map((function(e){return e.id})),Y.map((function(e){return e.domain})),g,w,W,v,p?P:Array(l.length).fill(!1)),H=G.index,J=G.value,Q=v?J:H,T=v?H:J,U=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.NVB)(null!=z?z:R.Colors.categorical,l),Z=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.cT_)({x:Q,y:T,color:U}),$=Z.scales,ee=v?$.y:$.x,ne=v?$.x:$.y,te=getInternalWidthAndGap(ee,l,x,a),ie=te[0],re=te[1],ae=te[2],oe=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return function prepareData(e,n,t,i,r,a,o,l){var s,d=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.FG_)(e.map((function(e){return e.domain.flat().filter((function(e){return void 0!==e}))})).flat()).map((function(e){return t(e)}));return s=Array.isArray(l)?l.map((function(e){return t(e)})):(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.Sye)(d,Number(l)),e.map((function(e){var i=n(e.id)-n.bandwidth()/2+a,l=e.data.map((function(e){if(i+=r+o,e){var n=e.breaks?[]:e.values.map((function(e){return t(e)})),a=e.breaks?e.breaks.map((function(e){return t(e)})):s;return a.sort((function(e,n){return e-n})),{n:e.n,breaks:e.breaks?e.breaks.map((function(e){return t(e)})):a,values:e.breaks?e.values.map((function(e){return t(e)})):(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.NYs)(n,a,!1),bandStart:i-r-o,bandWidth:r}}}));return{id:e.id,index:e.index,data:l}}))}(Y,ee,ne,0,ie,re,ae,c)}),[Y,v,ee,ne,ie,re,ae,c]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_1__.PzT,_extends({variant:"violin",position:j,size:C.size,padding:C.padding,originalData:o,processedData:Y,seriesIndexes:B,keys:l,scalesContextValue:Z},_,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ViolinPreparedDataProvider,{data:oe,seriesIndexes:B,keys:l,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(framer_motion__WEBPACK_IMPORTED_MODULE_5__.X,{features:framer_motion__WEBPACK_IMPORTED_MODULE_6__.H,children:N})})}))},Le=["variant","ids","keys","component","className","dataComponent","style"],Violins=function Violins(e){var n=e.variant,i=void 0===n?"smooth":n,r=e.ids,o=e.keys,l=e.component,s=void 0===l?_chsk_core__WEBPACK_IMPORTED_MODULE_1__.y$t:l,d=e.className,u=e.dataComponent,f=void 0===u?_chsk_core__WEBPACK_IMPORTED_MODULE_1__.oKN:u,y=e.style,h=_objectWithoutPropertiesLoose(e,Le),x=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.wIO)().data,b=function useViolinPreparedData(){return(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(Be)}(),k=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.kE1)().scales,g=k.color,S=b.data,w=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.gKR)(),z=w.disabledKeys,_=w.firstRender,R=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.y7R)(k.y);if(!function isViolinProcessedData(e){var n=e.map((function(e){return"object"==typeof e&&null!==e&&"id"in e&&"index"in e&&"data"in e&&"domain"in e}));return n.length>0&&n.every(Boolean)}(x))return null;var I=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.pP)(r,o,b)}),[r,o,b]),C=I.idSet,j=I.keySet,W=b.keys,P=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return W.map((function(e,n){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.hIX)(y,g(n))}))}),[W,y,g]),B="step"===i?"Step":R?"MonotoneX":"MonotoneY",A=b.keys.map((function(e,n){if(!j.has(e))return null;var t=!z.has(e),i=S.map((function(t){var i;if(!C.has(t.id))return null;var r=t.data[n];if(!r)return null;var o=function(e){var n=e.values,t=e.breaks,i=e.bandStart,r=e.bandWidth,a=e.horizontal,o=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.Fp7)(n);if(o<=0)return[];var l=function(e){for(var n=0,t=e.length;0===e[n]&&n<t;)n+=1;for(;0===e[t-1]&&t>n;)t-=1;return[n,t]}(n),s=l[0],d=l[1],u=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.LM9)(n.slice(s,d),t.slice(s,d+1)),c=r/2,f=i+c,v=u.map((function(e){return[e[0],f+e[1]/o*c]})),m=u.map((function(e){return[e[0],f-e[1]/o*c]})).reverse(),y=v.concat(m);return a?y:y.map((function(e){return[e[1],e[0]]}))}(_extends({},r,{horizontal:R})),l=x[t.index].data[n];return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(f,_extends({key:"violin-"+t.index+"-"+n,data:{id:t.id,key:e,n:null!=(i=null==l?void 0:l.n)?i:0},component:s,props:{variant:"violin",points:o,curve:B,closed:!0,className:d,style:P[n],setRole:!1}},h))})).filter(Boolean);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_1__.JjT,{role:"violins",visible:t,firstRender:_,children:i},"violins-"+n)}));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment,{children:A})}}}]);