import { ArgsTable, Canvas, Meta, Story } from '@storybook/addon-docs'
import { SliceLabel } from '../../src'
import { ChartDoughnutSlicesDecorator } from './decorators'

# SliceLabel

<Meta title="Addons/Polar/Pie/SliceLabel" />

export const Template = args => <SliceLabel {...args} />

`SliceLabel` draws a text element on a pie / doughnut chart.

<ArgsTable of={SliceLabel} />

## Position

The position of the label is specified similarly as in `Slice` components:
with two radii (prop `innerRadius` and `outerRadius`) and two angle ('startAngle' and 'endAngle').
Note that the radii should be given in svg/absolute coordinates, not view coordinates.
Angles can be given in degrees or radians, with the unit set in prop `angleUnit`.

In the example below, a label is set for angles matching the top-left slice in the doughnut chart.
The label should appear in the middle of the slice, i.e. at an angle left from vertical.

<Canvas>
    <Story
        name="label position"
        args={{
            innerRadius: 120,
            outerRadius: 120,
            startAngle: -90,
            endAngle: 0,
            angleUnit: 'degree',
            align: [0.5, 0.5],
            children: 'label',
        }}
        component={SliceLabel}
        decorators={[ChartDoughnutSlicesDecorator]}
    >
        {Template.bind({})}
    </Story>
</Canvas>

Note that label positions can be specified arbitrarily, and radii and angles need not
correspond to slices in the pie/doughnut representation.

## Alignment

Prop `align` takes an array with radial and angular alignment.
In the example below, a value of 0 for the angular alignment positions the label
at an angle that matches the `startAngle` prop.

<Canvas>
    <Story
        name="left-aligned"
        args={{
            innerRadius: 120,
            outerRadius: 120,
            startAngle: -90,
            endAngle: 0,
            angleUnit: 'degree',
            align: [0.5, 0],
            children: 'label',
        }}
        component={SliceLabel}
        decorators={[ChartDoughnutSlicesDecorator]}
    >
        {Template.bind({})}
    </Story>
</Canvas>

## Styling

Labels can be styled using css.

<Canvas>
    <Story
        name="styled"
        args={{
            innerRadius: 120,
            outerRadius: 120,
            startAngle: -90,
            endAngle: 0,
            angleUnit: 'degree',
            align: [0.5, 0.5],
            children: 'label',
            style: { fill: '#000000', fontSize: '14px', fontWeight: 600 },
        }}
        component={SliceLabel}
        decorators={[ChartDoughnutSlicesDecorator]}
    >
        {Template.bind({})}
    </Story>
</Canvas>
