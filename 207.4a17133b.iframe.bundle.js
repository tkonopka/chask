"use strict";(self.webpackChunkchsk=self.webpackChunkchsk||[]).push([[207],{"./packages/band/dist/chsk-band.es.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{$Q:()=>Bar,Ap:()=>DendrogramTree,BS:()=>Violin,CL:()=>isScheduleData,Cu:()=>useBarPreparedData,D_:()=>Strip,Gs:()=>Schedules,KI:()=>Violins,Ll:()=>Bars,O1:()=>BandLabels,Pf:()=>Schedule,Rv:()=>Quantiles,Ts:()=>isDendrogramData,Y_:()=>QuantileTooltip,af:()=>BarAndWhisker,bg:()=>Dendrogram,cO:()=>Quantile,iP:()=>Strips,k6:()=>isStripData,kH:()=>DendrogramSurface,kT:()=>BandSurface,nE:()=>BandHighlight,vW:()=>BarsLabels});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),framer_motion__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/framer-motion/dist/es/render/dom/motion-minimal.mjs"),framer_motion__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/framer-motion/dist/es/components/LazyMotion/index.mjs"),framer_motion__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/framer-motion/dist/es/render/dom/features-animation.mjs"),_chsk_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/core/dist/chsk-core.es.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},_extends.apply(this,arguments)}function _objectWithoutPropertiesLoose(e,n){if(null==e)return{};var t,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)t=a[i],n.indexOf(t)>=0||(r[t]=e[t]);return r}var BandHighlightMask=function BandHighlightMask(e,n,t,i,r,a){var o=n[0],l=n[1],d={initial:a?t?{height:0}:{width:0}:void 0,style:i,className:r};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,t?{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(framer_motion__WEBPACK_IMPORTED_MODULE_2__.m.rect,_extends({animate:{width:(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.UYe)(e[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X][1]),height:(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.UYe)(e[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y][0])}},d),"mask-top"),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(framer_motion__WEBPACK_IMPORTED_MODULE_2__.m.rect,_extends({transform:"translate("+o+","+l+")rotate(180)",animate:{width:(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.UYe)(e[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X][1]),height:(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.UYe)(l-e[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y][1])}},d),"mask-bottom")]}:{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(framer_motion__WEBPACK_IMPORTED_MODULE_2__.m.rect,_extends({animate:{width:e[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X][0],height:e[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y][1]}},d),"mask-left"),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(framer_motion__WEBPACK_IMPORTED_MODULE_2__.m.rect,_extends({transform:"translate("+o+","+l+")rotate(180)",animate:{width:o-e[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X][1],height:e[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y][1]}},d),"mask-right")]})},BandHighlight=function BandHighlight(a){var o=a.ids,l=a.interactive,s=void 0===l||l,d=a.edgeAnimation,u=void 0!==d&&d,I=a.tooltipAlign,N=void 0===I?[.5,.5]:I,C=a.className,j=a.setRole,P=void 0===j||j,W=a.style,A=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIO)(),B=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Bs9)().size,M=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.kE1)().scales,L=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.gKR)().disabledKeys,D=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.lLG)().setData,V=0===M.x.bandwidth()&&0!==M.y.bandwidth(),E=V?M.y:M.x,O=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),q=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),F=q[0],K=q[1],H=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.lRm)(o,null,A).idSet,X=V?B[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]:B[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y],Y=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return e=E,n=H,t=X,i=V,r=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Ax7)(e,n),i?[[0,t],r]:[r,[0,t]];var e,n,t,i,r}),[E,H,X,V]);(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){if(!s&&null===F){var e=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.FG_)(Y[0]),n=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.FG_)(Y[1]);K([e,n])}}),[Y,K]);var T=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(){D({}),K(null)}),[D,K]),U=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(e){if(O&&O.current){var n=O.current.getBoundingClientRect(),t=n.x,i=n.y,r=[e.clientX-t,e.clientY-i];if(!(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.sn2)(r,F)){var a=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.CXu)(r,Y),o=a.indexes,l=a.zone;if(null!==l){var s=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.ueV)([l[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X][0],l[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y][0]],(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.gCP)(l),N),d=s[0],u=s[1],c=V?o[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]:o[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X],v=A.data[c].id,f=A.data[c].data.map((function(e,n){return _extends({},e,{id:v,key:A.keys[n]})})).filter((function(e){return!(e.key&&L.has(e.key))}));D({x:d,y:u,title:v,data:f}),K(l)}else T()}}}),[Y,O,F,K]),G=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("rect",{ref:O,role:P?"band-detector":void 0,width:B[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X],height:B[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y],style:{opacity:0},onMouseMove:U,onMouseLeave:T}),J=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.gjB)("band-highlight",C);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)("g",{role:"band-highlight",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.JjT,{role:P?"band-highlight-mask":void 0,visible:null!==F,firstRender:!1,children:null===F?null:BandHighlightMask(F,B,V,W,J,u)},"band-highlight-mask"),s?G:null]})},BandSurface=function BandSurface(e){var t,i=e.variant,o=void 0===i?"step":i,l=e.ids,s=e.expansion,d=void 0===s?[0,0]:s,u=e.interactive,m=void 0!==u&&u,b=e.tooltip,g=void 0!==b&&b,k=e.component,S=void 0===k?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.AeJ:k,w=e.dataComponent,_=void 0===w?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Aj5:w,R=e.handlers,I=e.modifiers,j=e.className,P=e.setRole,W=void 0!==P&&P,A=e.style,B=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIO)(),M=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Bs9)().size,L=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.kE1)().scales,D=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.lLG)().data,V=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(void 0),E=V[0],O=V[1],q=0===L.x.bandwidth()&&0!==L.y.bandwidth(),F=q?L.y:L.x,K="step"===o?F.step():F.bandwidth(),H=(q?M[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]:M[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y])+d[0]+d[1],X=q?K:H,Y=q?H:K,T=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.lRm)(l,null,B).idSet,U=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.gjB)("bandSurface",j),G=null==D||null==(t=D.data)?void 0:t[0].id,J=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(e,n){null==R||null==R.onMouseEnter||R.onMouseEnter(e,n),O(null==e?void 0:e.id)}),[R,O]),Q=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(e,n){null==R||null==R.onMouseLeave||R.onMouseLeave(e,n),O(void 0)}),[R,O]),Z=m?_extends({},R,{onMouseEnter:J,onMouseLeave:Q}):R,$={setRole:W,width:Y,height:X,className:U,style:A},ee=B.data.map((function(e,n){if(!T.has(e.id))return null;var t=F(e.id),i=q?-d[0]:t-K/2,r=q?t-K/2:-d[0],o=!!g&&G===e.id,l=!!m&&e.id===E,s=!g&&!m;return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_,{key:"band-"+n,component:S,data:{id:e.id},props:_extends({},$,{x:i,y:r,opacity:+(s||l||o)}),handlers:Z,modifiers:I})})).filter(Boolean);return 0===ee.length?null:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("g",{role:"band-surface",children:ee})},BandLabels=function BandLabels(e){var n=e.ids,t=e.position,i=void 0===t?1:t,r=e.size,o=void 0===r?[1,1]:r,l=e.unit,s=void 0===l?"relative":l,d=e.offset,u=void 0===d?[0,0]:d,m=e.align,h=e.padding,b=e.format,g=void 0===b?function(e){return String(e.id)}:b,k=e.component,S=void 0===k?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.__J:k,w=e.className,_=e.setRole,R=void 0!==_&&_,I=e.style,N=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.W3B)().data,C=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIO)(),A=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Bs9)(),B=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.kE1)().scales,M=0===B.x.bandwidth()&&0!==B.y.bandwidth(),L=M?B.y:B.x,D=L.bandwidth(),V=C.data,E=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.lRm)(n,null,C).idSet,O=function(e,n,t,i,r){var a=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.eE7)([e,e],n,t,i);return r?a[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]:a[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]}(i,s,A.size,B,M),q="relative"===s?[o[0]*D,o[1]*D]:o,F=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.gjB)("bandLabel",w),K=V.map((function(e,n){if(!E.has(e.id))return null;var t=g(N[n]),i=L(e.id),r=M?[O,i]:[i,O];return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(S,{key:"band-label-"+n,position:[r[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]+u[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X],r[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]+u[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]],size:q,align:m,padding:h,className:F,style:I,variant:"label",setRole:R},t)})).flat().filter(Boolean);return 0===K.length?null:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("g",{role:"band-labels",children:K})},be=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({data:[],seriesIndexes:{},keys:[]}),BarPreparedDataProvider=function BarPreparedDataProvider(e){var n=e.data,i=e.seriesIndexes,r=e.keys,a=e.children,o=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return{data:n,seriesIndexes:i,keys:r}}),[n]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(be.Provider,{value:o,children:a})},useBarPreparedData=function useBarPreparedData(){return(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(be)},getScaleProps=function getScaleProps(e,n,t,i,r,a,o,l){void 0===l&&(l=!1);var s={index:(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.BRZ)(t),value:(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.BRZ)(i)};if((0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.HBl)(t)||(s.index.domain=e),!(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.HBl)(i)){var filterDisabled=function filterDisabled(e,n){return!o[n]},isValue=function isValue(e){return void 0!==e&&isFinite(Number(e))},d=n.map((function(e){return e.filter(filterDisabled).flat().filter(isValue)})),u=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.FG_)(l?d.map((function(e){var n=e.reduce((function(e,n){return isFinite(n)&&n>0?e+n:e}),0);return[e.reduce((function(e,n){return isFinite(n)&&n<0?e+n:e}),0),n]})).flat():d.flat());s.value=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.zAC)(i,u)}return s.index.size=a?r[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]:r[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X],s.value.size=a?r[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]:r[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y],s},getInternalWidthAndGap=function getInternalWidthAndGap(e,n,t,i){var r=e.bandwidth(),a=n.length,o=t||0,l="grouped"===i?r/a:r,s=l*o;return"grouped"===i?[l*(1-o),s/2,s]:[l*(1-o),s/2,-l*(1-o)]},ge=["container","variant","data","keys","horizontal","autoRescale","paddingInternal","scaleIndex","scaleValue","scaleColor","children"],Bar=function Bar(e){var n=e.container,i=void 0===n?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.WdC:n,r=e.variant,a=void 0===r?"grouped":r,o=e.data,l=e.keys,s=e.horizontal,c=void 0!==s&&s,v=e.autoRescale,f=void 0===v||v,h=e.paddingInternal,y=void 0===h?0:h,p=e.scaleIndex,x=void 0===p?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Us:p,b=e.scaleValue,g=void 0===b?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Tx9:b,k=e.scaleColor,S=e.children,w=_objectWithoutPropertiesLoose(e,ge),z=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.FgM)(),_=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.uK4)(i),R=_.dimsProps,I=_.origin,N=_.innerSize,C=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.gKR)(l).disabled,j=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.snp)(o)}),[o]),P=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return function(e,n){var t=n.map((function(e){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIU)(e)}));return e.map((function(e,n){var i=t.map((function(n){return Number(n(e))}));return{id:e.id,index:n,data:i,domain:i.map((function(e){return[0,e]}))}}))}(o,l)}),[o,l]),W="stacked"===a,A=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return getScaleProps(P.map((function(e){return e.id})),P.map((function(e){return e.domain})),x,g,N,c,f?C:Array(l.length).fill(!1),W)}),[P,x,g,N,c,f,C,l,W]),B=A.index,M=A.value,Y=c?M:B,T=c?B:M,U=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.NVB)(null!=k?k:z.Colors.categorical,l),G=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.cT_)({x:Y,y:T,color:U}),J=G.scales,Q=c?J.y:J.x,Z=c?J.x:J.y,$=getInternalWidthAndGap(Q,l,y,a),ee=$[0],ne=$[1],te=$[2],ie=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return function(e,n,t,i,r,a,o,l,s){var d=t(0);return e.map((function(e){var u=e.data.map((function(e,n){return s[n]||!e?0:t(e)-d})),c=n(e.id)-n.bandwidth()/2,v=[],f=[];if(i?u.forEach((function(e){f.push([e,a])})):u.forEach((function(e){f.push([a,e])})),u=u.map((function(e){return null!=e?e:d})),r)if(i){var m=d;u.forEach((function(e){v.push([m,c]),m+=e}))}else{var h=d;u.forEach((function(e){v.push([c,h]),h+=e}))}else if(i){var y=c+o;u.forEach((function(){v.push([d,y]),y+=a+l}))}else{var p=c+o;u.forEach((function(){v.push([p,d]),p+=a+l}))}return{id:e.id,index:e.index,position:v,size:f}}))}(P,Q,Z,c,W,ee,ne,te,C)}),[P,c,W,Q,Z,ee,ne,te,C]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.PzT,_extends({variant:"bar",position:I,size:R.size,padding:R.padding,originalData:o,processedData:P,seriesIndexes:j,keys:l,scalesContextValue:G},w,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(BarPreparedDataProvider,{data:ie,seriesIndexes:j,keys:l,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(framer_motion__WEBPACK_IMPORTED_MODULE_4__.X,{features:framer_motion__WEBPACK_IMPORTED_MODULE_5__.H,children:S})})}))},isBarProcessedData=function isBarProcessedData(e){var n=e.map((function(e){return"object"==typeof e&&null!==e&&"id"in e&&"index"in e&&"data"in e&&"domain"in e}));return n.length>0&&n.every(Boolean)},ke=["ids","keys","component","className","style","dataComponent"],Bars=function Bars(e){var n=e.ids,i=e.keys,r=e.component,o=void 0===r?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.AeJ:r,l=e.className,s=e.style,d=e.dataComponent,u=void 0===d?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.oKN:d,v=_objectWithoutPropertiesLoose(e,ke),h=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIO)().data,p=useBarPreparedData(),x=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.kE1)().scales.color,b=p.data,g=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.gKR)(),k=g.disabledKeys,S=g.firstRender,w=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.lRm)(n,i,p),z=w.idSet,R=w.keySet;if(!isBarProcessedData(h))return null;var I=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return p.keys.map((function(e,n){var t=x(n);return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.hIX)(s,t)}))}),[p,s,x]),C=p.keys.map((function(e,n){if(!R.has(e))return null;var t=!k.has(e),i=b.map((function(t){if(!z.has(t.id))return null;var i=t.position[n],r=t.size[n];return 0===r[0]||0===r[1]?null:(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(u,_extends({key:"bar-"+t.id+"-"+e,component:o,data:{id:t.id,key:e,data:h[t.index].data[n]},props:{x:i[0],y:i[1],width:r[0],height:r[1],className:l,style:I[n],variant:"bar",setRole:!1}},v))})).filter(Boolean);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.JjT,{role:"bars",visible:t,firstRender:S,children:i},"bars-"+e)}));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:C.filter(Boolean)})},BarsLabels=function BarsLabels(e){var n=e.variant,t=void 0===n?"bar-label":n,i=e.ids,r=e.keys,o=e.format,l=void 0===o?function(e){return String(e)}:o,s=e.padding,d=void 0===s?[4,4,4,4]:s,u=e.minSize,v=void 0===u?[40,10]:u,f=e.align,h=void 0===f?[.5,.5]:f,b=e.offset,g=void 0===b?[0,0]:b,k=e.angle,S=e.className,w=e.setRole,R=void 0!==w&&w,I=e.style,N=e.showOuter,C=void 0!==N&&N,j=e.styleOuter,P=e.component,A=void 0===P?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.__J:P,B=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIO)().data,M=useBarPreparedData(),L=M.data,D=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.gKR)(),V=D.disabledKeys,E=D.firstRender,O=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.lRm)(i,r,M),q=O.idSet,F=O.keySet;if(!isBarProcessedData(B))return null;var K=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.gjB)(t,S),H=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.gjB)(t+" out",S),X={align:h,angle:k,padding:d,setRole:R},Y=M.keys.map((function(e,n){if(!F.has(e))return null;var t=!V.has(e),i=L.map((function(e,t){if(!q.has(e.id))return null;var i=e.size[n],r=e.position[n],o=[r[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]+g[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]+i[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]/2,r[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]+g[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]+i[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]/2],s=I,d=K;if(Math.abs(i[0])<v[0]||Math.abs(i[1])<v[1]){if(!C)return null;s=j,o[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]+=i[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X],d=H}return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(A,_extends({key:"label-"+t+"-"+n,position:o,size:i,className:d,style:s},X),l(B[t].data[n]))})).filter(Boolean);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.JjT,{role:"bars-labels",visible:t,firstRender:E,children:i},"labels-"+n)}));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:Y.filter(Boolean)})},Se=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({data:[],seriesIndexes:{},keys:[]}),DendrogramPreparedDataProvider=function DendrogramPreparedDataProvider(e){var n=e.data,i=e.seriesIndexes,r=e.keys,a=e.children,o=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return{data:n,seriesIndexes:i,keys:r}}),[n]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Se.Provider,{value:o,children:a})},useDendrogramPreparedData=function useDendrogramPreparedData(){return(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(Se)},we=["container","variant","data","scaleIndex","scaleValue","hang","children"],Dendrogram=function Dendrogram(e){var n=e.container,i=void 0===n?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.WdC:n,r=e.variant,a=void 0===r?"bottom":r,o=e.data,l=e.scaleIndex,s=void 0===l?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Us:l,c=e.scaleValue,v=void 0===c?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Bs3:c,f=e.hang,m=void 0===f?-1:f,h=e.children,y=_objectWithoutPropertiesLoose(e,we),p=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.uK4)(i),x=p.dimsProps,g=p.origin,k=p.innerSize,S=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.snp)(o)}),[o]),w="right"===a||"left"===a,z=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return function(e,n){return e.map((function(e,t){var i=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.FG_)(e.height);return{id:e.id,index:t,domain:n<0?[0,i[1]]:[i[0]-n,i[1]]}}))}(o,m)}),[o,m]),_=o[0].keys,R=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return getScaleProps(_,o.map((function(e){return e.keys.map((function(){return z[0].domain}))})),s,v,k,w,Array(_.length).fill(!1),!1)}),[z,s,v,k,w]),I=R.index,N=R.value,C=w?N:I,j=w?I:N;N.reverse="top"===a||"right"===a;var P=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.cT_)({x:C,y:j}),W=P.scales,A=w?W.y:W.x,B=w?W.x:W.y,M=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return function(e,n,t,i){var r=Math.abs;return e.map((function(e,a){var o=e.merge.length,l=Array(o).fill(0),s=Array(o).fill(0),d=e.keys.map(n),u=Array(e.keys.length).fill(t(0)),c=[],v=[];return e.merge.map((function(n,a){var o=e.height[a];s[a]=t(o);var f=[0,0],m=[0,0,s[a]],h=n[0],y=n[1];h<0&&i>=0&&(u[r(h)-1]=t(o-i)),y<0&&i>=0&&(u[r(y)-1]=t(o-i)),m[0]=h<0?u[r(h)-1]:v[h-1][0],m[1]=y<0?u[r(y)-1]:v[y-1][1],f[0]=h<0?d[r(h)-1]:l[h-1],f[1]=y<0?d[r(y)-1]:l[y-1],l[a]=.5*(f[0]+f[1]),h>0&&f.push(c[h-1]),y>0&&f.push(c[y-1]),c[a]=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.FG_)(f.flat()),v[a]=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.FG_)(m)})),{id:e.id,index:a,merge:e.merge,position:l,height:s,leafPosition:d,leafHeight:u,positionInterval:c,heightInterval:v}}))}(o,A,B,m)}),[o,A,B,m]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.PzT,_extends({variant:"dendrogram",position:g,size:x.size,padding:x.padding,originalData:o,processedData:z,seriesIndexes:S,keys:_,scalesContextValue:P},y,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(DendrogramPreparedDataProvider,{data:M,seriesIndexes:S,keys:_,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(framer_motion__WEBPACK_IMPORTED_MODULE_4__.X,{features:framer_motion__WEBPACK_IMPORTED_MODULE_5__.H,children:h})})}))},isDendrogramData=function isDendrogramData(e){var n=e.map((function(e){if("object"!=typeof e||null===e)return!1;if("id"in e&&"keys"in e&&"height"in e&&"merge"in e){var n=e.merge,t=e.height;return!(!(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.kJL)(t)||!(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.kJL)(n))&&t.length===n.length}return!1}));return n.length>0&&n.every(Boolean)},_e=function getSubTree(e,n,t){t.push(n);var i=e.merge[n];i[0]>0&&getSubTree(e,i[0]-1,t),i[1]>0&&getSubTree(e,i[1]-1,t)},getTargetLevels=function getTargetLevels(e,n,t,i,r){void 0===r&&(r=!1);var a=[];if(void 0===i&&void 0===t?a=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.w6H)(e.merge.length):void 0!==t&&(a=a.concat(t)),void 0!==i){var o=function(e,n,t){for(var i=t.map((function(e){return n(e)})),r=e.positionInterval.length-1,_loop=function _loop(){var n=e.positionInterval[a];if(i.every((function(e){return e>=n[0]&&e<=n[1]})))return{v:a}},a=0;a<r;a++){var o=_loop();if("object"==typeof o)return o.v}return r}(e,n,i);if(r){var l=[];_e(e,o,l),a=a.concat(l)}else a.push(o)}return a.sort((function(e,n){return n-e})),a},DendrogramSurface=function DendrogramSurface(e){var t=e.levels,i=e.ids,o=e.keys,l=e.expansion,s=void 0===l?[0,0,0,0]:l,d=e.expansionUnit,u=void 0===d?"band":d,c=e.component,v=void 0===c?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.AeJ:c,m=e.dataComponent,h=void 0===m?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Aj5:m,p=e.interactive,x=void 0!==p&&p,b=e.handlers,g=e.modifiers,k=e.className,S=e.style,w=e.setRole,z=void 0===w||w,_=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.W3B)().data,R=useDendrogramPreparedData(),I=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.kE1)().scales,P=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.y7R)(I.y),W=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(void 0),A=W[0],B=W[1],M=P?I.y:I.x,L=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.lRm)(i,o,R),D=L.idSet,V=L.keyArray;if(!isDendrogramData(_))return null;var E="band"===u?M.bandwidth():M.step(),O=s.map((function(e){return e*E})),q=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(e,n){null==b||null==b.onMouseEnter||b.onMouseEnter(e,n),B(e)}),[b,B]),F=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(e,n){null==b||null==b.onMouseLeave||b.onMouseLeave(e,n),B(void 0)}),[b,B]),K=x?_extends({},b,{onMouseEnter:q,onMouseLeave:F}):b,H={variant:"dendrogram-surface",setRole:z,className:k,style:S},X=R.data.map((function(e){var n=e.id;if(!D.has(n))return null;var i=_[e.index];return getTargetLevels(e,M,t,void 0===o?o:V).map((function(t){var r=function(e,n,t,i){var r=e.positionInterval[n],a=e.heightInterval[n],o=a[1]-a[0],l=r[1]-r[0];return{x:(t?a[0]:r[0])-i[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.RLj],y:(t?r[0]:a[0])-i[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.GSB],width:(t?o:l)+i[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.RLj]+i[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.pXp],height:(t?l:o)+i[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.GSB]+i[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.DaS]}}(e,t,P,O),o=!!x&&e.id===(null==A?void 0:A.id)&&t===(null==A?void 0:A.level);return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(h,{key:"branch-"+n+"-"+t,component:v,data:{id:n,level:t,data:i},props:_extends({},r,H,{opacity:+(o||!x)}),handlers:K,modifiers:g})}))}));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:X.filter(Boolean)})},nodePoint=function nodePoint(e,n,t){var i=n<0?e.leafPosition:e.position,r=n<0?e.leafHeight:e.height,a=[i[Math.abs(n)-1],r[Math.abs(n)-1]];return t?a.reverse():a},DendrogramTree=function DendrogramTree(e){var n=e.levels,t=e.ids,i=e.keys,r=e.component,o=void 0===r?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.y$t:r,l=e.dataComponent,s=void 0===l?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Aj5:l,d=e.handlers,u=e.modifiers,c=e.className,v=e.style,m=e.setRole,h=void 0===m||m,b=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.W3B)().data,g=useDendrogramPreparedData(),k=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.kE1)().scales,S=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.lRm)(t,i,g),w=S.idSet,z=S.keyArray,_=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.y7R)(k.y),R=_?k.y:k.x;if(!isDendrogramData(b))return null;var I=g.data.map((function(e){var t=e.id;if(!w.has(t))return null;var r=getTargetLevels(e,R,n,void 0===i?i:z,!0).map((function(n){var i=e.merge[n],r=function(e,n,t,i,r){var a=Array(4);a[0]=nodePoint(e,t,r),a[3]=nodePoint(e,i,r);var o=nodePoint(e,n,r);return r?(a[1]=[o[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X],a[0][_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]],a[2]=[o[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X],a[3][_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]]):(a[1]=[a[0][_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X],o[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]],a[2]=[a[3][_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X],o[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]]),a}(e,n+1,i[0],i[1],_);return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(s,{key:"tree-"+e.index+"-"+n,data:{id:t,level:n,data:b[e.index]},component:o,props:{variant:"dendrogram",points:r,className:c,style:v,setRole:!1},handlers:d,modifiers:u})}));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("g",{role:h?"dendrogram-tree":void 0,children:r},"tree-"+e.index)}));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:I.filter(Boolean)})},Re=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({data:[],seriesIndexes:{},keys:[]}),QuantilePreparedDataProvider=function QuantilePreparedDataProvider(e){var n=e.data,i=e.seriesIndexes,r=e.keys,a=e.children,o=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return{data:n,seriesIndexes:i,keys:r}}),[n]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Re.Provider,{value:o,children:a})},Ie=["data","horizontal","boxStyle","whiskerStyle","whiskerCapWidth","className","style","setRole"],BarAndWhisker=function BarAndWhisker(e){var n=e.data,t=e.horizontal,i=e.boxStyle,r=e.whiskerStyle,a=e.whiskerCapWidth,o=void 0===a?0:a,l=e.className,d=e.style,u=e.setRole,c=_objectWithoutPropertiesLoose(e,Ie),v=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.kE1)().scales;if(!n)return null;if(void 0===n.moments||void 0===n.interval)return null;var m=n.bandWidth/2,h=o*m,y=n.bandStart+m,p=n.moments[0],x=(t?v.x:v.y)(0),b={className:l,setRole:!1},g=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.AeJ,_extends({variant:"bar",x:-m,y:0,width:n.bandWidth,height:x-p,style:i},b),"bar"),k=[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.x12,_extends({variant:"whisker",x1:0,x2:0,y1:0,y2:-p+n.interval[1],style:r},b),"whisker")],S=[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.x12,_extends({variant:"whisker-cap",x1:-h,x2:h,y1:-p+n.interval[1],y2:-p+n.interval[1],style:r},b),"whisker-cap")],w={x:t?p:y,y:t?y:p,rotate:t?-90:0,originX:"0px",originY:"0px"};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(framer_motion__WEBPACK_IMPORTED_MODULE_2__.m.g,_extends({initial:w,animate:w,role:u?"bar-and-whisker":void 0,style:d},c,{children:[g,k,o>0?S:null]}))},Ne=["data","horizontal","boxStyle","whiskerStyle","middleStyle","whiskerCapWidth","className","style","setRole"],BoxAndWhiskers=function BoxAndWhiskers(e){var n=e.data,t=e.horizontal,i=e.boxStyle,r=e.whiskerStyle,a=e.middleStyle,o=e.whiskerCapWidth,l=void 0===o?0:o,d=e.className,u=e.style,c=e.setRole,v=_objectWithoutPropertiesLoose(e,Ne);if(!n)return null;var f=n.bandWidth/2,m=l*f,h=n.values,y=n.bandStart+f,p=n.values[2],x={className:d,setRole:!1},b=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.AeJ,_extends({variant:"box",x:-f,y:-p+h[3],width:n.bandWidth,height:h[1]-h[3],style:i},x),"box"),g=[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.x12,_extends({variant:"median",x1:-f,x2:+f,y1:0,y2:0,style:a},x),"median"),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.x12,_extends({variant:"whisker",x1:0,x2:0,y1:-p+h[3],y2:-p+h[4],style:r},x),"whisker-upper"),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.x12,_extends({variant:"whisker",x1:0,x2:0,y1:-p+h[1],y2:-p+h[0],style:r},x),"whisker-lower")],k=[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.x12,_extends({variant:"whisker-cap",x1:-m,x2:m,y1:-p+h[4],y2:-p+h[4],style:r},x),"whisker-upper-cap"),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.x12,_extends({variant:"whisker-cap",x1:-m,x2:m,y1:-p+h[0],y2:-p+h[0],style:r},x),"whisker-lower-cap")],S={x:t?p:y,y:t?y:p,rotate:t?-90:0,originX:"0px",originY:"0px"};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(framer_motion__WEBPACK_IMPORTED_MODULE_2__.m.g,_extends({initial:S,animate:S,role:c?"box-and-whiskers":void 0,style:u},v,{children:[b,g,l>0?k:null]}))},getQuantiles=function getQuantiles(e,n){var t=e.length-1,i=[].concat(e).sort((function(e,n){return e-n}));return n.map((function(e){return function(e,n,t){var i=t*Math.max(0,Math.min(1,n)),r=Math.floor(i);if(i===r)return e[r];var a=e[r];return a+(e[r+1]-a)*(i-r)}(i,e,t)}))},je=Array.isArray,isQuantileProcessedSummary=function isQuantileProcessedSummary(e){if("object"!=typeof e||null===e)return!1;if(!("n"in e))return!1;var n=[5,5,2];return["values","quantiles","extrema"].map((function(t,i){return je(e[t])&&e[t].length===n[i]})).every(Boolean)},Pe=["container","variant","data","keys","quantiles","horizontal","autoRescale","paddingInternal","scaleIndex","scaleValue","scaleColor","children"],Quantile=function Quantile(e){var n=e.container,i=void 0===n?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.WdC:n,r=e.variant,a=void 0===r?"grouped":r,o=e.data,l=e.keys,s=e.quantiles,c=void 0===s?[.05,.25,.5,.75,.95]:s,v=e.horizontal,f=void 0!==v&&v,h=e.autoRescale,y=void 0===h||h,p=e.paddingInternal,x=void 0===p?0:p,g=e.scaleIndex,k=void 0===g?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Us:g,S=e.scaleValue,w=void 0===S?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Tx9:S,z=e.scaleColor,_=e.children,R=_objectWithoutPropertiesLoose(e,Pe),I=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.FgM)(),N=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.uK4)(i),C=N.dimsProps,j=N.origin,P=N.innerSize,W=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.gKR)(l).disabled,A=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.snp)(o)}),[o]),B=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return function(e,n,t){var i=n.map((function(e){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIU)(e)}));return e.map((function(e,n){var r=i.map((function(n){var i=n(e);if(i){if(isQuantileProcessedSummary(i))return{n:i.n,moments:i.moments,interval:i.interval,values:i.values,quantiles:i.quantiles,extrema:i.extrema};if(Array.isArray(i)){var r=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Gi7)(i),a=r[0],o=r[1],l=isFinite(o)?Math.sqrt(o):0;return{n:i.length,moments:[a,o],interval:[a-l,a+l],values:getQuantiles(i,t),quantiles:t,extrema:(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.FG_)(i)}}}}));return{id:e.id,index:n,data:r,domain:r.map((function(e){return e?(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.FG_)(e.extrema):void 0}))}}))}(o,l,c)}),[o,l,c]),M=getScaleProps(B.map((function(e){return e.id})),B.map((function(e){return e.domain})),k,w,P,f,y?W:Array(l.length).fill(!1)),Y=M.index,T=M.value,U=f?T:Y,G=f?Y:T,J=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.NVB)(null!=z?z:I.Colors.categorical,l),Q=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.cT_)({x:U,y:G,color:J}),Z=Q.scales,$=f?Z.y:Z.x,ee=f?Z.x:Z.y,ne=getInternalWidthAndGap($,l,x,a),te=ne[0],ie=ne[1],ae=ne[2],oe=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return function(e,n,t,i,r,a,o){return e.map((function(e){var i=n(e.id)-n.bandwidth()/2+a,l=e.data.map((function(e){var n,a;if(i+=r+o,void 0!==e)return{n:e.values.length,moments:null==(n=e.moments)?void 0:n.map((function(e){return t(Number(e))})),interval:null==(a=e.interval)?void 0:a.map((function(e){return t(Number(e))})),values:e.values.map((function(e){return t(e)})),quantiles:e.quantiles,extrema:e.extrema.map((function(e){return t(e)})),bandStart:i-r-o,bandWidth:r}}));return{id:e.id,index:e.index,data:l}}))}(B,$,ee,0,te,ie,ae)}),[B,$,ee,f,te,ie,ae]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.PzT,_extends({variant:"distribution",position:j,size:C.size,padding:C.padding,originalData:o,processedData:B,seriesIndexes:A,keys:l,scalesContextValue:Q},R,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(QuantilePreparedDataProvider,{data:oe,seriesIndexes:A,keys:l,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(framer_motion__WEBPACK_IMPORTED_MODULE_4__.X,{features:framer_motion__WEBPACK_IMPORTED_MODULE_5__.H,children:_})})}))},InformationTable=function InformationTable(e){var n=e.position,t=e.size,i=e.labels,r=e.values,a=e.className,o=e.style;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:[i.map((function(e,i){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("text",{x:n[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X],y:n[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]+i*t[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y],className:a+" label",style:o,children:void 0!==r[i]?e+":":""},"label-"+i)})),r.map((function(e,i){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("text",{x:n[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]+t[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X],y:n[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]+i*t[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y],className:a+" value",style:o,children:null!=e?e:""},"value-"+i)}))]})},QuantileTooltipItem=function QuantileTooltipItem(e){var n=e.position,t=void 0===n?[0,0]:n,i=e.data,r=e.padding,o=void 0===r?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.WO3.padding:r,l=e.color,s=e.r,d=void 0===s?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.WWF.r:s,u=e.symbol,c=void 0===u?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.bK0:u,v=e.symbolStyle,m=e.label,h=e.labelStyle,y=e.labelDistance,b=void 0===y?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.WWF.labelDistance:y,g=e.valueFormat,k=void 0===g?function(e){return String(e)}:g,S=e.cellSize,w=void 0===S?[40,20]:S,_=e.cellPadding,R=void 0===_?20:_,I=e.cellStyle,N=e.className,C=e.style,j=e.setRole,P=void 0===j||j,W=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.kE1)().scales.color;if(!isQuantileProcessedSummary(i))return null;if(!i)return null;var A="key"in i?String(i.key):"",B=[d+o[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.RLj],d+o[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.GSB]],M=[B[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]+d+b,B[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]],L=function(e,n,t,i){var r="number"==typeof n?t(n):null!=n?n:t(t.domain().indexOf(null!=i?i:""));return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.hIX)(e,r)}(v,l,W,A),D=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.gjB)("tooltipSymbol right",N),V=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.gjB)("tooltipItem right",N),E=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.gjB)("tooltipItem",N),O=[o[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.RLj],Math.max(o[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.GSB]+1.5*w[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y],2*M[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y])],q=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(InformationTable,{position:O,size:w,labels:["n","mean","stdev","min","max"],values:[i.n,i.moments?k(i.moments[0]):void 0,i.moments&&isFinite(i.moments[1])?k(Math.sqrt(i.moments[1])):void 0,k(i.extrema[0]),k(i.extrema[1])],className:E,style:I},"info-n-mean"),F=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(InformationTable,{position:[O[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]+2*w[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]+R,O[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]],size:w,labels:i.quantiles.map((function(e){return String(100*e)+"%"})),values:i.values.map((function(e){return k(e)})),className:E},"info-q");return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)("g",{role:P?"tooltip-item":void 0,transform:(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.R6R)(t),style:C,className:"tooltipItem",children:[(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(c,{key:"symbol-"+A,cx:B[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X],cy:B[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y],r:d,className:D,style:L,setRole:!1}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("text",{x:M[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X],y:M[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y],className:V,style:h,children:null!=m?m:A},"label"),q,F]},"item-"+A)},QuantileTooltip=function QuantileTooltip(e){var n,t,i,r=e.offset,a=void 0===r?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.WWF.offset:r,o=e.size,l=e.anchor,s=void 0===l?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.WWF.anchor:l,d=e.padding,u=void 0===d?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.WWF.padding:d,c=e.rx,v=void 0===c?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.WWF.rx:c,f=e.ry,m=void 0===f?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.WWF.ry:f,y=e.maxOverhang,b=void 0===y?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.WWF.maxOverhang:y,g=e.itemSize,k=void 0===g?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.WWF.itemSize:g,S=e.itemPadding,w=void 0===S?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.WWF.itemPadding:S,z=e.firstOffset,_=void 0===z?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.WWF.firstOffset:z,R=e.title,I=e.titleStyle,N=e.titleFormat,C=e.r,j=void 0===C?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.WWF.r:C,P=e.symbol,W=void 0===P?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.bK0:P,A=e.symbolStyle,B=e.labelStyle,M=e.labelDistance,L=void 0===M?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.WWF.labelDistance:M,D=e.labelFormat,V=e.valueFormat,E=void 0===V?function(e){return String(e)}:V,O=e.cellSize,q=void 0===O?[40,20]:O,F=e.cellPadding,K=void 0===F?20:F,H=e.cellStyle,X=e.className,Y=e.style,T=e.setRole,U=void 0===T||T,G=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.lLG)().data,J=null!=(n=null==G?void 0:G.data)?n:[];if(!J.every((function(e){return isQuantileProcessedSummary(e)})))return null;R=null!=(t=R)?t:null===N?"":N?N(G):G.title;var Q=J.length,te=[4*q[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]+K,5*q[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]];o=null!=(i=o)?i:[Math.max(k[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X],te[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X])+u[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.RLj]+u[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.pXp],k[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]*Q+(R?k[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]:0)+te[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]*Q+u[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.GSB]+u[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.DaS]];var ie=[u[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.RLj],u[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.GSB]],re=[u[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.RLj],u[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.GSB]],ae=[0,k[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]];R&&(re[0]+=ae[0]+_[0],re[1]+=ae[1]+_[1]);var le=Array(Q).fill(0).map((function(e,n){return[u[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.RLj],re[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]+(k[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]+te[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y])*n]})),ce=J.map((function(e,n){var t,i,r,a=null!=(t=e.key)?t:"";return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(QuantileTooltipItem,{position:le[n],data:e,label:D&&null!=(i=D(e))?i:a,labelDistance:L,item:null!=(r=e.key)?r:"",padding:w,symbol:W,symbolStyle:A,labelStyle:B,className:X,valueFormat:E,cellPadding:K,cellSize:q,cellStyle:H},"item-"+n)}));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.ua7,{offset:a,size:o,padding:u,anchor:s,rx:v,ry:m,maxOverhang:b,style:Y,setRole:U,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.CKu,{variant:"right",position:ie,size:k,padding:w,offset:[0,j],style:I,className:X,children:R},"title"),ce]})},We=["ids","keys","component","className","setRole","boxStyle","whiskerStyle","middleStyle","whiskerCapWidth","dataComponent"],Quantiles=function Quantiles(e){var n=e.ids,i=e.keys,r=e.component,o=e.className,l=e.setRole,s=void 0===l||l,d=e.boxStyle,u=e.whiskerStyle,v=e.middleStyle,h=e.whiskerCapWidth,p=e.dataComponent,x=void 0===p?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.oKN:p,b=_objectWithoutPropertiesLoose(e,We),g=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIO)().data,k=function useQuantilePreparedData(){return(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(Re)}(),S=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.kE1)().scales,w=S.color,z=k.data,R=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.gKR)(),I=R.disabledKeys,N=R.firstRender,C=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.y7R)(S.y),j=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.lRm)(n,i,k),P=j.idSet,W=j.keySet;if(!function isQuantileProcessedData(e){var n=e.map((function(e){return"object"==typeof e&&null!==e&&"id"in e&&"index"in e&&"data"in e&&"domain"in e}));return n.length>0&&n.every(Boolean)}(g))return null;var A=k.keys,B=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return A.map((function(e,n){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.hIX)(d,w(n))}))}),[A,d,w]),M=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return A.map((function(e,n){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.hIX)(u,w(n))}))}),[A,u,w]),L=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return A.map((function(e,n){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.hIX)(v,w(n))}))}),[A,v,w]),D=k.keys.map((function(e,n){if(!W.has(e))return null;var t=!I.has(e),i=z.map((function(t){if(!P.has(t.id))return null;var i=t.data[n],l=g[t.index].data[n];return l?(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(x,_extends({key:"quantiles-"+t.index+"-"+n,data:_extends({id:t.id,key:e},l),component:null!=r?r:BoxAndWhiskers,props:{data:i,horizontal:C,className:o,boxStyle:B[n],whiskerStyle:M[n],middleStyle:L[n],whiskerCapWidth:h,setRole:s}},b)):null})).filter(Boolean);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.JjT,{role:"distributions",visible:t,firstRender:N,children:i},"distributions-"+n)})).filter(Boolean);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:D})},Ae=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({data:[],seriesIndexes:{},keys:[]}),SchedulePreparedDataProvider=function SchedulePreparedDataProvider(e){var n=e.data,i=e.seriesIndexes,r=e.keys,a=e.children,o=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return{data:n,seriesIndexes:i,keys:r}}),[n]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Ae.Provider,{value:o,children:a})},Be=["container","data","keys","intervalStart","intervalEnd","intervalKey","horizontal","autoRescale","scaleIndex","scaleValue","scaleColor","children"],Schedule=function Schedule(e){var n=e.container,i=void 0===n?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.WdC:n,r=e.data,a=e.keys,o=e.intervalStart,l=void 0===o?"start":o,s=e.intervalEnd,c=void 0===s?"end":s,v=e.intervalKey,f=void 0===v?"key":v,h=e.horizontal,y=void 0===h||h,p=e.autoRescale,x=void 0===p||p,b=e.scaleIndex,g=void 0===b?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Us:b,k=e.scaleValue,S=void 0===k?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Tx9:k,w=e.scaleColor,z=e.children,_=_objectWithoutPropertiesLoose(e,Be),R=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.FgM)(),I=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.uK4)(i),N=I.dimsProps,C=I.origin,j=I.innerSize,P=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.gKR)(a).disabled,W=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.snp)(r)}),[r]),A=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return function(e,n,t,i,r){var a=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIU)(n),o=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIU)(t),l=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIU)(i);return e.map((function(e,n){var t=e.data.map((function(e){var n=String(l(e));return{start:Number(a(e)),end:Number(o(e)),key:n}})).filter((function(e){return r.indexOf(e.key)>=0}));return{id:e.id,index:n,data:t,domain:t.map((function(e){return[e.start,e.end]}))}}))}(r,l,c,f,a)}),[r,l,c,f,a]),B=getScaleProps(A.map((function(e){return e.id})),A.map((function(e){return e.domain})),g,S,j,y,x?P:Array(a.length).fill(!1)),M=B.index,Y=B.value,T=y?Y:M,U=y?M:Y,G=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.NVB)(null!=w?w:R.Colors.categorical,a),J=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.cT_)({x:T,y:U,color:G}),Q=J.scales,Z=y?Q.y:Q.x,$=y?Q.x:Q.y,ee=getInternalWidthAndGap(Z,a,0,"layered"),ne=ee[0],te=ee[1],ie=ee[2],re=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return function(e,n,t,i,r,a,o){return e.map((function(e){var l=n(e.id)-n.bandwidth()/2+a,s=e.data.map((function(e){l+=r+o;var n=t(e.start),a=t(e.end);return _extends({},e,{bandStart:l-r-o,bandWidth:r,size:i?[a-n,r]:[r,a-n],position:i?[n,l-r-o]:[l-r-o,n]})}));return{id:e.id,index:e.index,data:s}}))}(A,Z,$,y,ne,te,ie)}),[A,Z,$,y,ne,te,ie]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.PzT,_extends({variant:"schedule",position:C,size:N.size,padding:N.padding,originalData:r,processedData:A,seriesIndexes:W,keys:a,scalesContextValue:J},_,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(SchedulePreparedDataProvider,{data:re,seriesIndexes:W,keys:a,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(framer_motion__WEBPACK_IMPORTED_MODULE_4__.X,{features:framer_motion__WEBPACK_IMPORTED_MODULE_5__.H,children:z})})}))},isScheduleData=function isScheduleData(e){return e.map((function(e){return"object"==typeof e&&null!==e&&"id"in e&&"data"in e})).every(Boolean)},Me=["ids","keys","component","className","setRole","dataComponent","style"],Schedules=function Schedules(e){var n=e.ids,i=e.keys,r=e.component,o=void 0===r?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.AeJ:r,l=e.className,s=e.setRole,d=void 0===s||s,u=e.dataComponent,v=void 0===u?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.oKN:u,h=e.style,p=_objectWithoutPropertiesLoose(e,Me),x=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIO)().data,b=function useSchedulePreparedData(){return(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(Ae)}(),g=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.kE1)().scales.color,k=b.data,S=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.gKR)(),w=S.disabledKeys,z=S.firstRender,R=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.lRm)(n,i,b),I=R.idSet,C=R.keySet;if(!function isScheduleProcessedData(e){var n=e.map((function(e){return"object"==typeof e&&null!==e&&"id"in e&&"index"in e&&"data"in e&&"domain"in e}));return n.length>0&&n.every(Boolean)}(x))return null;var j=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return b.keys.map((function(e,n){var t=g(n);return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.hIX)(h,t)}))}),[b,h,g]),P=b.keys,W=b.keys.map((function(e,n){if(!C.has(e))return null;var t=!w.has(e),i=[];return k.map((function(t){if(!I.has(t.id))return null;t.data.map((function(r){if(!C.has(r.key)||r.key!=e)return null;var s=P.indexOf(r.key),u=r.position,c=r.size,f=(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(v,_extends({key:"interval-"+t.index+"-"+n,data:_extends({id:t.id},r),component:o,props:{x:u[0],y:u[1],width:c[0],height:c[1],className:l,style:j[s],variant:"interval",setRole:d}},p));i.push(f)}))})),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.JjT,{role:"intervals",visible:t,firstRender:z,children:i.filter(Boolean)},"intervals-"+n)})).filter(Boolean);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:W})},Le=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({data:[],seriesIndexes:{},keys:[]}),StripPreparedDataProvider=function StripPreparedDataProvider(e){var n=e.data,i=e.seriesIndexes,r=e.keys,a=e.children,o=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return{data:n,seriesIndexes:i,keys:r}}),[n]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Le.Provider,{value:o,children:a})},getStripInternalOrder=function getStripInternalOrder(e,n){var t=n.map((function(e,n){return n}));if("none"===e)return t;if("random"===e)return t.sort((function(){return Math.random()-.5}));if("middle"===e)return Array(n.length).fill((n.length+1)/2);var i=n.map((function(e,n){return[e,n]}));return"increasing"===e||"ascending"===e?i.sort((function(e,n){return e[0]-n[0]})).forEach((function(e,n){return t[e[1]]=n})):i.sort((function(e,n){return n[0]-e[0]})).forEach((function(e,n){return t[e[1]]=n})),t},De=["container","variant","data","keys","jitter","valueSize","horizontal","autoRescale","paddingInternal","scaleIndex","scaleValue","scaleColor","children"],Strip=function Strip(e){var n=e.container,i=void 0===n?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.WdC:n,r=e.variant,a=void 0===r?"grouped":r,o=e.data,l=e.keys,s=e.jitter,c=void 0===s?"none":s,v=e.valueSize,f=void 0===v?3:v,h=e.horizontal,y=void 0!==h&&h,p=e.autoRescale,x=void 0===p||p,g=e.paddingInternal,k=void 0===g?0:g,S=e.scaleIndex,w=void 0===S?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Us:S,z=e.scaleValue,_=void 0===z?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Tx9:z,R=e.scaleColor,I=e.children,N=_objectWithoutPropertiesLoose(e,De),C=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.FgM)(),j=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.uK4)(i),P=j.dimsProps,W=j.origin,A=j.innerSize,B=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.gKR)(l).disabled,M=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.snp)(o)}),[o]),Y=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return function(e,n,t,i){var r=n.map((function(e){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIU)(e)}));return e.map((function(e,n){var a=r.map((function(n){var r=n(e);if(r&&Array.isArray(r))return{value:r,internal:getStripInternalOrder(i,r),valueSize:Array(r.length).fill(t)}}));return{id:e.id,index:n,data:a,domain:a.map((function(e){return e?(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.FG_)(null==e?void 0:e.value):void 0}))}}))}(o,l,f,c)}),[o,l,f,c]),T=getScaleProps(Y.map((function(e){return e.id})),Y.map((function(e){return e.domain})),w,_,A,y,x?B:Array(l.length).fill(!1)),U=T.index,G=T.value,J=y?G:U,Q=y?U:G,Z=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.NVB)(null!=R?R:C.Colors.categorical,l),$=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.cT_)({x:J,y:Q,color:Z}),ee=$.scales,ne=y?ee.y:ee.x,te=y?ee.x:ee.y,ie=getInternalWidthAndGap(ne,l,k,a),re=ie[0],ae=ie[1],oe=ie[2],le=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return function(e,n,t,i,r,a,o){return e.map((function(e){var i=n(e.id)-n.bandwidth()/2+a,l=e.data.map((function(e){if(i+=r+o,e){var n=e.value.length,a=n<=1?r:r/(e.value.length-1),l=i-r-o+(n<=1?r/2:0);return{value:e.value.map((function(e){return t(e)})),internal:e.internal.map((function(e){return l+e*a})),valueSize:e.valueSize.map((function(e){return e})),bandStart:i-r-o,bandWidth:r}}}));return{id:e.id,index:e.index,data:l}}))}(Y,ne,te,0,re,ae,oe)}),[Y,y,ne,te,re,ae,oe]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.PzT,_extends({variant:"strip",position:W,size:P.size,padding:P.padding,originalData:o,processedData:Y,seriesIndexes:M,keys:l,scalesContextValue:$},N,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(StripPreparedDataProvider,{data:le,seriesIndexes:M,keys:l,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(framer_motion__WEBPACK_IMPORTED_MODULE_4__.X,{features:framer_motion__WEBPACK_IMPORTED_MODULE_5__.H,children:I})})}))},isStripData=function isStripData(e){return e.map((function(e){return"object"==typeof e&&null!==e&&"id"in e})).every(Boolean)},Ve=["ids","keys","component","className","symbolStyle","dataComponent"],Strips=function Strips(e){var n=e.ids,i=e.keys,r=e.component,o=void 0===r?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Cdc:r,l=e.className,s=e.symbolStyle,d=e.dataComponent,u=void 0===d?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Aj5:d,v=_objectWithoutPropertiesLoose(e,Ve),h=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIO)().data,p=function useStripPreparedData(){return(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(Le)}(),x=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.kE1)().scales,b=x.color,g=p.data,k=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.gKR)(),S=k.disabledKeys,w=k.firstRender,z=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.y7R)(x.y),R=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.lRm)(n,i,p),I=R.idSet,N=R.keySet;if(!function isStripProcessedData(e){var n=e.map((function(e){return"object"==typeof e&&null!==e&&"id"in e&&"index"in e&&"data"in e&&"domain"in e}));return n.length>0&&n.every(Boolean)}(h))return null;var j=p.keys,P=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return j.map((function(e,n){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.hIX)(s,b(n))}))}),[j,s,b]),W=p.keys.map((function(e,n){if(!N.has(e))return null;var t=!S.has(e),i=g.map((function(t){if(!I.has(t.id))return null;var i=t.data[n];if(!i)return null;var r=z?i.value:i.internal,s=z?i.internal:i.value,d=h[t.index].data[n];return i.valueSize.map((function(i,c){return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(u,_extends({key:"point-"+t.index+"-"+n+"-"+c,data:{id:t.id,key:e,index:c,value:null==d?void 0:d.value[c],valueSize:null==d?void 0:d.valueSize[c]},component:o,props:{cx:r[c],cy:s[c],r:i,className:l,style:P[n],setRole:!1}},v))}))})).filter(Boolean).flat();return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.JjT,{role:"strips",visible:t,firstRender:w,children:i},"strips-"+n)}));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:W})},Ee=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({data:[],seriesIndexes:{},keys:[]}),ViolinPreparedDataProvider=function ViolinPreparedDataProvider(e){var n=e.data,i=e.seriesIndexes,r=e.keys,a=e.children,o=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return{data:n,seriesIndexes:i,keys:r}}),[n]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Ee.Provider,{value:o,children:a})},Oe=["container","variant","data","keys","breaks","horizontal","autoRescale","paddingInternal","scaleIndex","scaleValue","scaleColor","children"],Violin=function Violin(e){var n=e.container,i=void 0===n?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.WdC:n,r=e.variant,a=void 0===r?"grouped":r,o=e.data,l=e.keys,s=e.breaks,c=void 0===s?20:s,v=e.horizontal,f=void 0!==v&&v,h=e.autoRescale,y=void 0===h||h,p=e.paddingInternal,x=void 0===p?0:p,g=e.scaleIndex,k=void 0===g?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Us:g,S=e.scaleValue,w=void 0===S?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Tx9:S,z=e.scaleColor,_=e.children,R=_objectWithoutPropertiesLoose(e,Oe),I=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.FgM)(),N=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.uK4)(i),C=N.dimsProps,j=N.origin,P=N.innerSize,W=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.gKR)(l).disabled,A=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.snp)(o)}),[o]),B=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return function(e,n){var t=n.map((function(e){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIU)(e)}));return e.map((function(e,n){var i=t.map((function(n){var t=n(e);if(t){if(function isViolinProcessedSummary(e){return"object"==typeof e&&null!==e&&"n"in e&&["values","breaks"].map((function(n){return Array.isArray(e[n])})).every(Boolean)}(t))return{n:t.n,values:t.values,breaks:t.breaks};if(Array.isArray(t))return{n:t.length,values:t}}})),r=i.map((function(e){if(e)return e.breaks?(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.FG_)(e.breaks):(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.FG_)(e.values)}));return{id:e.id,index:n,data:i,domain:r}}))}(o,l)}),[o,l]),M=getScaleProps(B.map((function(e){return e.id})),B.map((function(e){return e.domain})),k,w,P,f,y?W:Array(l.length).fill(!1)),Y=M.index,T=M.value,U=f?T:Y,G=f?Y:T,J=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.NVB)(null!=z?z:I.Colors.categorical,l),Q=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.cT_)({x:U,y:G,color:J}),Z=Q.scales,$=f?Z.y:Z.x,ee=f?Z.x:Z.y,ne=getInternalWidthAndGap($,l,x,a),te=ne[0],ie=ne[1],re=ne[2],ae=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return function prepareData(e,n,t,i,r,a,o,l){var s,d=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.FG_)(e.map((function(e){return e.domain.flat().filter((function(e){return void 0!==e}))})).flat()).map((function(e){return t(e)}));return s=Array.isArray(l)?l.map((function(e){return t(e)})):(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Sye)(d,Number(l)),e.map((function(e){var i=n(e.id)-n.bandwidth()/2+a,l=e.data.map((function(e){if(i+=r+o,e){var n=e.breaks?[]:e.values.map((function(e){return t(e)})),a=e.breaks?e.breaks.map((function(e){return t(e)})):s;return a.sort((function(e,n){return e-n})),{n:e.n,breaks:e.breaks?e.breaks.map((function(e){return t(e)})):a,values:e.breaks?e.values:(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.NYs)(n,a,!1),bandStart:i-r-o,bandWidth:r}}}));return{id:e.id,index:e.index,data:l}}))}(B,$,ee,0,te,ie,re,c)}),[B,f,$,ee,te,ie,re,c]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.PzT,_extends({variant:"violin",position:j,size:C.size,padding:C.padding,originalData:o,processedData:B,seriesIndexes:A,keys:l,scalesContextValue:Q},R,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(ViolinPreparedDataProvider,{data:ae,seriesIndexes:A,keys:l,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(framer_motion__WEBPACK_IMPORTED_MODULE_4__.X,{features:framer_motion__WEBPACK_IMPORTED_MODULE_5__.H,children:_})})}))},qe=["variant","ids","keys","component","className","dataComponent","style"],Violins=function Violins(e){var n=e.variant,i=void 0===n?"smooth":n,r=e.ids,o=e.keys,l=e.component,s=void 0===l?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.y$t:l,d=e.className,u=e.dataComponent,v=void 0===u?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.oKN:u,h=e.style,p=_objectWithoutPropertiesLoose(e,qe),x=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIO)().data,b=function useViolinPreparedData(){return(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(Ee)}(),g=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.kE1)().scales,k=g.color,S=b.data,w=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.gKR)(),z=w.disabledKeys,R=w.firstRender,I=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.y7R)(g.y),N=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.lRm)(r,o,b),C=N.idSet,j=N.keySet;if(!function isViolinProcessedData(e){var n=e.map((function(e){return"object"==typeof e&&null!==e&&"id"in e&&"index"in e&&"data"in e&&"domain"in e}));return n.length>0&&n.every(Boolean)}(x))return null;var P=b.keys,W=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return P.map((function(e,n){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.hIX)(h,k(n))}))}),[P,h,k]),A="step"===i?"Step":"BasisClosed",B=b.keys.map((function(e,n){if(!j.has(e))return null;var t=!z.has(e),i=S.map((function(t){var i;if(!C.has(t.id))return null;var r=t.data[n];if(!r)return null;var o=function(e){var n=e.values,t=e.breaks,i=e.bandStart,r=e.bandWidth,a=e.horizontal,o=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Fp7)(n);if(o<=0)return[];var l=function(e){for(var n=0,t=e.length;0===e[n]&&n<t;)n+=1;for(;0===e[t-1]&&t>n;)t-=1;return[n,t]}(n),s=l[0],d=l[1],u=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.LM9)(n.slice(s,d),t.slice(s,d+1)),c=r/2,v=i+c,f=c/o,m=u.map((function(e){return[e[0],v+e[1]*f]})),h=u.map((function(e){return[e[0],v-e[1]*f]})).reverse(),y=m.concat(h);return a?y:y.map((function(e){return[e[1],e[0]]}))}(_extends({},r,{horizontal:I}));if(0===o.length)return null;var l=x[t.index].data[n];return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(v,_extends({key:"violin-"+t.index+"-"+n,data:{id:t.id,key:e,n:null!=(i=null==l?void 0:l.n)?i:0},component:s,props:{variant:"violin",points:o,curve:A,closed:!0,className:d,style:W[n],setRole:!1}},p))})).filter(Boolean);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.JjT,{role:"violins",visible:t,firstRender:R,children:i},"violins-"+n)}));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:B})}}}]);