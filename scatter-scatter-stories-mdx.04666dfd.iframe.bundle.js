"use strict";(self.webpackChunkchsk=self.webpackChunkchsk||[]).push([[8588],{"./examples/line/generators.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{$f:()=>generateRandomWalk,Hg:()=>generateRegressionData,ZE:()=>generateNormalPdf,pD:()=>generateSurvivalMatrix});var _utils__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./examples/utils.ts"),generateRandomWalk=function generateRandomWalk(n,mean,sd){void 0===mean&&(mean=0),void 0===sd&&(sd=1);var y=0,result=[{x:0,y}];return Array(n).fill(0).forEach((function(v,i){0!==i&&(y+=(0,_utils__WEBPACK_IMPORTED_MODULE_0__.TL)(mean,sd),result.push({x:i,y}))})),result},generateNormalPdf=function generateNormalPdf(mean,sd,interval,step){var norm=1/(sd*Math.sqrt(2*Math.PI)),value=function value(x){var z=(x-mean)/sd;return norm*Math.exp(-.5*z*z)},result=[],x=interval[0];for(result.push({x,y:value(x)});x<interval[1]-step;){var y=value(x+=step);result.push({x,y})}return x=interval[1],result.push({x,y:value(x)}),result},generateSurvivalMatrix=function generateSurvivalMatrix(nRisk,tInterval,pEvent,pCensor,maxTime){void 0===nRisk&&(nRisk=80),void 0===tInterval&&(tInterval=[5,20]),void 0===pEvent&&(pEvent=.1),void 0===pCensor&&(pCensor=.1),void 0===maxTime&&(maxTime=500);for(var result=[{time:0,surv:1,lower:1,upper:1,nRisk,nEvent:0,nCensor:0}],survival=1,denominator=nRisk,time=0,pEvent2=pEvent*pEvent,pCensor2=pCensor*pCensor;nRisk>4&&time<maxTime;){time+=Math.floor((0,_utils__WEBPACK_IMPORTED_MODULE_0__.SN)(tInterval[0],tInterval[1]));var e=Math.random(),c=Math.random(),nEvent=e<pEvent2?2:e<pEvent?1:0,nCensor=c<pCensor2?2:c<pCensor?1:0;if(nEvent+nCensor>0){var row={time,surv:survival*(nRisk-nEvent)/denominator,lower:-1,upper:-1,nRisk,nEvent,nCensor};result.push(row),nCensor>0&&(denominator=nRisk-nEvent-nCensor,survival=row.surv),nRisk-=nEvent+nCensor}}return result.map((function(row){var rowSurv=row.surv;return row.lower<0&&(row.lower=Math.max(0,rowSurv-.05-.15*(1-rowSurv))),row.upper<0&&(row.upper=Math.min(1,rowSurv+.05+.15*(1-rowSurv))),row}))},generateRegressionData=function generateRegressionData(n,xInterval,coefficients,noise){return void 0===xInterval&&(xInterval=[5,20]),void 0===coefficients&&(coefficients=[1,1]),void 0===noise&&(noise=.1),Array(n).fill(0).map((function(){return(0,_utils__WEBPACK_IMPORTED_MODULE_0__.SN)(xInterval[0],xInterval[1])})).sort((function(a,b){return a-b})).map((function(x){return{x,y:coefficients[0]+coefficients[1]*x+(0,_utils__WEBPACK_IMPORTED_MODULE_0__.TL)(0,noise)}}))}},"./examples/scatter/scatter.stories.mdx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{bubbles:()=>bubbles,clusters:()=>clusters,default:()=>scatter_stories,dots:()=>dots,errorBars:()=>errorBars,manhattan:()=>manhattan,multipleViews:()=>multipleViews,outliers:()=>outliers,regression:()=>regression,tooltipsOnAxes:()=>tooltipsOnAxes});__webpack_require__("./node_modules/react/index.js");var lib=__webpack_require__("./node_modules/@mdx-js/react/lib/index.js"),dist=__webpack_require__("./node_modules/@storybook/addon-docs/dist/index.mjs"),Controller=__webpack_require__("./examples/Controller.tsx"),chsk_core_es=__webpack_require__("./packages/core/dist/chsk-core.es.js"),chsk_xy_es=__webpack_require__("./packages/xy/dist/chsk-xy.es.js"),chsk_themes_es=__webpack_require__("./packages/themes/dist/chsk-themes.es.js"),Dark2=__webpack_require__("./node_modules/d3-scale-chromatic/src/categorical/Dark2.js"),generateXYValues=function generateXYValues(x,keys,y){return x.map((function(v){var item={};return item.x=v,keys.forEach((function(k,i){item[k]=y[i](v)})),item}))},utils=__webpack_require__("./examples/utils.ts"),navigation=__webpack_require__("./examples/navigation.tsx"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),generateBubbleScatterData=function generateBubbleScatterData(){var x1=(0,utils.G0)([80,10,10],[1,3,5],[1,1,1]),x2=(0,utils.G0)([80,10,10],[1,6,10],[1,1,1]);return[{id:"alpha",data:generateXYValues(x1.map(utils.sp),["y","size"],[function(x){return(0,utils.sp)(1.5*x+(0,utils.TL)(0,2))},function(x){return(0,utils.Qx)(Math.abs(1+.5*x+(0,utils.TL)(0,8)))}])},{id:"beta",data:generateXYValues(x2.map(utils.sp),["y","size"],[function(x){return(0,utils.sp)(.5*x+(0,utils.TL)(0,3))},function(x){return(0,utils.Qx)(Math.abs(1+x+(0,utils.TL)(0,12)))}])}]},customTheme=(0,chsk_core_es.hr)(chsk_themes_es.Ee,{line:{grid:{stroke:"#dddddd",strokeWidth:1}},g:{"sizeScale g.legendItem:hover":{cursor:"auto"}},circle:{default:{fillOpacity:.7},legendSymbol:{fillOpacity:1}}}),customTooltipTitle=function customTooltipTitle(x){var _x$data;if(!x||!x.data)return"";var item=null==(_x$data=x.data)?void 0:_x$data[0];return x.title+" - index "+String(item.index)},customTooltipLabel=function customTooltipLabel(x){if(!x)return"";var point="point"in x?x.point:[0,0],size="size"in x?x.size:"";return"("+point[0]+", "+point[1]+") size: "+size},BubbleScatterChart=function BubbleScatterChart(_ref){var fref=_ref.fref,chartData=_ref.chartData,rawData=_ref.rawData;return(0,chsk_xy_es.Bf)(rawData)?(0,jsx_runtime.jsx)(chsk_core_es.kL2,{data:chartData,fref,id:"bubble-scatter",size:[800,600],padding:[60,120,60,60],theme:customTheme,children:(0,jsx_runtime.jsxs)(chsk_xy_es.bp,{data:rawData,x:"x",y:"y",valueSize:"size",scaleX:{variant:"linear",domain:"auto",nice:!0},scaleY:{variant:"linear",domain:"auto",nice:!0},scaleSize:{variant:"sqrt",domain:"auto",size:15},scaleColor:{variant:"categorical",colors:Dark2.Z},children:[(0,jsx_runtime.jsxs)(chsk_core_es.lqb,{initialOn:"axes",children:[(0,jsx_runtime.jsx)(chsk_core_es.VJA,{variant:"y"}),(0,jsx_runtime.jsx)(chsk_core_es.VJA,{variant:"x"}),(0,jsx_runtime.jsx)(chsk_core_es.RDh,{variant:"bottom",label:"x values (a.u.)"}),(0,jsx_runtime.jsx)(chsk_core_es.RDh,{variant:"left",label:"y values (a.u.)"})]}),(0,jsx_runtime.jsxs)(chsk_core_es.lqb,{initialOn:"data",children:[(0,jsx_runtime.jsxs)(chsk_core_es.g_k,{id:"points",children:[(0,jsx_runtime.jsx)(chsk_xy_es.cG,{symbolClassName:"custom"}),(0,jsx_runtime.jsx)(chsk_xy_es.XG,{symbolStyle:{stroke:"#ssssss",strokeWidth:1,fillOpacity:1},style:{stroke:"#000000"}})]}),(0,jsx_runtime.jsx)(chsk_core_es.ua7,{offset:[16,-16],anchor:[0,1],itemSize:[180,26],titleFormat:customTooltipTitle,labelFormat:customTooltipLabel,symbol:chsk_core_es.Cdc})]}),(0,jsx_runtime.jsxs)(chsk_core_es.lqb,{initialOn:"legend",children:[(0,jsx_runtime.jsx)(chsk_core_es.DeQ,{position:[635,470],positionUnits:"absolute",size:[110,60],sizeUnits:"absolute",anchor:[0,1],padding:[0,12,0,12],r:9,itemSize:[80,22],itemPadding:[2,2,2,2],title:"Populations",symbol:chsk_core_es.Cdc,firstOffset:[0,4]}),(0,jsx_runtime.jsx)(chsk_core_es.DeQ,{position:[635,340],positionUnits:"absolute",size:[110,100],sizeUnits:"absolute",anchor:[0,1],padding:[0,12,0,12],variant:"size",itemSize:[80,22],itemPadding:[2,2,2,2],title:"Size scale",className:"sizeScale",interactive:!1,symbol:chsk_core_es.Cdc,symbolStyle:{strokeWidth:0,fill:"#bbbbbb"},firstOffset:[0,4]})]}),(0,jsx_runtime.jsx)(chsk_core_es.ZT$,{position:[-45,-30],variant:"title",children:"Large scatter plot"}),(0,jsx_runtime.jsx)(chsk_core_es.N5d,{container:{offset:[8,0]},component:navigation.h}),(0,jsx_runtime.jsx)(navigation.N,{position:[640,520],data:!0,image:!0})]})}):null};BubbleScatterChart.displayName="BubbleScatterChart";try{BubbleScatterChart.displayName="BubbleScatterChart",BubbleScatterChart.__docgenInfo={description:"",displayName:"BubbleScatterChart",props:{chartData:{defaultValue:null,description:"data object passed to the 'Chart' component",name:"chartData",required:!0,type:{name:'Omit<ChartDataContextProps, "id">'}},fref:{defaultValue:null,description:"ref used to toggle milestones",name:"fref",required:!1,type:{name:"Ref<ChartRef>"}},rawData:{defaultValue:null,description:"raw dataset used for plotting",name:"rawData",required:!0,type:{name:"RawData"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["examples/scatter/BubbleScatterChart.tsx#BubbleScatterChart"]={docgenInfo:BubbleScatterChart.__docgenInfo,name:"BubbleScatterChart",path:"examples/scatter/BubbleScatterChart.tsx#BubbleScatterChart"})}catch(__react_docgen_typescript_loader_error){}var chsk_annotation_es=__webpack_require__("./packages/annotation/dist/chsk-annotation.es.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}var generateClusterScatterData=function generateClusterScatterData(){return[{id:"alpha",data:generateXYValues((0,utils.G0)([60],[0],[1]).map(utils.sp),["y"],[function(x){return(0,utils.sp)(0*x+(0,utils.TL)(0,1))}])},{id:"beta",data:generateXYValues((0,utils.G0)([60],[3],[1]).map(utils.sp),["y"],[function(x){return(0,utils.sp)(x+(0,utils.TL)(0,3))}])},{id:"gamma",data:generateXYValues((0,utils.G0)([60],[1],[1]).map(utils.sp),["y"],[function(x){return(0,utils.sp)(4+x+(0,utils.TL)(0,1))}])}]},ClustersScatterChart_customTheme=(0,chsk_core_es.ItK)([chsk_themes_es.Ee,chsk_themes_es.bh,{circle:{custom:{opacity:.8},"custom:hover":{cursor:"pointer"}},AxisTicks:{left:{tickSize:-6,labelDistance:4},bottom:{tickSize:-6,labelDistance:4},top:{tickSize:-6},right:{tickSize:-6}}}]),scatterProps={x:"x",y:"y",valueSize:4,scaleX:{variant:"linear",domain:"auto",nice:6},scaleY:{variant:"linear",domain:"auto",nice:6}},CustomActiveSymbol=(0,chsk_annotation_es.by)({variant:"background",rMultiplier:2.2,styleModifier:{strokeWidth:2,fill:"#ffffff",stroke:"#555555"}}),ClustersScatterChart=function ClustersScatterChart(_ref){var fref=_ref.fref,chartData=_ref.chartData,rawData=_ref.rawData;return(0,chsk_xy_es.Bf)(rawData)?(0,jsx_runtime.jsx)(chsk_core_es.kL2,{data:chartData,fref,id:"uniform-scatter",size:[640,480],padding:[50,120,60,60],theme:ClustersScatterChart_customTheme,children:(0,jsx_runtime.jsxs)(chsk_xy_es.bp,_extends({data:rawData},scatterProps,{children:[(0,jsx_runtime.jsx)(chsk_core_es.ZT$,{position:[0,-20],variant:"title",children:"Scatter plot with clusters"}),(0,jsx_runtime.jsx)(navigation.N,{position:[480,-20],data:!0,image:!0}),(0,jsx_runtime.jsxs)(chsk_core_es.lqb,{initialOn:"axes",children:[(0,jsx_runtime.jsx)(chsk_core_es.VJA,{variant:"y",style:{stroke:"#bbbbbb",strokeWidth:1}}),(0,jsx_runtime.jsx)(chsk_core_es.VJA,{variant:"x",style:{stroke:"#bbbbbb",strokeWidth:1}}),(0,jsx_runtime.jsx)(chsk_core_es.Tgp,{style:{fill:"#ffffff",stroke:"#222222",strokeWidth:1}}),(0,jsx_runtime.jsx)(chsk_core_es.RDh,{variant:"bottom",label:"x values (a.u.)"}),(0,jsx_runtime.jsx)(chsk_core_es.RDh,{variant:"left",label:"y values (a.u.)"}),(0,jsx_runtime.jsx)(chsk_core_es.RDh,{variant:"top",children:(0,jsx_runtime.jsx)(chsk_core_es.yAs,{variant:"top",labelFormat:function labelFormat(){return""}})}),(0,jsx_runtime.jsx)(chsk_core_es.RDh,{variant:"right",children:(0,jsx_runtime.jsx)(chsk_core_es.yAs,{variant:"right",labelFormat:function labelFormat(){return""}})})]}),(0,jsx_runtime.jsx)(chsk_core_es.lqb,{initialOn:"legend",children:(0,jsx_runtime.jsx)(chsk_core_es.DeQ,{position:[1,.2],positionUnits:"relative",size:[100,88],sizeUnits:"absolute",anchor:[0,.5],padding:[0,8,0,8],r:10.5,itemSize:[80,22],itemPadding:[1,2,1,2],title:"Populations"})}),(0,jsx_runtime.jsx)(chsk_core_es.lqb,{initialOn:"data",children:(0,jsx_runtime.jsxs)(chsk_core_es.pnl,{children:[(0,jsx_runtime.jsx)(chsk_xy_es.cG,{symbolClassName:"custom"}),(0,jsx_runtime.jsx)(chsk_xy_es.XG,{style:{opacity:0},symbol:CustomActiveSymbol,symbolStyle:{opacity:1,stroke:"#000000",strokeWidth:.5},minDistance:20}),(0,jsx_runtime.jsx)(chsk_core_es.ua7,{offset:[0,-25],padding:[4,0,4,0],itemSize:[160,26],itemPadding:[4,8,4,8]})]})})]}))}):null};ClustersScatterChart.displayName="ClustersScatterChart";try{ClustersScatterChart.displayName="ClustersScatterChart",ClustersScatterChart.__docgenInfo={description:"",displayName:"ClustersScatterChart",props:{chartData:{defaultValue:null,description:"data object passed to the 'Chart' component",name:"chartData",required:!0,type:{name:'Omit<ChartDataContextProps, "id">'}},fref:{defaultValue:null,description:"ref used to toggle milestones",name:"fref",required:!1,type:{name:"Ref<ChartRef>"}},rawData:{defaultValue:null,description:"raw dataset used for plotting",name:"rawData",required:!0,type:{name:"RawData"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["examples/scatter/ClustersScatterChart.tsx#ClustersScatterChart"]={docgenInfo:ClustersScatterChart.__docgenInfo,name:"ClustersScatterChart",path:"examples/scatter/ClustersScatterChart.tsx#ClustersScatterChart"})}catch(__react_docgen_typescript_loader_error){}var generateAxisTooltipScatterData=function generateAxisTooltipScatterData(){return[{id:"alpha",data:generateXYValues((0,utils.G0)([120],[0],[1]).map(utils.sp),["y"],[function(x){return(0,utils.sp)(.2*x+(0,utils.TL)(0,1.5))}])},{id:"beta",data:generateXYValues((0,utils.G0)([120],[2],[1]).map(utils.sp),["y"],[function(x){return(0,utils.sp)(.8*x+(0,utils.TL)(0,1.5))}])}]},AxisTooltipScatterChart_customTheme=(0,chsk_core_es.ItK)([chsk_themes_es.Ee,chsk_themes_es.bh,{circle:{custom:{opacity:.8},"custom:hover":{cursor:"pointer"}},rect:{"tooltip.surface":{fill:"#404040",strokeWidth:1,stroke:"#222222",opacity:.9}},text:{tooltipTitle:{fill:"#ffffff"}}}]),AxisTooltipScatterChart=function AxisTooltipScatterChart(_ref){var fref=_ref.fref,chartData=_ref.chartData,rawData=_ref.rawData;return(0,chsk_xy_es.Bf)(rawData)?(0,jsx_runtime.jsx)(chsk_core_es.kL2,{data:chartData,fref,id:"axis-tooltip",size:[640,480],padding:[60,40,60,100],theme:AxisTooltipScatterChart_customTheme,children:(0,jsx_runtime.jsxs)(chsk_xy_es.bp,{x:"x",y:"y",valueSize:3.5,data:rawData,scaleX:{variant:"linear",nice:5},scaleY:{variant:"linear",nice:5},children:[(0,jsx_runtime.jsx)(chsk_core_es.ZT$,{position:[0,-20],variant:"title",children:"Mild correlations"}),(0,jsx_runtime.jsx)(chsk_core_es.Tgp,{variant:"inner",style:{fill:"#fdfdfd",stroke:"#dddddd",strokeWidth:.5}}),(0,jsx_runtime.jsx)(chsk_core_es.VJA,{variant:"y",style:{stroke:"#dddddd",strokeWidth:.5},values:25}),(0,jsx_runtime.jsx)(chsk_core_es.VJA,{variant:"y",style:{stroke:"#dddddd",strokeWidth:1.5},values:5}),(0,jsx_runtime.jsx)(chsk_core_es.VJA,{variant:"x",style:{stroke:"#dddddd",strokeWidth:.5},values:25}),(0,jsx_runtime.jsx)(chsk_core_es.VJA,{variant:"x",style:{stroke:"#dddddd",strokeWidth:1.5},values:5}),(0,jsx_runtime.jsx)(chsk_core_es.RDh,{variant:"bottom",label:"x values (a.u.)"}),(0,jsx_runtime.jsx)(chsk_core_es.RDh,{variant:"left",label:"y values (a.u.)"}),(0,jsx_runtime.jsx)(chsk_xy_es.cG,{}),(0,jsx_runtime.jsx)(chsk_xy_es.XG,{style:{strokeDasharray:"5 3",strokeWidth:2,stroke:"#000000"},symbolStyle:{opacity:1,stroke:"#000000",strokeWidth:2},minDistance:20}),(0,jsx_runtime.jsx)(chsk_core_es.DeQ,{position:[1,1],positionUnits:"relative",offset:[-8,-8],padding:[1,1,1,1],size:[110,86],sizeUnits:"absolute",anchor:[1,1],r:10,itemSize:[108,26],itemPadding:[4,8,4,8],title:"Populations",style:{strokeWidth:1,stroke:"#222222",fill:"#ffffff",fillOpacity:1}}),(0,jsx_runtime.jsx)(chsk_core_es.ua7,{offset:[15,-15],anchor:[0,1],padding:[4,0,4,0],itemSize:[80,26],itemPadding:[4,8,4,8],labelFormat:null,titleFormat:AxisTooltipScatterChart_customTooltipTitle}),(0,jsx_runtime.jsx)(chsk_core_es.GDj,{variant:"left",itemSize:[55,26],labelFormat:null,titleFormat:customLeftTitle}),(0,jsx_runtime.jsx)(chsk_core_es.GDj,{variant:"bottom",itemSize:[55,26],labelFormat:null,titleFormat:customBottomTitle})]})}):null};AxisTooltipScatterChart.displayName="AxisTooltipScatterChart";var AxisTooltipScatterChart_customTooltipTitle=function customTooltipTitle(x){var _x$data,d0=null==x||null==(_x$data=x.data)?void 0:_x$data[0];return d0?d0.id+": "+("index"in d0?d0.index:""):""},customLeftTitle=function customLeftTitle(x){var _x$data2,d0=null==x||null==(_x$data2=x.data)?void 0:_x$data2[0];if(!d0)return"";var point="point"in d0?d0.point:[0,0];return String(point[1])},customBottomTitle=function customBottomTitle(x){var _x$data3,d0=null==x||null==(_x$data3=x.data)?void 0:_x$data3[0];if(!d0)return"";var point="point"in d0?d0.point:[0,0];return String(point[0])};try{AxisTooltipScatterChart.displayName="AxisTooltipScatterChart",AxisTooltipScatterChart.__docgenInfo={description:"",displayName:"AxisTooltipScatterChart",props:{chartData:{defaultValue:null,description:"data object passed to the 'Chart' component",name:"chartData",required:!0,type:{name:'Omit<ChartDataContextProps, "id">'}},fref:{defaultValue:null,description:"ref used to toggle milestones",name:"fref",required:!1,type:{name:"Ref<ChartRef>"}},rawData:{defaultValue:null,description:"raw dataset used for plotting",name:"rawData",required:!0,type:{name:"RawData"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["examples/scatter/AxisTooltipScatterChart.tsx#AxisTooltipScatterChart"]={docgenInfo:AxisTooltipScatterChart.__docgenInfo,name:"AxisTooltipScatterChart",path:"examples/scatter/AxisTooltipScatterChart.tsx#AxisTooltipScatterChart"})}catch(__react_docgen_typescript_loader_error){}var round3=function round3(x){return Math.round(1e3*Number(x))/1e3},generateManhattanScatterData=function generateManhattanScatterData(){var chromLengths=Array(8).fill(0).map((function(){return round3((0,utils.SN)(25,250))})).sort((function(a,b){return b-a})),nPoints=0,offset=0,result=chromLengths.map((function(chromL,index){var n=Math.round(2*chromL);offset+=index>0?chromLengths[index-1]:0,nPoints+=n;var pointInterval=chromL/(n+1),positions=Array(n).fill(0).map((function(_,index){return(index+1)*pointInterval})),values=Array(n).fill(0).map((function(){return(0,utils.SN)(0,1)}));return{id:"chr"+(index+1),data:positions.map((function(x,j){return{pos:x,absPos:offset+x,value:-Math.log10(Math.max(values[j],1e-12))}}))}})),nHits=Math.round((0,utils.SN)(1,5)),hits=new Set(Array(nHits).fill(0).map((function(){return Math.round((0,utils.SN)(0,nPoints))})));return offset=0,chromLengths.forEach((function(chromL,index){for(var nChromPoints=result[index].data.length,_loop=function _loop(i){if(hits.has(offset+i)){var level=(0,utils.SN)(5,10),noise=Array(5).fill(0).map((function(){return(0,utils.SN)(0,1)}));noise[2]=1,noise.map((function(noiseValue,j){!function changeValue(chromIndex,pointIndex,newValue){result[chromIndex].data[pointIndex].value=newValue}(index,i+j-2,level*noise[j])}))}},i=2;i<nChromPoints-2;i++)_loop(i);offset+=nChromPoints})),result},ManhattanScatterChart_customTheme=(0,chsk_core_es.hr)(chsk_themes_es.Ee,{line:{grid:{stroke:"#dddddd",strokeWidth:1},crosshair:{stroke:"#444444",strokeDasharray:6}}}),SimpleCircle=function SimpleCircle(_ref){var cx=_ref.cx,cy=_ref.cy,r=_ref.r,className=_ref.className,style=_ref.style;return(0,jsx_runtime.jsx)("circle",{cx,cy,r,style,className})};SimpleCircle.displayName="SimpleCircle";var customTooltipFormat=function customTooltipFormat(item){var _item$original,original=null!=(_item$original=item.original)?_item$original:{};return item.index+" ("+round3(original.pos)+", "+round3(original.value)+")"},ManhattanScatterChart=function ManhattanScatterChart(_ref2){var fref=_ref2.fref,chartData=_ref2.chartData,rawData=_ref2.rawData;if(!(0,chsk_xy_es.Bf)(rawData))return null;var chromBoundaries=[0];rawData.forEach((function(series,index){var lastPoint=series.data[series.data.length-1];index===rawData.length-1?chromBoundaries.push(Number(lastPoint.absPos)):chromBoundaries.push((Number(lastPoint.absPos)+Number(rawData[index+1].data[0].absPos))/2)}));var chromNames=rawData.map((function(series){return series.id})),chromMids=chromBoundaries.slice(1,chromBoundaries.length).map((function(x,i){return(x+chromBoundaries[i])/2})),nPoints=0;return rawData.forEach((function(series){nPoints+=series.data.length})),(0,jsx_runtime.jsx)(chsk_core_es.kL2,{data:chartData,fref,id:"manhattan-scatter",size:[800,400],padding:[60,40,80,60],theme:ManhattanScatterChart_customTheme,children:(0,jsx_runtime.jsxs)(chsk_xy_es.bp,{data:rawData,x:"absPos",y:"value",scaleX:{variant:"linear",domain:[0,"auto"]},scaleY:{variant:"linear",domain:[0,"auto"]},valueSize:3,children:[(0,jsx_runtime.jsx)(chsk_core_es.ZT$,{position:[-45,-40],variant:"title",children:"Manhattan plot"}),(0,jsx_runtime.jsxs)(chsk_core_es.ZT$,{position:[-45,-20],variant:"subtitle",children:["This chart has ",nPoints," data points"]}),(0,jsx_runtime.jsxs)(chsk_core_es.lqb,{initialOn:"axes",children:[(0,jsx_runtime.jsx)(chsk_core_es.VJA,{variant:"y"}),(0,jsx_runtime.jsx)(chsk_core_es.VJA,{variant:"x",values:chromBoundaries}),(0,jsx_runtime.jsxs)(chsk_core_es.RDh,{variant:"bottom",children:[(0,jsx_runtime.jsx)(chsk_core_es.yAs,{variant:"bottom",ticks:chromMids,tickSize:0,labelFormat:function chromLabel(value,index){return index<3||index%2==1?chromNames[index]:""}}),(0,jsx_runtime.jsx)(chsk_core_es.kpH,{variant:"bottom",children:"Genome position"})]}),(0,jsx_runtime.jsx)(chsk_core_es.RDh,{variant:"left",label:"- log10 (p-value)"})]}),(0,jsx_runtime.jsxs)(chsk_core_es.lqb,{initialOn:"data",children:[(0,jsx_runtime.jsx)(chsk_core_es.g_k,{id:"manhattan-pointer",expansion:[4,4,4,4],children:(0,jsx_runtime.jsx)(chsk_xy_es.cG,{symbol:SimpleCircle,dataComponent:chsk_core_es.Wnl})}),(0,jsx_runtime.jsxs)(chsk_core_es.pnl,{children:[(0,jsx_runtime.jsx)(chsk_xy_es.XG,{minDistance:30,tooltipFormat:customTooltipFormat}),(0,jsx_runtime.jsx)(chsk_core_es.ua7,{offset:[0,-10],anchor:[.5,1],itemSize:[170,30],itemPadding:[6,6,6,6],style:{stroke:"#222222",strokeWidth:1}})]})]}),(0,jsx_runtime.jsx)(chsk_core_es.N5d,{variant:"x",container:{offset:[10,0]},component:navigation.h}),(0,jsx_runtime.jsx)(navigation.N,{position:[610,-30],data:!0,image:!0})]})})};ManhattanScatterChart.displayName="ManhattanScatterChart";try{ManhattanScatterChart.displayName="ManhattanScatterChart",ManhattanScatterChart.__docgenInfo={description:"",displayName:"ManhattanScatterChart",props:{chartData:{defaultValue:null,description:"data object passed to the 'Chart' component",name:"chartData",required:!0,type:{name:'Omit<ChartDataContextProps, "id">'}},fref:{defaultValue:null,description:"ref used to toggle milestones",name:"fref",required:!1,type:{name:"Ref<ChartRef>"}},rawData:{defaultValue:null,description:"raw dataset used for plotting",name:"rawData",required:!0,type:{name:"RawData"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["examples/scatter/ManhattanScatterChart.tsx#ManhattanScatterChart"]={docgenInfo:ManhattanScatterChart.__docgenInfo,name:"ManhattanScatterChart",path:"examples/scatter/ManhattanScatterChart.tsx#ManhattanScatterChart"})}catch(__react_docgen_typescript_loader_error){}var generateErrorsData=function generateErrorsData(){var xNoise=(0,utils.Bh)(10,-.4,.4),xValues=Array(10).fill(0).map((function(_,i){return i+1+xNoise[i]})),xErrors=(0,utils.Bh)(10,.2,.4),yErrors=(0,utils.Bh)(10,.05,.12);return[{id:"A",data:xValues.map((function(x,i){return{x:(0,utils.zZ)(x),y:(0,utils.zZ)(Math.log(x)),xmin:x-xErrors[i],xmax:x+xErrors[i],ymin:Math.log(x)-Math.max(.1,Math.log(x)*yErrors[i]),ymax:Math.log(x)+Math.max(.1,Math.log(x)*yErrors[i])}}))}]},ErrorsChart_customTheme={line:{scatterErrors:{strokeWidth:2}},g:{"legendItem:hover":{cursor:"auto"}},path:{scatterCurve:{pointerEvents:"none",fillOpacity:0}}},fitStyle={strokeWidth:4,strokeDasharray:5},ErrorsChart_customTooltipLabel=function customTooltipLabel(x){var point="point"in x?x.point:[0,0];return"["+point[chsk_core_es.X]+", "+point[chsk_core_es.Y]+"]"},ErrorsChart=function ErrorsChart(_ref){var fref=_ref.fref,chartData=_ref.chartData,rawData=_ref.rawData;return(0,chsk_xy_es.Bf)(rawData)?(0,jsx_runtime.jsx)(chsk_core_es.kL2,{data:chartData,fref,id:"error-bars",size:[600,480],padding:[80,40,60,60],theme:ErrorsChart_customTheme,children:(0,jsx_runtime.jsxs)(chsk_xy_es.bp,{data:rawData,x:"x",y:"y",valueSize:4,scaleX:{variant:"linear",domain:"auto",nice:4},scaleY:{variant:"linear",domain:"auto",nice:4},scaleColor:{variant:"categorical",colors:["#666666","#aaaaaa"]},children:[(0,jsx_runtime.jsxs)(chsk_core_es.lqb,{initialOn:"axes",children:[(0,jsx_runtime.jsx)(chsk_core_es.ZT$,{variant:"title",position:[-50,-50],children:"Empirical measurements of A and B"}),(0,jsx_runtime.jsx)(chsk_core_es.VJA,{variant:"x",values:24}),(0,jsx_runtime.jsx)(chsk_core_es.VJA,{variant:"y",values:24}),(0,jsx_runtime.jsxs)(chsk_core_es.RDh,{variant:"bottom",children:[(0,jsx_runtime.jsx)(chsk_core_es.kpH,{variant:"bottom",children:"A (a.u.)"}),(0,jsx_runtime.jsx)(chsk_core_es.yAs,{variant:"bottom",ticks:6})]}),(0,jsx_runtime.jsxs)(chsk_core_es.RDh,{variant:"left",children:[(0,jsx_runtime.jsx)(chsk_core_es.kpH,{variant:"left",children:"B (a.u.)"}),(0,jsx_runtime.jsx)(chsk_core_es.yAs,{variant:"left",ticks:6})]})]}),(0,jsx_runtime.jsxs)(chsk_core_es.lqb,{initialOn:"points",children:[(0,jsx_runtime.jsx)(chsk_core_es.ZT$,{variant:"subtitle",position:[-50,-30],children:"Points represent summaries of multiple independent measurements"}),(0,jsx_runtime.jsx)(chsk_xy_es.Ew,{variant:"x",lower:"xmin",upper:"xmax",capWidth:6}),(0,jsx_runtime.jsx)(chsk_xy_es.Ew,{variant:"y",lower:"ymin",upper:"ymax",capWidth:6}),(0,jsx_runtime.jsx)(chsk_xy_es.cG,{})]}),(0,jsx_runtime.jsxs)(chsk_core_es.lqb,{initialOn:"curve",children:[(0,jsx_runtime.jsx)(chsk_xy_es.nr,{curve:"MonotoneX",convolutionMask:[.5,1,.5],convolutionOffset:-1,style:fitStyle}),(0,jsx_runtime.jsx)(chsk_xy_es.XG,{style:{stroke:"#dd0000",strokeWidth:.5},symbolStyle:{fill:"#dd0000"}})]}),(0,jsx_runtime.jsx)(chsk_core_es.lqb,{initialOn:"legend",children:(0,jsx_runtime.jsxs)(chsk_core_es.DeQ,{position:[.96,.96],positionUnits:"relative",size:[152,60],sizeUnits:"absolute",anchor:[1,1],padding:[8,8,8,8],children:[(0,jsx_runtime.jsx)(chsk_core_es.AeJ,{x:0,y:0,width:152,height:60,style:{stroke:"#666666",strokeWidth:1,fill:"#ffffff"}}),(0,jsx_runtime.jsx)(chsk_core_es.YLY,{variant:"right",position:[1,4],padding:[8,8,8,8],size:[150,24],symbol:chsk_core_es.Cdc,r:5,item:"A",label:"Measurements",labelDistance:13,interactive:!1}),(0,jsx_runtime.jsx)(chsk_core_es.YLY,{variant:"right",position:[1,28],padding:[8,8,8,8],size:[150,24],symbol:chsk_annotation_es.XX,r:6,item:"A",label:"Moving average",labelDistance:12,symbolStyle:fitStyle,interactive:!1})]})}),(0,jsx_runtime.jsx)(chsk_core_es.ua7,{offset:[16,-16],anchor:[0,1],size:[130,30],title:"",labelFormat:ErrorsChart_customTooltipLabel})]})}):null};ErrorsChart.displayName="ErrorsChart";try{ErrorsChart.displayName="ErrorsChart",ErrorsChart.__docgenInfo={description:"",displayName:"ErrorsChart",props:{chartData:{defaultValue:null,description:"data object passed to the 'Chart' component",name:"chartData",required:!0,type:{name:'Omit<ChartDataContextProps, "id">'}},fref:{defaultValue:null,description:"ref used to toggle milestones",name:"fref",required:!1,type:{name:"Ref<ChartRef>"}},rawData:{defaultValue:null,description:"raw dataset used for plotting",name:"rawData",required:!0,type:{name:"RawData"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["examples/scatter/ErrorsChart.tsx#ErrorsChart"]={docgenInfo:ErrorsChart.__docgenInfo,name:"ErrorsChart",path:"examples/scatter/ErrorsChart.tsx#ErrorsChart"})}catch(__react_docgen_typescript_loader_error){}var generators=__webpack_require__("./examples/line/generators.tsx");function SimpsonChart_extends(){return SimpsonChart_extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},SimpsonChart_extends.apply(this,arguments)}var generateSimpsonData=function generateSimpsonData(){return[{id:"A",data:(0,generators.Hg)(50,[1,4],[5,-1],1).concat((0,generators.Hg)(20,[.5,4.5],[5,-1],.5))},{id:"B",data:(0,generators.Hg)(50,[2,5],[9,-1],1).concat((0,generators.Hg)(20,[1.5,5.5],[9,-1],.5))},{id:"C",data:(0,generators.Hg)(50,[3,6],[13,-1],1).concat((0,generators.Hg)(20,[2.5,6.5],[13,-1],.5))}]},SimpsonChart_customTheme={line:{regression:{strokeWidth:3}},LegendItem:{right:{size:[100,24],labelDistance:8}}},regressionStyle={strokeWidth:4,stroke:"#444444",strokeDasharray:"9 11",strokeLinecap:"round"},SimpsonChart=function SimpsonChart(_ref){var fref=_ref.fref,chartData=_ref.chartData,rawData=_ref.rawData;return(0,chsk_xy_es.Bf)(rawData)?(0,jsx_runtime.jsx)(chsk_core_es.kL2,{data:chartData,fref,id:"simpson",size:[600,480],padding:[100,40,60,60],theme:SimpsonChart_customTheme,children:(0,jsx_runtime.jsxs)(chsk_xy_es.bp,{data:rawData,x:"x",y:"y",valueSize:3,scaleX:{variant:"linear",domain:"auto",nice:!1},scaleY:{variant:"linear",domain:"auto"},children:[(0,jsx_runtime.jsxs)(chsk_core_es.lqb,{initialOn:"axes",children:[(0,jsx_runtime.jsx)(chsk_core_es.RDh,{variant:"bottom",label:"Covariate (a.u.)"}),(0,jsx_runtime.jsxs)(chsk_core_es.RDh,{variant:"left",children:[(0,jsx_runtime.jsx)(chsk_core_es.kpH,{variant:"left",children:"Measurement (a.u.)"}),(0,jsx_runtime.jsx)(chsk_core_es.yAs,{variant:"left"})]})]}),(0,jsx_runtime.jsxs)(chsk_core_es.lqb,{initialOn:"A",children:[(0,jsx_runtime.jsx)(chsk_xy_es.cG,{ids:["A"]}),(0,jsx_runtime.jsx)(chsk_xy_es.FX,{ids:["A"],variant:"series"})]}),(0,jsx_runtime.jsx)(chsk_core_es.lqb,{initialOn:"A",exitOn:"B",children:(0,jsx_runtime.jsx)(chsk_xy_es.FX,{ids:["A"],variant:"pooled",style:regressionStyle})}),(0,jsx_runtime.jsxs)(chsk_core_es.lqb,{initialOn:"B",children:[(0,jsx_runtime.jsx)(chsk_xy_es.cG,{ids:["B"]}),(0,jsx_runtime.jsx)(chsk_xy_es.FX,{ids:["B"],variant:"series"})]}),(0,jsx_runtime.jsx)(chsk_core_es.lqb,{initialOn:"B",exitOn:"C",children:(0,jsx_runtime.jsx)(chsk_xy_es.FX,{ids:["A","B"],variant:"pooled",style:regressionStyle})}),(0,jsx_runtime.jsxs)(chsk_core_es.lqb,{initialOn:"C",children:[(0,jsx_runtime.jsx)(chsk_xy_es.cG,{ids:["C"]}),(0,jsx_runtime.jsx)(chsk_xy_es.FX,{ids:["C"],variant:"series"}),(0,jsx_runtime.jsx)(chsk_xy_es.FX,{ids:["A","B","C"],variant:"pooled",style:regressionStyle})]}),(0,jsx_runtime.jsx)(chsk_core_es.ZT$,{variant:"title",position:[-50,-80],children:"The Simpson Effect"}),(0,jsx_runtime.jsx)(chsk_core_es.ZT$,{variant:"subtitle",position:[-50,-60],children:"Regression coefficients can be substantially different for a pool than for subgroups"}),(0,jsx_runtime.jsxs)(chsk_core_es.DeQ,{position:[-50,-45],positionUnits:"absolute",size:[400,30],sizeUnits:"absolute",anchor:[0,0],padding:[0,0,0,0],horizontal:!0,children:[(0,jsx_runtime.jsx)(chsk_core_es.YLY,{variant:"right",position:[0,0],symbol:chsk_core_es.Cdc,item:"A",label:"Group A"}),(0,jsx_runtime.jsx)(chsk_core_es.YLY,{variant:"right",position:[100,0],symbol:chsk_core_es.Cdc,item:"B",label:"Group B"}),(0,jsx_runtime.jsx)(chsk_core_es.YLY,{variant:"right",position:[200,0],symbol:chsk_core_es.Cdc,item:"C",label:"Group C"}),(0,jsx_runtime.jsx)(chsk_core_es.YLY,{variant:"right",position:[300,0],symbol:chsk_annotation_es.XX,item:"pool",label:"Pool",symbolStyle:SimpsonChart_extends({},regressionStyle,{strokeDasharray:"5 7"}),interactive:!1})]})]})}):null};SimpsonChart.displayName="SimpsonChart";try{SimpsonChart.displayName="SimpsonChart",SimpsonChart.__docgenInfo={description:"",displayName:"SimpsonChart",props:{chartData:{defaultValue:null,description:"data object passed to the 'Chart' component",name:"chartData",required:!0,type:{name:'Omit<ChartDataContextProps, "id">'}},fref:{defaultValue:null,description:"ref used to toggle milestones",name:"fref",required:!1,type:{name:"Ref<ChartRef>"}},rawData:{defaultValue:null,description:"raw dataset used for plotting",name:"rawData",required:!0,type:{name:"RawData"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["examples/scatter/SimpsonChart.tsx#SimpsonChart"]={docgenInfo:SimpsonChart.__docgenInfo,name:"SimpsonChart",path:"examples/scatter/SimpsonChart.tsx#SimpsonChart"})}catch(__react_docgen_typescript_loader_error){}function OutlierScatterChart_extends(){return OutlierScatterChart_extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},OutlierScatterChart_extends.apply(this,arguments)}var generateOutlierScatterData=function generateOutlierScatterData(){return[{id:"points",data:(0,generators.Hg)(60,[1,4],[5,-1],1).concat((0,generators.Hg)(20,[.5,4.5],[5,-1],.5))},{id:"outliers",data:(0,generators.Hg)(3,[4.8,5.3],[14,1],1)}]},OutlierScatterChart_customTheme={line:{regression:{strokeWidth:4,strokeLinecap:"round"},pooled:{stroke:"#aaaaaa"},points:{stroke:"#222222"}},path:{outliers:{stroke:"#777777",fillOpacity:0},blockArrow:{strokeWidth:0,fill:"#dd0000"}},text:{bracketLabel:{textAnchor:"end",dominantBaseline:"middle"}},circle:{default:{strokeWidth:.5,stroke:"#ffffff"}}},OutlierScatterChart=function OutlierScatterChart(_ref){var _customTheme$line,_customTheme$line2,_customTheme$line3,_customTheme$line4,fref=_ref.fref,chartData=_ref.chartData,rawData=_ref.rawData;if(!(0,chsk_xy_es.Bf)(rawData))return null;var outlierX=(0,chsk_core_es.X9l)(rawData[1].data.map((function(point){return Number(point.x)}))),outlierY=(0,chsk_core_es.X9l)(rawData[1].data.map((function(point){return Number(point.y)})));return(0,jsx_runtime.jsx)(chsk_core_es.kL2,{data:chartData,fref,id:"simpson",size:[600,480],padding:[60,40,60,60],theme:OutlierScatterChart_customTheme,children:(0,jsx_runtime.jsxs)(chsk_xy_es.bp,{data:rawData,x:"x",y:"y",scaleX:{variant:"linear",domain:"auto",nice:!1},scaleY:{variant:"linear",domain:"auto"},scaleColor:OutlierScatterChart_extends({},chsk_core_es.oRn,{domain:["points","outliers"],size:1}),children:[(0,jsx_runtime.jsxs)(chsk_core_es.lqb,{initialOn:"axes",children:[(0,jsx_runtime.jsx)(chsk_core_es.RDh,{variant:"bottom",label:"Covariate (a.u.)"}),(0,jsx_runtime.jsxs)(chsk_core_es.RDh,{variant:"left",children:[(0,jsx_runtime.jsx)(chsk_core_es.kpH,{variant:"left",children:"Measurement (a.u.)"}),(0,jsx_runtime.jsx)(chsk_core_es.yAs,{variant:"left"})]})]}),(0,jsx_runtime.jsx)(chsk_core_es.lqb,{initialOn:"data",children:(0,jsx_runtime.jsx)(chsk_xy_es.cG,{ids:["points","outliers"],symbolStyle:{strokeWidth:1,stroke:"#ffffff"}})}),(0,jsx_runtime.jsx)(chsk_core_es.lqb,{initialOn:"regression1",children:(0,jsx_runtime.jsx)(chsk_xy_es.FX,{ids:["points","outliers"],variant:"pooled",className:"pooled"})}),(0,jsx_runtime.jsxs)(chsk_core_es.lqb,{initialOn:"outliers",children:[(0,jsx_runtime.jsx)(chsk_annotation_es.d5,{variant:"right",start:[outlierX[0]-.2,outlierY[0]-1],end:[outlierX[0]-.2,outlierY[1]+1],units:"view",className:"outliers",offset:[-12,24],children:"Outliers"}),(0,jsx_runtime.jsx)(chsk_annotation_es.d5,{variant:"left",start:[outlierX[1]+.2,outlierY[0]-1],end:[outlierX[1]+.2,outlierY[1]+1],units:"view",className:"outliers"})]}),(0,jsx_runtime.jsx)(chsk_core_es.lqb,{initialOn:"arrow",exitOn:"regression2",children:(0,jsx_runtime.jsx)(chsk_annotation_es.VC,{start:[(outlierX[0]+outlierX[1])/2,outlierY[0]-4.5],end:[(outlierX[0]+outlierX[1])/2,outlierY[0]-2],stemWidth:10,headWidth:24,className:"outliers"})}),(0,jsx_runtime.jsx)(chsk_core_es.lqb,{initialOn:"regression2",children:(0,jsx_runtime.jsx)(chsk_xy_es.FX,{ids:["points"],style:{strokeWidth:4,stroke:"#222222"},className:"points"})}),(0,jsx_runtime.jsxs)(chsk_core_es.DeQ,{position:[50,20],positionUnits:"absolute",size:[160,60],sizeUnits:"absolute",anchor:[0,0],horizontal:!1,children:[(0,jsx_runtime.jsxs)(chsk_core_es.lqb,{initialOn:"regression1",children:[(0,jsx_runtime.jsx)(chsk_core_es.VwH,{variant:"right",position:[0,0],size:[80,24],children:"Regression"}),(0,jsx_runtime.jsx)(chsk_core_es.YLY,{variant:"right",position:[0,18],size:[100,24],symbol:chsk_annotation_es.XX,item:"points",label:"Using entire dataset",symbolStyle:OutlierScatterChart_extends({},null==(_customTheme$line=OutlierScatterChart_customTheme.line)?void 0:_customTheme$line.regression,null==(_customTheme$line2=OutlierScatterChart_customTheme.line)?void 0:_customTheme$line2.pooled),labelDistance:16,interactive:!1})]}),(0,jsx_runtime.jsx)(chsk_core_es.lqb,{initialOn:"regression2",children:(0,jsx_runtime.jsx)(chsk_core_es.YLY,{variant:"right",position:[0,42],size:[100,24],symbol:chsk_annotation_es.XX,item:"pool",label:"Excluding outliers",labelDistance:16,symbolStyle:OutlierScatterChart_extends({},null==(_customTheme$line3=OutlierScatterChart_customTheme.line)?void 0:_customTheme$line3.regression,null==(_customTheme$line4=OutlierScatterChart_customTheme.line)?void 0:_customTheme$line4.points),interactive:!1})})]}),(0,jsx_runtime.jsx)(chsk_core_es.ZT$,{variant:"title",position:[-50,-40],children:"Effects of outliers"}),(0,jsx_runtime.jsx)(chsk_core_es.ZT$,{variant:"subtitle",position:[-50,-20],children:"Regression coefficients can shift due to outliers"})]})})};OutlierScatterChart.displayName="OutlierScatterChart";try{OutlierScatterChart.displayName="OutlierScatterChart",OutlierScatterChart.__docgenInfo={description:"",displayName:"OutlierScatterChart",props:{chartData:{defaultValue:null,description:"data object passed to the 'Chart' component",name:"chartData",required:!0,type:{name:'Omit<ChartDataContextProps, "id">'}},fref:{defaultValue:null,description:"ref used to toggle milestones",name:"fref",required:!1,type:{name:"Ref<ChartRef>"}},rawData:{defaultValue:null,description:"raw dataset used for plotting",name:"rawData",required:!0,type:{name:"RawData"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["examples/scatter/OutlierScatterChart.tsx#OutlierScatterChart"]={docgenInfo:OutlierScatterChart.__docgenInfo,name:"OutlierScatterChart",path:"examples/scatter/OutlierScatterChart.tsx#OutlierScatterChart"})}catch(__react_docgen_typescript_loader_error){}function MultipleViewsScatterChart_extends(){return MultipleViewsScatterChart_extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},MultipleViewsScatterChart_extends.apply(this,arguments)}var generateMultiViewsScatterData=function generateMultiViewsScatterData(){return[{id:"alpha",data:generateXYValues((0,utils.G0)([80],[-.2],[1]),["A","B","C"],[function(x){return.5*x+(0,utils.TL)(0,1)},function(x){return.5*x+(0,utils.TL)(0,1.5)},function(x){return.5*x+(0,utils.TL)(0,2)}])},{id:"beta",data:generateXYValues((0,utils.G0)([80],[.2],[1]),["A","B","C"],[function(x){return x+(0,utils.TL)(0,1)},function(x){return x+(0,utils.TL)(0,1.5)},function(x){return x+(0,utils.TL)(0,2)}])}]},commonProps={units:"relative",x:"x",y:"A",valueSize:3,scaleX:{variant:"linear",domain:"auto",nice:!0}},multiviewTheme={line:{grid:{stroke:"#bbbbbb",strokeWidth:1,strokeDasharray:"3 3"}},rect:{inner:{fillOpacity:0,stroke:"#222222",strokeWidth:1},boxedTitle:{fill:"#f2f2f2",stroke:"#222222",strokeWidth:1}},text:{axisLabel:{textAnchor:"middle",dominantBaseline:"auto"}}},enterAnimation={opacity:0,y:-20},enterTransition={type:"spring",duration:.8,stiffness:50},MultipleViewsScatterChart=function MultipleViewsScatterChart(_ref){var fref=_ref.fref,chartData=_ref.chartData,rawData=_ref.rawData;if(!(0,chsk_xy_es.Bf)(rawData))return null;var scaleY={variant:"linear",domain:(0,chsk_core_es.X9l)(rawData.map((function(seriesData){return seriesData.data.map((function(d){return[d.A,d.B,d.C]})).flat()})).flat()),nice:!0};return(0,jsx_runtime.jsx)(chsk_core_es.kL2,{fref,data:chartData,id:"multiple-views-scatter",size:[600,280],padding:[40,120,60,60],theme:multiviewTheme,children:(0,jsx_runtime.jsxs)(chsk_core_es.rjZ,{grid:[3,1],spacing:[8,0],children:[(0,jsx_runtime.jsx)(chsk_core_es.P4e,{position:0,children:(0,jsx_runtime.jsxs)(chsk_xy_es.bp,MultipleViewsScatterChart_extends({},commonProps,{y:"A",data:rawData,scaleY,children:[(0,jsx_runtime.jsxs)(chsk_core_es.lqb,{initial:enterAnimation,initialOn:"A",transition:enterTransition,children:[(0,jsx_runtime.jsx)(chsk_core_es.VJA,{variant:"y"}),(0,jsx_runtime.jsx)(chsk_core_es.VJA,{variant:"x"}),(0,jsx_runtime.jsx)(chsk_core_es.Tgp,{}),(0,jsx_runtime.jsx)(chsk_core_es.RDh,{variant:"bottom"}),(0,jsx_runtime.jsx)(chsk_core_es.RDh,{variant:"left",label:"y values (a.u.)"}),(0,jsx_runtime.jsx)(chsk_xy_es.cG,{}),(0,jsx_runtime.jsx)(chsk_annotation_es.Q1,{variant:"top",children:"Device A"})]}),(0,jsx_runtime.jsx)(chsk_core_es.lqb,{initialOn:"legend",children:(0,jsx_runtime.jsx)(chsk_core_es.DeQ,{position:[440,80],positionUnits:"absolute",size:[80,80],sizeUnits:"absolute",anchor:[0,.5],padding:[0,12,0,12],r:10,itemSize:[80,22],itemPadding:[2,2,2,2],title:"Populations"})})]}))}),(0,jsx_runtime.jsx)(chsk_core_es.P4e,{position:1,children:(0,jsx_runtime.jsx)(chsk_core_es.lqb,{initial:enterAnimation,initialOn:"B",transition:enterTransition,children:(0,jsx_runtime.jsxs)(chsk_xy_es.bp,MultipleViewsScatterChart_extends({},commonProps,{y:"B",data:rawData,scaleY,children:[(0,jsx_runtime.jsx)(chsk_core_es.VJA,{variant:"y"}),(0,jsx_runtime.jsx)(chsk_core_es.VJA,{variant:"x"}),(0,jsx_runtime.jsx)(chsk_core_es.Tgp,{}),(0,jsx_runtime.jsx)(chsk_core_es.RDh,{variant:"bottom",label:"x values (a.u.)"}),(0,jsx_runtime.jsx)(chsk_xy_es.cG,{}),(0,jsx_runtime.jsx)(chsk_annotation_es.Q1,{variant:"top",children:"Device B"})]}))})}),(0,jsx_runtime.jsx)(chsk_core_es.P4e,{position:2,children:(0,jsx_runtime.jsx)(chsk_core_es.lqb,{initial:enterAnimation,initialOn:"C",transition:enterTransition,children:(0,jsx_runtime.jsxs)(chsk_xy_es.bp,MultipleViewsScatterChart_extends({},commonProps,{y:"C",data:rawData,scaleY,children:[(0,jsx_runtime.jsx)(chsk_core_es.VJA,{variant:"y"}),(0,jsx_runtime.jsx)(chsk_core_es.VJA,{variant:"x"}),(0,jsx_runtime.jsx)(chsk_core_es.Tgp,{}),(0,jsx_runtime.jsx)(chsk_core_es.RDh,{variant:"bottom"}),(0,jsx_runtime.jsx)(chsk_xy_es.cG,{}),(0,jsx_runtime.jsx)(chsk_annotation_es.Q1,{variant:"top",children:"Device C"})]}))})})]})})};MultipleViewsScatterChart.displayName="MultipleViewsScatterChart";try{MultipleViewsScatterChart.displayName="MultipleViewsScatterChart",MultipleViewsScatterChart.__docgenInfo={description:"",displayName:"MultipleViewsScatterChart",props:{chartData:{defaultValue:null,description:"data object passed to the 'Chart' component",name:"chartData",required:!0,type:{name:'Omit<ChartDataContextProps, "id">'}},fref:{defaultValue:null,description:"ref used to toggle milestones",name:"fref",required:!1,type:{name:"Ref<ChartRef>"}},rawData:{defaultValue:null,description:"raw dataset used for plotting",name:"rawData",required:!0,type:{name:"RawData"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["examples/scatter/MultipleViewsScatterChart.tsx#MultipleViewsScatterChart"]={docgenInfo:MultipleViewsScatterChart.__docgenInfo,name:"MultipleViewsScatterChart",path:"examples/scatter/MultipleViewsScatterChart.tsx#MultipleViewsScatterChart"})}catch(__react_docgen_typescript_loader_error){}var ids=["alpha","beta","gamma","delta","epsilon"].reverse(),generateDotScatterData=function generateDotScatterData(){var result=[{id:"X",data:[]},{id:"Y",data:[]}];return ids.forEach((function(id,index){var value1=(0,utils.SN)(10,90),value2=value1+(0,utils.SN)(-20,20);result[0].data.push({id,index:index+1,value:(0,utils.$F)(value1)}),result[1].data.push({id,index:index+1,value:(0,utils.$F)(Math.min(98,Math.max(2,value2)))})})),result},DotScatterChart_customTheme=(0,chsk_core_es.hr)(chsk_themes_es.Ee,{line:{grid:{strokeWidth:.5,stroke:"#222222"},crosshair:{stroke:"#222222",strokeDasharray:5}},AxisTicks:{left:{labelDistance:60,labelStyle:{textAnchor:"start"},tickSize:0}}}),customLabelFormat=function customLabelFormat(x){return ids[Number(x.index)]+": "+x.point[0]},CustomBandSurface=function CustomBandSurface(_ref){var ids=_ref.ids,r=_ref.r,style=_ref.style,size=(0,chsk_core_es.Bs9)().size,scales=(0,chsk_core_es.kE1)().scales,phi=(1+Math.sqrt(5))/2,goldenRectWidth=.96*Math.sqrt(Math.PI*phi),indexScale=scales.y,height=r*goldenRectWidth,result=ids.map((function(id,index){return(0,jsx_runtime.jsx)("rect",{x:0,width:size[0],y:indexScale(index+1)-height/2,height,style},"bg-"+index)}));return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:result})},DotScatterChart=function DotScatterChart(_ref2){var fref=_ref2.fref,chartData=_ref2.chartData,rawData=_ref2.rawData;return(0,chsk_xy_es.Bf)(rawData)?(0,jsx_runtime.jsx)(chsk_core_es.kL2,{data:chartData,fref,id:"dots",size:[600,280],padding:[110,40,10,80],theme:DotScatterChart_customTheme,children:(0,jsx_runtime.jsxs)(chsk_xy_es.bp,{data:rawData,x:"value",y:"index",scaleX:{domain:[0,100],variant:"linear"},scaleY:{domain:[.75,ids.length+.75],variant:"linear"},valueSize:9,children:[(0,jsx_runtime.jsx)(chsk_core_es.ZT$,{variant:"title",position:[-60,-80],children:"Performance metrics"}),(0,jsx_runtime.jsx)(chsk_core_es.DeQ,{position:[-64,-65],positionUnits:"absolute",horizontal:!0,itemSize:[55,28],title:"Groups:",r:9,firstOffset:[5,0],symbol:chsk_annotation_es.jo}),(0,jsx_runtime.jsxs)(chsk_core_es.lqb,{initialOn:"axes",children:[(0,jsx_runtime.jsx)(CustomBandSurface,{ids,r:9,style:{fill:"#f4f4f4 "}}),(0,jsx_runtime.jsx)(chsk_core_es.RDh,{variant:"top",label:""}),(0,jsx_runtime.jsx)(chsk_core_es.RDh,{variant:"left",label:"",children:(0,jsx_runtime.jsx)(chsk_core_es.yAs,{variant:"left",ticks:[1,2,3,4,5],labelFormat:function labelFormat(_,i){return ids[i]}})})]}),(0,jsx_runtime.jsxs)(chsk_core_es.lqb,{initialOn:"data",children:[(0,jsx_runtime.jsx)(CustomBandSurface,{ids,r:9,style:{fill:"#f4f4f4 "}}),(0,jsx_runtime.jsx)(chsk_xy_es.cG,{symbol:chsk_annotation_es.jo}),(0,jsx_runtime.jsx)(chsk_xy_es.XG,{variant:"vertical",symbol:chsk_annotation_es.jo,minDistance:20}),(0,jsx_runtime.jsx)(chsk_core_es.ua7,{padding:[8,0,8,0],itemSize:[120,20],itemPadding:[2,8,2,8],r:7,rx:2,ry:2,style:{strokeWidth:.5,stroke:"#777",filter:"drop-shadow(3px 5px 3px #22222244)"},labelFormat:customLabelFormat}),(0,jsx_runtime.jsx)(navigation.N,{position:[390,-75],data:!0,image:!0})]})]})}):null};DotScatterChart.displayName="DotScatterChart";try{DotScatterChart.displayName="DotScatterChart",DotScatterChart.__docgenInfo={description:"",displayName:"DotScatterChart",props:{chartData:{defaultValue:null,description:"data object passed to the 'Chart' component",name:"chartData",required:!0,type:{name:'Omit<ChartDataContextProps, "id">'}},fref:{defaultValue:null,description:"ref used to toggle milestones",name:"fref",required:!1,type:{name:"Ref<ChartRef>"}},rawData:{defaultValue:null,description:"raw dataset used for plotting",name:"rawData",required:!0,type:{name:"RawData"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["examples/scatter/DotScatterChart.tsx#DotScatterChart"]={docgenInfo:DotScatterChart.__docgenInfo,name:"DotScatterChart",path:"examples/scatter/DotScatterChart.tsx#DotScatterChart"})}catch(__react_docgen_typescript_loader_error){}const bubbles=()=>(0,jsx_runtime.jsx)(Controller.Q,{generator:generateBubbleScatterData,chart:BubbleScatterChart,steps:["axes","data","legend"]});bubbles.storyName="bubbles",bubbles.parameters={storySource:{source:'<Controller generator={generateBubbleScatterData} chart={BubbleScatterChart} steps={["axes", "data", "legend"]} />'}};const clusters=()=>(0,jsx_runtime.jsx)(Controller.Q,{generator:generateClusterScatterData,chart:ClustersScatterChart,steps:["axes","legend","data"]});clusters.storyName="clusters",clusters.parameters={storySource:{source:'<Controller generator={generateClusterScatterData} chart={ClustersScatterChart} steps={["axes", "legend", "data"]} />'}};const tooltipsOnAxes=()=>(0,jsx_runtime.jsx)(Controller.Q,{generator:generateAxisTooltipScatterData,chart:AxisTooltipScatterChart});tooltipsOnAxes.storyName="tooltips on axes",tooltipsOnAxes.parameters={storySource:{source:"<Controller generator={generateAxisTooltipScatterData} chart={AxisTooltipScatterChart} />"}};const manhattan=()=>(0,jsx_runtime.jsx)(Controller.Q,{generator:generateManhattanScatterData,chart:ManhattanScatterChart,steps:["axes","data"],comment:(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsxs)("p",{children:["Manhattan charts often have a large number of data points. This chart draws points with svg ",(0,jsx_runtime.jsx)("code",{children:"circle"})," components rather than chsk",(0,jsx_runtime.jsx)("code",{children:"Circle"})," components. The replacement sacrifices animations of the points in order to prioritize responsiveness. The axes and the grid are still animated."]}),(0,jsx_runtime.jsxs)("p",{children:["Another noteworthy detail is that mouse events are handled by",(0,jsx_runtime.jsx)("code",{children:"ScatterCrosshair"}),". Information about data points should appear when the mouse hovers near, not necessarily on top, of point symbols."]})]}),commentWidth:"90%"});manhattan.storyName="manhattan",manhattan.parameters={storySource:{source:'<Controller generator={generateManhattanScatterData} chart={ManhattanScatterChart} steps={["axes", "data"]} comment={<div>\n                    <p>\n                        Manhattan charts often have a large number of data points. This chart draws\n                        points with svg <code>circle</code> components rather than chsk\n                        <code>Circle</code> components. The replacement sacrifices animations of the\n                        points in order to prioritize responsiveness. The axes and the grid are still\n                        animated.\n                    </p>\n                    <p>\n                        Another noteworthy detail is that mouse events are handled by\n                        <code>ScatterCrosshair</code>. Information about data points should appear when\n                        the mouse hovers near, not necessarily on top, of point symbols.\n                    </p>\n                </div>} commentWidth={"90%"} />'}};const errorBars=()=>(0,jsx_runtime.jsx)(Controller.Q,{generator:generateErrorsData,chart:ErrorsChart,steps:["axes","points","curve","legend"]});errorBars.storyName="error bars",errorBars.parameters={storySource:{source:'<Controller generator={generateErrorsData} chart={ErrorsChart} steps={["axes", "points", "curve", "legend"]} />'}};const regression=()=>(0,jsx_runtime.jsx)(Controller.Q,{generator:generateSimpsonData,chart:SimpsonChart,steps:["axes","A","B","C"]});regression.storyName="regression",regression.parameters={storySource:{source:'<Controller generator={generateSimpsonData} chart={SimpsonChart} steps={["axes", "A", "B", "C"]} />'}};const outliers=()=>(0,jsx_runtime.jsx)(Controller.Q,{generator:generateOutlierScatterData,chart:OutlierScatterChart,steps:["axes","data","regression1","arrow","outliers","regression2"]});outliers.storyName="outliers",outliers.parameters={storySource:{source:'<Controller generator={generateOutlierScatterData} chart={OutlierScatterChart} steps={["axes", "data", "regression1", "arrow", "outliers", "regression2"]} />'}};const multipleViews=()=>(0,jsx_runtime.jsx)(Controller.Q,{generator:generateMultiViewsScatterData,chart:MultipleViewsScatterChart,steps:["legend","A","B","C"]});multipleViews.storyName="multiple views",multipleViews.parameters={storySource:{source:'<Controller generator={generateMultiViewsScatterData} chart={MultipleViewsScatterChart} steps={["legend", "A", "B", "C"]} />'}};const dots=()=>(0,jsx_runtime.jsx)(Controller.Q,{generator:generateDotScatterData,chart:DotScatterChart,steps:["axes","data"],comment:(0,jsx_runtime.jsx)("div",{children:"Dot charts typically use one band (categorical) scale and one continuous scales. This example, however, is implemented with two continuous scales in order to take advantage of `ScatterCrosshair`. The appearance of the vertical axis as a categorical scale is achieved through custom tick labels."})});dots.storyName="dots",dots.parameters={storySource:{source:'<Controller generator={generateDotScatterData} chart={DotScatterChart} steps={["axes", "data"]} comment={<div>\n                            Dot charts typically use one band (categorical) scale and one continuous scales. This example, however, is implemented with two continuous scales in order to take advantage of `ScatterCrosshair`. The appearance of the vertical axis as a categorical scale is achieved through custom tick labels.\n                        </div>} />'}};const componentMeta={title:"Gallery/Scatter charts",tags:["stories-mdx"],includeStories:["bubbles","clusters","tooltipsOnAxes","manhattan","errorBars","regression","outliers","multipleViews","dots"]};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs={...componentMeta.parameters.docs||{},page:function MDXContent(props={}){const{wrapper:MDXLayout}=Object.assign({},(0,lib.ah)(),props.components);return MDXLayout?(0,jsx_runtime.jsx)(MDXLayout,{...props,children:(0,jsx_runtime.jsx)(_createMdxContent,{})}):_createMdxContent();function _createMdxContent(){const _components=Object.assign({h1:"h1",div:"div",p:"p",code:"code"},(0,lib.ah)(),props.components);return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(dist.h_,{title:"Gallery/Scatter charts"}),"\n",(0,jsx_runtime.jsx)(_components.h1,{id:"examples-of-scatter-charts",children:"Examples of scatter charts"}),"\n",(0,jsx_runtime.jsx)(dist.Xz,{children:(0,jsx_runtime.jsx)(dist.oG,{name:"bubbles",children:(0,jsx_runtime.jsx)(Controller.Q,{generator:generateBubbleScatterData,chart:BubbleScatterChart,steps:["axes","data","legend"]})})}),"\n",(0,jsx_runtime.jsx)(dist.Xz,{children:(0,jsx_runtime.jsx)(dist.oG,{name:"clusters",children:(0,jsx_runtime.jsx)(Controller.Q,{generator:generateClusterScatterData,chart:ClustersScatterChart,steps:["axes","legend","data"]})})}),"\n",(0,jsx_runtime.jsx)(dist.Xz,{children:(0,jsx_runtime.jsx)(dist.oG,{name:"tooltips on axes",children:(0,jsx_runtime.jsx)(Controller.Q,{generator:generateAxisTooltipScatterData,chart:AxisTooltipScatterChart})})}),"\n",(0,jsx_runtime.jsx)(dist.Xz,{children:(0,jsx_runtime.jsx)(dist.oG,{name:"manhattan",children:(0,jsx_runtime.jsx)(Controller.Q,{generator:generateManhattanScatterData,chart:ManhattanScatterChart,steps:["axes","data"],comment:(0,jsx_runtime.jsxs)(_components.div,{children:[(0,jsx_runtime.jsxs)(_components.p,{children:["Manhattan charts often have a large number of data points. This chart draws points with svg ",(0,jsx_runtime.jsx)(_components.code,{children:"circle"})," components rather than chsk",(0,jsx_runtime.jsx)(_components.code,{children:"Circle"})," components. The replacement sacrifices animations of the points in order to prioritize responsiveness. The axes and the grid are still animated."]}),(0,jsx_runtime.jsxs)(_components.p,{children:["Another noteworthy detail is that mouse events are handled by",(0,jsx_runtime.jsx)(_components.code,{children:"ScatterCrosshair"}),". Information about data points should appear when the mouse hovers near, not necessarily on top, of point symbols."]})]}),commentWidth:"90%"})})}),"\n",(0,jsx_runtime.jsx)(dist.Xz,{children:(0,jsx_runtime.jsx)(dist.oG,{name:"error bars",children:(0,jsx_runtime.jsx)(Controller.Q,{generator:generateErrorsData,chart:ErrorsChart,steps:["axes","points","curve","legend"]})})}),"\n",(0,jsx_runtime.jsx)(dist.Xz,{children:(0,jsx_runtime.jsx)(dist.oG,{name:"regression",children:(0,jsx_runtime.jsx)(Controller.Q,{generator:generateSimpsonData,chart:SimpsonChart,steps:["axes","A","B","C"]})})}),"\n",(0,jsx_runtime.jsx)(dist.Xz,{children:(0,jsx_runtime.jsx)(dist.oG,{name:"outliers",children:(0,jsx_runtime.jsx)(Controller.Q,{generator:generateOutlierScatterData,chart:OutlierScatterChart,steps:["axes","data","regression1","arrow","outliers","regression2"]})})}),"\n",(0,jsx_runtime.jsx)(dist.Xz,{children:(0,jsx_runtime.jsx)(dist.oG,{name:"multiple views",children:(0,jsx_runtime.jsx)(Controller.Q,{generator:generateMultiViewsScatterData,chart:MultipleViewsScatterChart,steps:["legend","A","B","C"]})})}),"\n",(0,jsx_runtime.jsx)(dist.Xz,{children:(0,jsx_runtime.jsx)(dist.oG,{name:"dots",children:(0,jsx_runtime.jsx)(Controller.Q,{generator:generateDotScatterData,chart:DotScatterChart,steps:["axes","data"],comment:(0,jsx_runtime.jsx)(_components.div,{children:"Dot charts typically use one band (categorical) scale and one continuous scales. This example, however, is implemented with two continuous scales in order to take advantage of `ScatterCrosshair`. The appearance of the vertical axis as a categorical scale is achieved through custom tick labels."})})})})]})}}};const scatter_stories=componentMeta},"./node_modules/d3-scale-chromatic/src/categorical/Dark2.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=(0,__webpack_require__("./node_modules/d3-scale-chromatic/src/colors.js").Z)("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666")},"./node_modules/d3-scale-chromatic/src/colors.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function __WEBPACK_DEFAULT_EXPORT__(specifier){for(var n=specifier.length/6|0,colors=new Array(n),i=0;i<n;)colors[i]="#"+specifier.slice(6*i,6*++i);return colors}__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__})}}]);