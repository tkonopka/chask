"use strict";(self.webpackChunkchsk=self.webpackChunkchsk||[]).push([[7840],{"./packages/annotation/dist/chsk-annotation.es.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{CJ:()=>Triangle,Dt:()=>LineLabel,Ee:()=>HorizontalGoldenRectangle,I6:()=>BoxedLabel,IQ:()=>InsetColorFilter,O7:()=>InsetShadowFilter,Po:()=>ArrowMarker,Q1:()=>BoxedTitle,Qs:()=>FlowPath,UW:()=>Download,VC:()=>BlockArrow,XX:()=>Segment,by:()=>createConcentricSymbol,cs:()=>InsetBorderFilter,d$:()=>ce,d5:()=>BracketLabel,jo:()=>VerticalGoldenRectangle,nv:()=>Paragraph});var _chsk_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/core/dist/chsk-core.es.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/index.js"),framer_motion__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/framer-motion/dist/es/components/LazyMotion/index.mjs"),framer_motion__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/framer-motion/dist/es/render/dom/features-animation.mjs"),framer_motion__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/framer-motion/dist/es/render/dom/motion-minimal.mjs"),lodash__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/lodash/lodash.js"),InsetBorderFilter=function InsetBorderFilter(e){var t=e.id,r=e.r,i=void 0===r?1:r,n=e.erodeR,a=void 0===n?0:n,o=e.floodColor,s=void 0===o?"#000000":o,l=e.floodOpacity,d=void 0===l?.5:l;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)("filter",{id:t,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("feMorphology",{in:"SourceGraphic",operator:"erode",radius:i,result:t+"-in"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("feMorphology",{in:"SourceGraphic",operator:"erode",radius:a,result:t+"-erode"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("feFlood",{floodColor:s,floodOpacity:d,result:t+"-color"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("feComposite",{operator:"out",in:t+"-erode",in2:t+"-in",result:t+"-boundary"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("feComposite",{operator:"in",in:t+"-color",in2:t+"-boundary",result:t+"-mask"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("feComposite",{operator:"over",in:t+"-mask",in2:"SourceGraphic"})]})},InsetColorFilter=function InsetColorFilter(e){var t=e.id,r=e.erodeR,i=void 0===r?0:r,n=e.floodColor,a=void 0===n?"#000000":n,o=e.floodOpacity,s=void 0===o?.5:o;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)("filter",{id:t,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("feMorphology",{operator:"erode",radius:i,result:t+"-erode"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("feFlood",{floodColor:a,floodOpacity:s,result:t+"-color"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("feComposite",{operator:"in",in:t+"-color",in2:t+"-erode",result:t+"-mask"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("feComposite",{operator:"over",in:t+"-mask",in2:"SourceGraphic"})]})},InsetShadowFilter=function InsetShadowFilter(e){var t=e.id,r=e.blurStdDeviation,i=void 0===r?5:r,n=e.floodColor,a=void 0===n?"#000000":n,o=e.floodOpacity,s=void 0===o?.9:o;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)("filter",{id:t,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("feGaussianBlur",{stdDeviation:i,result:t+"-blur"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("feComposite",{operator:"out",in:"SourceGraphic",in2:t+"-blur",result:t+"-inverse"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("feFlood",{floodColor:a,floodOpacity:s,result:t+"-color"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("feComposite",{operator:"in",in:t+"-color",in2:t+"-inverse",result:t+"-shadow"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("feComposite",{operator:"over",in:t+"-shadow",in2:"SourceGraphic"})]})};function _extends(){return _extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},_extends.apply(this,arguments)}function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};var r,i,n={},a=Object.keys(e);for(i=0;i<a.length;i++)r=a[i],t.indexOf(r)>=0||(n[r]=e[r]);return n}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}function _createForOfIteratorHelperLoose(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var getLineAbsolutePositions=function getLineAbsolutePositions(e){var t=e.start,r=e.end,i=e.units,a=void 0===i?"view":i,o=e.expansion,s=void 0===o?[0,0]:o,l=e.scales,d=e.size,c=l.x.bandwidth()*s[0],u=l.y.bandwidth()*s[1],v=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_0__.eE7)(t,a,d,l),f=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_0__.eE7)(r,a,d,l);return{lineStart:v=[v[0]-c,v[1]-u],lineEnd:f=[f[0]+c,f[1]+u]}},getStartToEndAxis=function getStartToEndAxis(e,t){var r=t[0]-e[0],i=t[1]-e[1],n=Math.atan(-i/r),a=Math.PI/2-n,o=r<0?Math.PI:0;return{deltaX:r,deltaY:i,cosBeta:Math.cos(a+o),sinBeta:Math.sin(a+o)}},getTickPositions=function getTickPositions(e,t,r,i,n){return{tickStart:[e[0]+r*i,e[1]+r*n],tickEnd:[t[0]+r*i,t[1]+r*n]}},translatePoints=function translatePoints(e,t){return e.map((function(e){return[e[_chsk_core__WEBPACK_IMPORTED_MODULE_0__.X]+t[_chsk_core__WEBPACK_IMPORTED_MODULE_0__.X],e[_chsk_core__WEBPACK_IMPORTED_MODULE_0__.Y]+t[_chsk_core__WEBPACK_IMPORTED_MODULE_0__.Y]]}))},rotateAndTranslatePoints=function rotateAndTranslatePoints(e,t,r,i){return e.map((function(e){return[t[_chsk_core__WEBPACK_IMPORTED_MODULE_0__.X]-(r*e[_chsk_core__WEBPACK_IMPORTED_MODULE_0__.X]+i*e[_chsk_core__WEBPACK_IMPORTED_MODULE_0__.Y]),t[_chsk_core__WEBPACK_IMPORTED_MODULE_0__.Y]-(i*e[_chsk_core__WEBPACK_IMPORTED_MODULE_0__.X]-r*e[_chsk_core__WEBPACK_IMPORTED_MODULE_0__.Y])]}))},stemPoints=function stemPoints(e){return 0===e?[[0,0]]:[[-e,0],[e,0]]},headPoints=function headPoints(e,t,r){return[[-e,-r],[-t,-r],[0,0],[t,-r],[e,-r]]},getClosedPath=function getClosedPath(e){return"M"+e[0][_chsk_core__WEBPACK_IMPORTED_MODULE_0__.X]+","+e[0][_chsk_core__WEBPACK_IMPORTED_MODULE_0__.Y]+e.slice(1).map((function(e){return"L"+e[_chsk_core__WEBPACK_IMPORTED_MODULE_0__.X]+","+e[_chsk_core__WEBPACK_IMPORTED_MODULE_0__.Y]})).join("")+"Z"},G=["start","end","units","heads","headWidth","headLength","stemWidth"],BlockArrow=function BlockArrow(e){var t=e.start,r=e.end,i=e.units,a=void 0===i?"view":i,o=e.heads,c=void 0===o?[!1,!0]:o,u=e.headWidth,v=void 0===u?20:u,f=e.headLength,h=void 0===f?14:f,p=e.stemWidth,m=void 0===p?8:p,y=_objectWithoutPropertiesLoose(e,G),g=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_0__.Bs9)().size,x=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_0__.kE1)().scales,S=function getBlockArrowPath(e){var t,r,i,n,s,l,d,c,u,v,f,h,p,m,y,g,x,b,k=(r=(t=e).start,i=t.end,n=t.heads,s=t.headWidth,l=t.headLength,d=t.stemWidth,u=(c=getStartToEndAxis(r,i)).deltaX,v=c.deltaY,f=c.cosBeta,h=c.sinBeta,p=Math.sqrt(u*u+v*v)/2,m=d/2,y=s/2,g=n[0]?headPoints(m,y,l):stemPoints(m),x=n[1]?headPoints(-m,-y,-l):stemPoints(-m),b=translatePoints(g,[0,p]).concat(translatePoints(x,[0,-p])).map((function(e){return[e[_chsk_core__WEBPACK_IMPORTED_MODULE_0__.X],e[_chsk_core__WEBPACK_IMPORTED_MODULE_0__.Y]-p]})),rotateAndTranslatePoints(b,r,f,h));return getClosedPath(k)}({start:(0,_chsk_core__WEBPACK_IMPORTED_MODULE_0__.eE7)(t,a,g,x),end:(0,_chsk_core__WEBPACK_IMPORTED_MODULE_0__.eE7)(r,a,g,x),heads:c,headWidth:v,headLength:h,stemWidth:m});return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_0__.y$t,_extends({variant:"block-arrow",d:S},y))},F=["variant","points","units","curve","markerStart","markerEnd","className","setRole","style","transition"],FlowPath=function FlowPath(e){var t=e.variant,r=void 0===t?"flow":t,i=e.points,a=e.units,o=void 0===a?"view":a,d=e.curve,v=void 0===d?"Linear":d,f=e.markerStart,h=e.markerEnd,p=e.className,m=e.setRole,y=void 0===m||m,g=e.style,x=e.transition,b=void 0===x?{pathLength:{duration:.5}}:x,k=_objectWithoutPropertiesLoose(e,F),S=(0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null),N=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_0__.kE1)().scales,M=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_0__.Bs9)().size,w=(0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)((function(){return i.map((function(e){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_0__.eE7)(e,o,M,N)}))}),[i,o,M,N]),L=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_0__.gjB)(r,p),A=(0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)((function(){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_0__.mHv)(v)}),[v])(w);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(framer_motion__WEBPACK_IMPORTED_MODULE_4__.X,{features:framer_motion__WEBPACK_IMPORTED_MODULE_5__.H,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(framer_motion__WEBPACK_IMPORTED_MODULE_6__.m.path,_extends({ref:S,initial:{d:null!=A?A:void 0,pathLength:0},animate:{d:null!=A?A:void 0,pathLength:1},onAnimationStart:function onAnimationStart(){var e;f&&(null==(e=S.current)||e.setAttribute("marker-start","url(#"+f+")"))},onAnimationComplete:function onAnimationComplete(){var e,t,r;h&&(null==(r=S.current)||r.setAttribute("marker-end","url(#"+h+")")),null==(e=S.current)||e.removeAttribute("stroke-dasharray"),null==(t=S.current)||t.removeAttribute("stroke-dashoffset")},transition:b,role:y?r:void 0,style:g,className:L},k))})},ArrowMarker=function ArrowMarker(e){var d,t=e.variant,r=void 0===t?"Triangle":t,i=e.id,n=e.size,a=void 0===n?10:n,o=e.width,s=void 0===o?1:o,l=e.style,c=Math.min(1,Math.max(0,s));return d="Triangle"===r?function(e,t){var r=e*t/2,i=t/2;return["M0,",i-r,"L"+t+","+i+"L0,",i+r,"z"].join("")}(c,a):"Winged"===r?function(e,t){var r=e*t/2,i=t/2;return["M0,",i-r,"L"+t+","+i+"L0,",i+r,"L"+i+","+i+"z"].join("")}(c,a):function(e,t){var r=e*t/2,i=t/2;return["M0,",i-r,"L"+t+","+i+"L0,",i+r].join("")}(c,a),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("marker",{id:i,viewBox:"0 0 "+(a+2)+" "+(a+2),refX:3*a/4,refY:a/2,markerWidth:a/2,markerHeight:a/2,orient:"auto-start-reverse",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("path",{d,style:l})})},U=["cx","cy","r","className","style"],createConcentricSymbol=function createConcentricSymbol(e){var t=e.variant,r=void 0===t?"background":t,i=e.symbolPrimary,n=void 0===i?_chsk_core__WEBPACK_IMPORTED_MODULE_0__.Cdc:i,a=e.symbolSecondary,o=void 0===a?_chsk_core__WEBPACK_IMPORTED_MODULE_0__.Cdc:a,s=e.rMultiplier,l=void 0===s?1.5:s,d=e.styleModifier,u=void 0===d?{fill:"#ffffff"}:d;return function(e){var t=e.cx,i=e.cy,a=e.r,s=e.className,d=e.style,v=_objectWithoutPropertiesLoose(e,U),f=function(e){var t=e.cx,r=e.cy,i=e.r,n=void 0===i?1:i,a=e.className,o=e.style,s=e.setRole,l=e.variant,d=e.symbolPrimary,u=void 0===d?_chsk_core__WEBPACK_IMPORTED_MODULE_0__.Cdc:d,v=e.symbolSecondary,f=void 0===v?_chsk_core__WEBPACK_IMPORTED_MODULE_0__.Cdc:v,h=e.rMultiplier,m=void 0===h?1:h,y=e.styleModifier,g=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_0__.gjB)(null!=a?a:"default","primary"),x=(0,react__WEBPACK_IMPORTED_MODULE_2__.createElement)(u,{key:"primary",cx:t,cy:r,r:n,className:g,style:o,setRole:s}),b=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_0__.gjB)(null!=a?a:"default","secondary"),k=(0,lodash__WEBPACK_IMPORTED_MODULE_3__.merge)((0,lodash__WEBPACK_IMPORTED_MODULE_3__.clone)(o),y),S=(0,react__WEBPACK_IMPORTED_MODULE_2__.createElement)(f,{key:"secondary",cx:t,cy:r,r:n*m,className:b,style:k,setRole:s}),N="background"===l;return{background:N?S:x,foreground:N?x:S}}({cx:t,cy:i,r:a,className:s,style:d,variant:r,symbolPrimary:n,symbolSecondary:o,rMultiplier:l,styleModifier:u}),h=f.background,m=f.foreground;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)("g",_extends({className:s},v,{children:[h,m]}))}},H=(1+Math.sqrt(5))/2,J=.96*Math.sqrt(Math.PI*H),Z=.96*Math.sqrt(Math.PI/H),K=2*Math.sqrt(Math.PI/(3*Math.sqrt(3)))*.94,Q=Math.sqrt(3)*K*.94,V=[[0,-K],[Q/2,K/2],[-Q/2,K/2]],te=(Math.sqrt(Math.PI/2),[[-1.1,0],[1.1,0]]),ie=["variant","cx","cy","r","className","setRole"],HorizontalGoldenRectangle=function HorizontalGoldenRectangle(e){var t=e.variant,r=void 0===t?"default":t,i=e.cx,n=void 0===i?0:i,a=e.cy,o=void 0===a?0:a,s=e.r,l=void 0===s?1:s,d=e.className,u=e.setRole,v=void 0===u||u,f=_objectWithoutPropertiesLoose(e,ie),h=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_0__.gjB)(r,d),p={x:n-l*J/2,y:o-l*Z/2,width:l*J,height:l*Z};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(framer_motion__WEBPACK_IMPORTED_MODULE_6__.m.rect,_extends({role:v?r:void 0,initial:p,animate:p,className:h},f))},ae=["variant","cx","cy","r","className","setRole"],Segment=function Segment(e){var t=e.variant,r=void 0===t?"default":t,i=e.cx,n=void 0===i?0:i,s=e.cy,l=void 0===s?0:s,d=e.r,u=void 0===d?1:d,v=e.className,f=e.setRole,h=void 0===f||f,p=_objectWithoutPropertiesLoose(e,ae),m=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_0__.gjB)(r,v),y=te.map((function(e){return[n+e[_chsk_core__WEBPACK_IMPORTED_MODULE_0__.X]*u,l+e[_chsk_core__WEBPACK_IMPORTED_MODULE_0__.Y]*u]})),g={x1:y[0][_chsk_core__WEBPACK_IMPORTED_MODULE_0__.X],y1:y[0][_chsk_core__WEBPACK_IMPORTED_MODULE_0__.Y],x2:y[1][_chsk_core__WEBPACK_IMPORTED_MODULE_0__.X],y2:y[1][_chsk_core__WEBPACK_IMPORTED_MODULE_0__.Y]};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(framer_motion__WEBPACK_IMPORTED_MODULE_6__.m.line,_extends({role:h?r:void 0,initial:g,animate:g,className:m},p))},oe=["cx","cy","r"],Triangle=function Triangle(e){var t=e.cx,r=void 0===t?0:t,i=e.cy,n=void 0===i?0:i,a=e.r,o=void 0===a?1:a,s=_objectWithoutPropertiesLoose(e,oe),l=V.map((function(e){return[r+e[0]*o,n+e[1]*o]}));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_0__.mgq,_extends({points:l},s))},se=["variant","cx","cy","r","className","setRole"],VerticalGoldenRectangle=function VerticalGoldenRectangle(e){var t=e.variant,r=void 0===t?"default":t,i=e.cx,n=void 0===i?0:i,a=e.cy,o=void 0===a?0:a,s=e.r,l=void 0===s?1:s,d=e.className,u=e.setRole,v=void 0===u||u,f=_objectWithoutPropertiesLoose(e,se),h=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_0__.gjB)(r,d),p={x:n-l*Z/2,y:o-l*J/2,width:l*Z,height:l*J};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(framer_motion__WEBPACK_IMPORTED_MODULE_6__.m.rect,_extends({role:v?r:void 0,initial:p,animate:p,className:h},f))},le=function roundPxDecimalPlaces(e,t,r){if(void 0===r&&(r=!1),e.includes(" "))return e.split(" ").map((function(e){return roundPxDecimalPlaces(e,t,r)})).join(" ");var i=e.includes("px")&&r,n=Number(e.replace("px","").replace(";","")),a=isFinite(n)?String((0,_chsk_core__WEBPACK_IMPORTED_MODULE_0__.DJC)(n,t)):e;return i?a+"px":a},rgb2hex=function rgb2hex(e){var t=e.startsWith("rgb(")?"rgb":e.startsWith("rgba(")?"rgba":void 0;if(!t)return e;var r=e.includes(",")?",":" ",i=contentInParentheses(e,t).replace("/",r).split(r).filter(Boolean).map((function(e){return e.trim()})),n="rgba"===t&&"1"===i[3]?3:i.length,a=i.slice(0,n).map((function(e){return function(e){var t;return t=e.includes("%")?255*Number(e.replace("%",""))/100:e.includes(".")?255*Number(e):Number(e),((t=Math.max(0,Math.min(255,Math.round(t))))<16?"0":"")+t.toString(16)}(e)})).join("");return"#"+a},contentInParentheses=function contentInParentheses(e,t){return e.replace(t+"(","").split(")")[0]},cleanTransform=function cleanTransform(e,t){if(void 0===e)return e;var r=e.replace("transform:","").trim();if("none"===r)return null;var i=["0","0"],n=["1","1"],a=["0deg"],o=[];r.split(" ").map((function(e){e.startsWith("translateX")?i[0]=contentInParentheses(e,"translateX"):e.startsWith("translateY")?i[1]=contentInParentheses(e,"translateY"):e.startsWith("scaleX")?n[0]=contentInParentheses(e,"scaleX"):e.startsWith("scaleY")?n[1]=contentInParentheses(e,"scaleY"):e.startsWith("rotate(")?a[0]=contentInParentheses(e,"rotate"):o.push(e)}));var s="";"0"===i[0]&&"0"===i[1]||(s="translate("+le(i[0],t,!1)+","+le(i[1],t,!1)+")");var l="";"1"===n[0]&&"1"===n[1]||(l="scale("+le(n[0],t)+","+le(n[1],t)+")");var d="";return"0deg"!==a[0]&&(d="rotate("+le(a[0].replace("deg",""),t)+")"),s+l+d+o.join(" ")},cleanStyle=function cleanStyle(e,t){var r=e.split(";").map((function(e){return e.trim()})),i=r.filter((function(e){return e.startsWith("transform:")}))[0],n=r.filter((function(e){return!e.startsWith("transform")})).map((function(e){if(e.startsWith("fill:")||e.startsWith("stroke:")){var t=e.split(":",2),r=t[0],i=t[1];return r+": "+rgb2hex(i.trim())}return e}));return{style:n.filter(Boolean).join("; "),transform:cleanTransform(i,t)}},de=function scanSvg(e,t,r){var i=null!=r?r:{};if(!e.attributes)return i;var n=e.getAttribute("role");if(null!==n&&t.skipRoles.indexOf(n)>=0)return i;var a=e.nodeName;a in i||(i[a]=new Set);for(var o,s=_createForOfIteratorHelperLoose(e.attributes);!(o=s()).done;){var l=o.value;"class"===l.name&&l.value.split(" ").forEach((function(e){return i[a].add(e)}))}return e.hasChildNodes()&&e.childNodes.forEach((function(e){return scanSvg(e,t,i)})),i},ce={skipAttributes:["transform-origin","svg.id"],skipRoles:["dimensions-reference","view-controller"],roundAttributes:["x","x1","x2","y","y1","y2","width","height","cx","cy","r","rx","ry","opacity","fill-opacity","stroke-width","stroke-dashoffset","stroke-dasharray"],roundAttributeDecimalPlaces:3,newlineTags:["style","g","rect","circle","line","path","text","filter","defs"],shake:!0},ue=function cleanSvg(e,t,r,i){void 0===t&&(t=ce);var n=e.nodeName;if("svg"===n&&((i=de(e,t))["svg.id"]=new Set([String(e.getAttribute("id"))])),"style"===n&&r){var a=(i?Array.from(i["svg.id"]):"")[0];e.textContent=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_0__.gbv)(r,void 0,"#"+a)}var o,s,l,c=new Set(t.skipAttributes);if(!e.attributes)return"style"===(null==(o=e.parentNode)?void 0:o.nodeName)&&(t.shake&&i&&(e.textContent=function(e,t){return e?e.split("\n").map((function(e){var r=e.split(" ");if(r[0].startsWith("#")){var i=r[1].split("."),n=i[0];if(n in t){var a=i.slice(1),o=a.every((function(e){return t[n].has(e)}));return 0===a.length||o?e:void 0}}})).filter(Boolean).join("\n"):""}(e.textContent,i)),e.textContent=(s=e.textContent,l=c.has("svg.id"),s?l?s.split("\n").map((function(e){return l?e.split(" ").splice(1).join(" "):e})).map((function(e){return""+e})).join("\n"):s:"")),e;for(var u,v=new Set(t.roundAttributes),f=t.roundAttributeDecimalPlaces,h=[],p=_createForOfIteratorHelperLoose(e.attributes);!(u=p()).done;){var m=u.value;if(v.has(m.name))e.setAttribute(m.name,le(m.value,f));else if("style"===m.name){var y=cleanStyle(m.value,f),x=y.style,b=y.transform;e.setAttribute("style",x),""===x&&e.removeAttribute("style"),b&&e.setAttribute("transform",b)}else"fill"!==m.name&&"stroke"!==m.name||e.setAttribute(m.name,rgb2hex(m.value));("undefined"===m.value||"opacity"===m.name&&"1"===m.value||c.has(n+"."+m.name))&&h.push(m.name)}if(h.concat(t.skipAttributes).forEach((function(t){e.removeAttribute(t)})),e.hasChildNodes()&&t.skipRoles.length>0){var k=[];e.childNodes.forEach((function(e){var r=e;if(r.attributes){var i=r.getAttribute("role");null!==i&&t.skipRoles.indexOf(i)>=0&&k.push(e)}})),k.forEach((function(e){return e.remove()}))}return e.hasChildNodes()&&e.childNodes.forEach((function(e){return cleanSvg(e,t,r,i)})),e},downloadToFile=function downloadToFile(e,t){var r=new Blob([e],{type:"text/json"}),i=document.createElement("a");i.download=t,i.href=window.URL.createObjectURL(r),i.dataset.downloadurl=["text/json",i.download,i.href].join(":");var n=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0});i.dispatchEvent(n),i.remove()},DataDownload=function DataDownload(e){var t=e.filename,r=e.setRole,i=e.className,n=e.children,a=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_0__.W3B)().data;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("g",{role:r?"download-data":void 0,className:i,onClick:function onClick(){return downloadToFile(JSON.stringify(a),t)},children:n})},ImageDownload=function ImageDownload(e){var t=e.filename,r=e.cleanSvgConfig,i=void 0===r?ce:r,n=e.className,a=e.setRole,o=e.children,s=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_0__.q14)().data,l=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_0__.FgM)();return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("g",{role:a?"download-image":void 0,className:n,onClick:function onClick(){return function(e,t,r,i){var n,a=document.getElementById(e);if(a){var o=null==(n=ue(null==a?void 0:a.cloneNode(!0),r,i))?void 0:n.outerHTML;r.newlineTags.forEach((function(e){var t=new RegExp("</"+e+"><","g"),r=new RegExp("><"+e,"g");o=o.replace(t,"</"+e+">\n<").replace(t,"</"+e+">\n<").replace(r,">\n<"+e)})),downloadToFile(o,t)}}(s.id,t,i,l)},children:o})},Download=function Download(e){var t=e.variant,r=e.filename,i=e.cleanSvgConfig,n=void 0===i?ce:i,a=e.className,o=e.setRole,s=void 0===o||o,l=e.children;return"data"===t?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(DataDownload,{filename:r,className:a,setRole:s,children:l}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(ImageDownload,{filename:r,cleanSvgConfig:n,className:a,setRole:s,children:l})},BoxedLabel=function BoxedLabel(a){var o=a.variant,d=void 0===o?"boxed-label":o,u=a.position,v=void 0===u?[0,0]:u,f=a.positionUnits,p=void 0===f?"absolute":f,m=a.size,y=void 0===m?[100,32]:m,g=a.sizeUnits,x=void 0===g?"absolute":g,b=a.offset,k=void 0===b?[0,0]:b,w=a.anchor,L=void 0===w?[.5,.5]:w,A=a.angle,j=void 0===A?0:A,C=a.angleUnit,E=void 0===C?"degree":C,P=a.expansion,_=void 0===P?[0,0,0,0]:P,z=a.rx,B=a.ry,I=a.boxStyle,X=a.textStyle,Y=a.className,T=a.style,q=a.setRole,G=void 0===q||q,F=a.children,D=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_0__.Bs9)(),U=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_0__.kE1)().scales,H=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_0__.eE7)(v,p,D.size,U),J=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_0__.YEL)(y,x,D.size),Z=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_0__.ji)(H,J,L),K=Z[0],Q=Z[1];K+=y[0]/2+k[0],Q+=y[1]/2+k[1],J[0]+=_[_chsk_core__WEBPACK_IMPORTED_MODULE_0__.RLj]+_[_chsk_core__WEBPACK_IMPORTED_MODULE_0__.pXp],J[1]+=_[_chsk_core__WEBPACK_IMPORTED_MODULE_0__.GSB]+_[_chsk_core__WEBPACK_IMPORTED_MODULE_0__.DaS];var V=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_0__.gjB)(d,Y),$="string"==typeof F?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("text",{style:X,className:"label "+V,children:F}):F,ee={x:K,y:Q,rotate:j&&"radian"===E?(0,_chsk_core__WEBPACK_IMPORTED_MODULE_0__.BVy)(j):j,originX:"0px",originY:"0px"};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(framer_motion__WEBPACK_IMPORTED_MODULE_6__.m.g,{role:G?d:void 0,initial:ee,animate:ee,style:T,className:V,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_0__.AeJ,{variant:"label",x:0,y:0,width:J[0],height:J[1],rx:z,ry:B,center:!0,className:V,style:I,setRole:!1}),$]})},BoxedTitle=function BoxedTitle(e){var t=e.variant,r=e.offset,i=void 0===r?0:r,n=e.size,a=void 0===n?26:n,o=e.expansion,l=void 0===o?[0,0,0,0]:o,d=e.rx,c=e.ry,u=e.boxStyle,v=e.textStyle,f=e.className,h=e.style,p=e.setRole,m=void 0===p||p,y=e.children,g="top"===t||"bottom"===t,x="left"===t||"right"===t,b=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_0__.Bs9)().size,k=b[0],S=b[1],N=0,M=0;return"left"===t&&(N-=a/2+i),"right"===t&&(N+=k+a/2+i),"top"===t&&(M-=a/2+i),"bottom"===t&&(M+=S+a/2+i),x&&(M+=.5*S),g&&(N+=.5*k),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("g",{role:m?"boxed-title-"+t:void 0,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(BoxedLabel,{variant:"boxed-title",position:[N,M],size:g?[k,a]:[S,a],expansion:l,angle:"left"===t?-90:"right"===t?90:0,className:f,rx:d,ry:c,boxStyle:u,textStyle:v,style:h,setRole:m,children:y})})},BracketLabel=function BracketLabel(e){var t=e.variant,r=void 0===t?"right":t,i=e.start,n=e.end,a=e.units,o=void 0===a?"view":a,u=e.expansion,v=void 0===u?[0,0]:u,f=e.tickSize,h=void 0===f?5:f,p=e.lineStyle,m=e.offset,y=void 0===m?[0,-8]:m,g=e.align,x=void 0===g?.5:g,b=e.angle,k=void 0===b?0:b,S=e.textStyle,N=e.className,M=e.style,L=e.setRole,A=void 0===L||L,j=e.children,C=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_0__.Bs9)().size,E=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_0__.kE1)().scales;h="left"===r?-h:h;var P=getLineAbsolutePositions({start:i,end:n,units:o,expansion:v,scales:E,size:C}),_=P.lineStart,z=P.lineEnd,O=function(e){var t=e.start,r=e.end,i=e.size,n=getStartToEndAxis(t,r),a=n.cosBeta,o=n.sinBeta,s=getTickPositions(t,r,i,a,o);return{tickStart:s.tickStart,lineStart:t,lineEnd:r,tickEnd:s.tickEnd}}({start:_,end:z,size:h}),B=O.tickStart,I=O.tickEnd,X=[_[0]+y[0]+(z[0]-_[0])*x,_[1]+y[1]+(z[1]-_[1])*x],Y=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_0__.gjB)("bracket-label",N);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)("g",{style:M,className:Y,role:A?"bracket-label-"+r:void 0,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_0__.y$t,{variant:"bracket",points:[B,_,z,I],className:Y,style:p,setRole:A}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_0__.ZT$,{variant:"label",position:X,angle:k,className:Y,style:S,setRole:A,children:j})]})},ve=function getTextContent(e){return e?"string"==typeof e?e:"object"!=typeof e?String(e).toString():Array.isArray(e)?e.map((function(e){return getTextContent(e)})).join(""):String(e.props.children).toString():""},fe=function splitText(e,t,r,i){var n,a=i?e.split(i):[e];if(a.length>1)return a.map((function(e){return splitText(e,t,r)})).flat();var o=[],s=a[0].replace(/\n/g," ").split(" ").filter((function(e){return e.length>0})),l=s.map((function(e){return function(e,t){var r,i=null!=(r=t[" "])?r:0;return e.split("").reduce((function(e,r){var n;return e+(null!=(n=t[r])?n:i)}),0)}(e,t)})),d=null!=(n=t[" "])?n:0,c="",u=0;return s.forEach((function(e,t){var i=l[t];u+d+i<r?(u+=(c.length>0?d:0)+i,c+=(c.length>0?" ":"")+e):(o.push(c),c=e,u=i)})),o.push(c),o.filter((function(e){return e.length>0}))},LineLabel=function LineLabel(e){var t=e.start,r=e.end,i=e.units,n=void 0===i?"view":i,a=e.expansion,o=void 0===a?[0,0]:a,d=e.lineStyle,u=e.offset,v=void 0===u?[0,-8]:u,f=e.align,h=void 0===f?.5:f,p=e.angle,m=void 0===p?0:p,y=e.markerStart,g=e.markerEnd,x=e.textStyle,b=e.className,k=e.style,S=e.setRole,N=void 0===S||S,M=e.children,L=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_0__.Bs9)().size,j=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_0__.kE1)().scales,C=getLineAbsolutePositions({start:t,end:r,units:n,expansion:o,scales:j,size:L}),E=C.lineStart,P=C.lineEnd,_=[E[0]+v[0]+(P[0]-E[0])*h,E[1]+v[1]+(P[1]-E[1])*h],z=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_0__.gjB)("line-label",b);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)("g",{style:k,className:b,role:N?"line-label":void 0,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_0__.x12,{variant:"line",x1:E[0],y1:E[1],x2:P[0],y2:P[1],markerStart:y,markerEnd:g,className:z,style:d,setRole:N}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_0__.ZT$,{variant:"label",position:_,angle:m,className:z,style:x,setRole:N,children:M})]})},he={0:8.899,1:7.83,2:8.899,3:8.899,4:8.899,5:8.899,6:8.899,7:8.899,8:8.899,9:8.899," ":8.899,A:10.628,B:10.672,C:11.555,D:11.555,E:10.672,F:9.774,G:12.446,H:11.555,I:4.446,J:8,K:10.672,L:8.87,M:13.329,N:11.555,O:12.446,P:10.658,Q:12.446,R:11.555,S:10.672,T:9.745,U:11.555,V:10.672,W:15.102,X:10.672,Y:10.644,Z:9.774,a:8.899,b:8.899,c:8,d:8.899,e:8.899,f:4.185,g:8.899,h:8.899,i:3.555,j:3.555,k:8,l:3.555,m:13.329,n:8.899,o:8.899,p:8.899,q:8.899,r:5.329,s:8,t:4.466,u:8.899,v:8,w:11.555,x:8,y:8,z:8,".":4.466,",":4.466,"!":4.466,"?":8.899,"#":8.899},pe={0:8,1:7.466,2:8,3:8,4:8,5:8,6:8,7:8,8:8,9:8," ":8,A:11.511,B:10.672,C:10.672,D:11.555,E:9.774,F:8.899,G:11.555,H:11.555,I:5.329,J:6.227,K:11.555,L:9.744,M:14.227,N:11.555,O:11.555,P:8.87,Q:11.555,R:10.672,S:8.899,T:9.745,U:11.555,V:11.526,W:15.073,X:11.555,Y:11.496,Z:9.774,a:7.102,b:8,c:7.102,d:8,e:7.102,f:5.069,g:8,h:8,i:4.446,j:4.446,k:8,l:4.446,m:12.446,n:8,o:8,p:8,q:8,r:5.329,s:6.227,t:4.446,u:8,v:8,w:11.555,x:8,y:8,z:7.102,".":4,",":4,"!":5.329,"?":7.102,"#":8},Paragraph=function Paragraph(e){var t,r=e.position,i=void 0===r?[0,0]:r,n=e.size,s=void 0===n?[100,22]:n,l=e.align,d=void 0===l?.5:l,u=e.offset,v=void 0===u?[0,0]:u,f=e.angle,h=e.separator,p=e.letterBaseWidths,m=void 0===p?"sans":p,y=e.letterWidths,g=e.className,x=e.style,b=e.setRole,k=void 0===b||b,S=e.children,N=(t=y,(0,lodash__WEBPACK_IMPORTED_MODULE_3__.merge)((0,lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)("sans"===m?he:pe),t)),M=fe(ve(S),N,s[_chsk_core__WEBPACK_IMPORTED_MODULE_0__.X],h),w=Array(M.length).fill(0).map((function(e,t){return t*s[_chsk_core__WEBPACK_IMPORTED_MODULE_0__.Y]})),L=w[w.length-1],A=i[_chsk_core__WEBPACK_IMPORTED_MODULE_0__.X]+v[_chsk_core__WEBPACK_IMPORTED_MODULE_0__.X],W=i[_chsk_core__WEBPACK_IMPORTED_MODULE_0__.Y]-d*L+v[_chsk_core__WEBPACK_IMPORTED_MODULE_0__.Y],j=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_0__.gjB)("paragraph",g),C={x:A,y:W,rotate:f,originX:"0px",originY:"0px"},E=M.map((function(e,t){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("text",{y:w[t],className:j,style:x,children:e},"paragraph-"+t)}));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(framer_motion__WEBPACK_IMPORTED_MODULE_4__.X,{features:framer_motion__WEBPACK_IMPORTED_MODULE_5__.H,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(framer_motion__WEBPACK_IMPORTED_MODULE_6__.m.g,{role:k?"paragraph":void 0,initial:C,animate:C,children:E})})}}}]);