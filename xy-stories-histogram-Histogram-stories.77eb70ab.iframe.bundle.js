"use strict";(self.webpackChunkchsk=self.webpackChunkchsk||[]).push([[8425],{"./packages/xy/stories/histogram/Histogram.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{AutoRescaling:()=>AutoRescaling,Counts:()=>Counts,Densities:()=>Densities,FixedScales:()=>FixedScales,HighResolution:()=>HighResolution,LowResolution:()=>LowResolution,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var _Counts$parameters,_Counts$parameters2,_Densities$parameters,_Densities$parameters2,_LowResolution$parame,_LowResolution$parame2,_HighResolution$param,_HighResolution$param2,_AutoRescaling$parame,_AutoRescaling$parame2,_FixedScales$paramete,_FixedScales$paramete2,_chsk_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/core/dist/chsk-core.es.js"),_src__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/xy/src/histogram/HistogramArea.tsx"),_src__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/xy/src/histogram/Histogram.tsx"),_src__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/xy/src/histogram/HistogramCurve.tsx"),_decorators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/xy/stories/histogram/decorators.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}var AreaAndLegend=function AreaAndLegend(){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_1__.RDh,{variant:"bottom",label:"x (a.u.)"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_1__.RDh,{variant:"left",label:"counts"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_src__WEBPACK_IMPORTED_MODULE_2__.d,{style:{fillOpacity:1}}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_1__.DeQ,{position:[220,60],positionUnits:"absolute",anchor:[0,.5],title:"Distributions"})]})};const __WEBPACK_DEFAULT_EXPORT__={title:"Addons/XY/Histograms/Histogram",component:_src__WEBPACK_IMPORTED_MODULE_3__.b};var Counts={name:"counts",args:{variant:"count",data:_decorators__WEBPACK_IMPORTED_MODULE_4__.m,breaks:12,scaleX:{variant:"linear",domain:["auto","auto"]},scaleY:{variant:"linear",domain:"auto"},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_1__.RDh,{variant:"bottom",label:"x (a.u.)"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_1__.RDh,{variant:"left",label:"counts"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_src__WEBPACK_IMPORTED_MODULE_2__.d,{style:{fillOpacity:1}})]})},decorators:[_decorators__WEBPACK_IMPORTED_MODULE_4__.ee]},Densities={name:"densities",args:{variant:"density",data:_decorators__WEBPACK_IMPORTED_MODULE_4__.m,breaks:12,scaleX:{variant:"linear",domain:"auto"},scaleY:{variant:"linear",domain:"auto"},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_1__.RDh,{variant:"bottom",label:"x (a.u.)"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_1__.RDh,{variant:"left",label:"density"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_src__WEBPACK_IMPORTED_MODULE_2__.d,{style:{fillOpacity:1}})]})},decorators:[_decorators__WEBPACK_IMPORTED_MODULE_4__.ee]},LowResolution={name:"low resolution",args:{data:_decorators__WEBPACK_IMPORTED_MODULE_4__.m,breaks:5,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_1__.RDh,{variant:"bottom",label:"x (a.u.)"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_1__.RDh,{variant:"left",label:"counts"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_src__WEBPACK_IMPORTED_MODULE_5__.L,{curve:"Step",style:{fillOpacity:0,strokeWidth:3}})]})},decorators:[_decorators__WEBPACK_IMPORTED_MODULE_4__.ee]},HighResolution={name:"high resolution",args:{data:_decorators__WEBPACK_IMPORTED_MODULE_4__.m,breaks:40,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_1__.RDh,{variant:"bottom",label:"x (a.u.)"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_1__.RDh,{variant:"left",label:"counts"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_src__WEBPACK_IMPORTED_MODULE_5__.L,{curve:"Step",style:{fillOpacity:0,strokeWidth:3}})]})},decorators:[_decorators__WEBPACK_IMPORTED_MODULE_4__.ee]},AutoRescaling={name:"auto-rescaling",args:{data:_decorators__WEBPACK_IMPORTED_MODULE_4__.m,breaks:12,scaleX:{variant:"linear",domain:["auto","auto"]},scaleY:{variant:"linear",domain:"auto"},autoRescale:!0,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(AreaAndLegend,{})},decorators:[_decorators__WEBPACK_IMPORTED_MODULE_4__.iT]},FixedScales={name:"fixed scales",args:{data:_decorators__WEBPACK_IMPORTED_MODULE_4__.m,breaks:12,scaleX:{variant:"linear",domain:"auto"},scaleY:{variant:"linear",domain:"auto"},autoRescale:!1,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(AreaAndLegend,{})},decorators:[_decorators__WEBPACK_IMPORTED_MODULE_4__.iT]};Counts.parameters=_extends({},Counts.parameters,{docs:_extends({},null==(_Counts$parameters=Counts.parameters)?void 0:_Counts$parameters.docs,{source:_extends({originalSource:"{\n  name: 'counts',\n  args: {\n    variant: 'count',\n    data: sampleData,\n    breaks: 12,\n    scaleX: {\n      variant: 'linear',\n      domain: ['auto', 'auto']\n    },\n    scaleY: {\n      variant: 'linear',\n      domain: 'auto'\n    },\n    children: <>\n                <Axis variant={'bottom'} label={'x (a.u.)'} />\n                <Axis variant={'left'} label={'counts'} />\n                <HistogramArea style={{\n        fillOpacity: 1\n      }} />\n            </>\n  },\n  decorators: [ChartDecorator]\n}"},null==(_Counts$parameters2=Counts.parameters)||null==(_Counts$parameters2=_Counts$parameters2.docs)?void 0:_Counts$parameters2.source)})}),Densities.parameters=_extends({},Densities.parameters,{docs:_extends({},null==(_Densities$parameters=Densities.parameters)?void 0:_Densities$parameters.docs,{source:_extends({originalSource:"{\n  name: 'densities',\n  args: {\n    variant: 'density',\n    data: sampleData,\n    breaks: 12,\n    scaleX: {\n      variant: 'linear',\n      domain: 'auto'\n    },\n    scaleY: {\n      variant: 'linear',\n      domain: 'auto'\n    },\n    children: <>\n                <Axis variant={'bottom'} label={'x (a.u.)'} />\n                <Axis variant={'left'} label={'density'} />\n                <HistogramArea style={{\n        fillOpacity: 1\n      }} />\n            </>\n  },\n  decorators: [ChartDecorator]\n}"},null==(_Densities$parameters2=Densities.parameters)||null==(_Densities$parameters2=_Densities$parameters2.docs)?void 0:_Densities$parameters2.source)})}),LowResolution.parameters=_extends({},LowResolution.parameters,{docs:_extends({},null==(_LowResolution$parame=LowResolution.parameters)?void 0:_LowResolution$parame.docs,{source:_extends({originalSource:"{\n  name: 'low resolution',\n  args: {\n    data: sampleData,\n    breaks: 5,\n    children: <>\n                <Axis variant={'bottom'} label={'x (a.u.)'} />\n                <Axis variant={'left'} label={'counts'} />\n                <HistogramCurve curve=\"Step\" style={{\n        fillOpacity: 0,\n        strokeWidth: 3\n      }} />\n            </>\n  },\n  decorators: [ChartDecorator]\n}"},null==(_LowResolution$parame2=LowResolution.parameters)||null==(_LowResolution$parame2=_LowResolution$parame2.docs)?void 0:_LowResolution$parame2.source)})}),HighResolution.parameters=_extends({},HighResolution.parameters,{docs:_extends({},null==(_HighResolution$param=HighResolution.parameters)?void 0:_HighResolution$param.docs,{source:_extends({originalSource:"{\n  name: 'high resolution',\n  args: {\n    data: sampleData,\n    breaks: 40,\n    children: <>\n                <Axis variant={'bottom'} label={'x (a.u.)'} />\n                <Axis variant={'left'} label={'counts'} />\n                <HistogramCurve curve=\"Step\" style={{\n        fillOpacity: 0,\n        strokeWidth: 3\n      }} />\n            </>\n  },\n  decorators: [ChartDecorator]\n}"},null==(_HighResolution$param2=HighResolution.parameters)||null==(_HighResolution$param2=_HighResolution$param2.docs)?void 0:_HighResolution$param2.source)})}),AutoRescaling.parameters=_extends({},AutoRescaling.parameters,{docs:_extends({},null==(_AutoRescaling$parame=AutoRescaling.parameters)?void 0:_AutoRescaling$parame.docs,{source:_extends({originalSource:"{\n  name: 'auto-rescaling',\n  args: {\n    data: sampleData,\n    breaks: 12,\n    scaleX: {\n      variant: 'linear',\n      domain: ['auto', 'auto']\n    },\n    scaleY: {\n      variant: 'linear',\n      domain: 'auto'\n    },\n    autoRescale: true,\n    children: <AreaAndLegend />\n  },\n  decorators: [ChartWithLegendSpaceDecorator]\n}"},null==(_AutoRescaling$parame2=AutoRescaling.parameters)||null==(_AutoRescaling$parame2=_AutoRescaling$parame2.docs)?void 0:_AutoRescaling$parame2.source)})}),FixedScales.parameters=_extends({},FixedScales.parameters,{docs:_extends({},null==(_FixedScales$paramete=FixedScales.parameters)?void 0:_FixedScales$paramete.docs,{source:_extends({originalSource:"{\n  name: 'fixed scales',\n  args: {\n    data: sampleData,\n    breaks: 12,\n    scaleX: {\n      variant: 'linear',\n      domain: 'auto'\n    },\n    scaleY: {\n      variant: 'linear',\n      domain: 'auto'\n    },\n    autoRescale: false,\n    children: <AreaAndLegend />\n  },\n  decorators: [ChartWithLegendSpaceDecorator]\n}"},null==(_FixedScales$paramete2=FixedScales.parameters)||null==(_FixedScales$paramete2=_FixedScales$paramete2.docs)?void 0:_FixedScales$paramete2.source)})});var __namedExportsOrder=["Counts","Densities","LowResolution","HighResolution","AutoRescaling","FixedScales"]},"./packages/xy/src/histogram/HistogramArea.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{d:()=>HistogramArea});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_chsk_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/core/dist/chsk-core.es.js"),_scatter_ScatterArea__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/xy/src/scatter/ScatterArea.tsx"),_context__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/xy/src/histogram/context.tsx"),_predicates__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/xy/src/histogram/predicates.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js"),_excluded=["ids","curve","style","setRole","dataComponent"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}var HistogramArea=function HistogramArea(_ref){var ids=_ref.ids,_ref$curve=_ref.curve,curve=void 0===_ref$curve?"MonotoneX":_ref$curve,style=_ref.style,_ref$setRole=_ref.setRole,setRole=void 0===_ref$setRole||_ref$setRole,_ref$dataComponent=_ref.dataComponent,dataComponent=void 0===_ref$dataComponent?_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Aj5:_ref$dataComponent,props=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(_ref,_excluded),processedData=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.wIO)().data,preparedData=(0,_context__WEBPACK_IMPORTED_MODULE_3__.cT)(),scales=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.kE1)().scales,scaleY=scales.y,colorScale=scales.color,_useDisabledKeys=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.gKR)(),disabledKeys=_useDisabledKeys.disabledKeys,firstRender=_useDisabledKeys.firstRender;if(!(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.z0X)(scaleY))return null;if(!(0,_predicates__WEBPACK_IMPORTED_MODULE_4__.j)(processedData))return null;var areas={};preparedData.keys.map((function(id){var seriesIndex=Number(preparedData.seriesIndexes[id]);areas[id]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){var _preparedData$data$se,_preparedData$data$se2;return(0,_scatter_ScatterArea__WEBPACK_IMPORTED_MODULE_5__.f)({points:null!=(_preparedData$data$se=null==(_preparedData$data$se2=preparedData.data[seriesIndex])?void 0:_preparedData$data$se2.points)?_preparedData$data$se:[],curve,scaleY,baseline:0})}),[seriesIndex,preparedData,curve,scaleY])}));var result=(null!=ids?ids:preparedData.keys).map((function(id){var seriesIndex=preparedData.seriesIndexes[id];if(void 0===seriesIndex)return null;var visible=!disabledKeys.has(id),seriesStyle=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.hIX)(style,colorScale(seriesIndex)),element=(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(dataComponent,_extends({data:processedData[seriesIndex],component:_chsk_core__WEBPACK_IMPORTED_MODULE_2__.y$t,props:{variant:"histogram-area",d:areas[id],setRole,style:seriesStyle}},props));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_2__.JjT,{role:setRole?"histogram-area-presence":void 0,visible,firstRender,children:element},"area-"+seriesIndex)}));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:result.filter(Boolean)})};try{HistogramArea.displayName="HistogramArea",HistogramArea.__docgenInfo={description:"",displayName:"HistogramArea",props:{ids:{defaultValue:null,description:"ids to display (defaults to all ids)",name:"ids",required:!1,type:{name:"string[]"}},curve:{defaultValue:{value:"MonotoneX"},description:"curve type",name:"curve",required:!1,type:{name:"enum",value:[{value:'"Linear"'},{value:'"MonotoneX"'},{value:'"MonotoneY"'},{value:'"Natural"'},{value:'"Step"'},{value:'"StepAfter"'},{value:'"StepBefore"'},{value:'"BasisOpen"'},{value:'"CardinalOpen"'},{value:'"CatmullRomOpen"'},{value:'"BasisClosed"'},{value:'"CardinalClosed"'},{value:'"CatmullRomClosed"'},{value:'"LinearClosed"'}]}},className:{defaultValue:null,description:"class string",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"css style",name:"style",required:!1,type:{name:"Partial<CSSProperties>"}},setRole:{defaultValue:{value:"true"},description:"toggle role attribute in svg code",name:"setRole",required:!1,type:{name:"boolean"}},handlers:{defaultValue:null,description:"handlers for events",name:"handlers",required:!1,type:{name:"DataInteractivityHandlers<HistogramInteractiveDataItem>"}},modifiers:{defaultValue:null,description:"style modifiers",name:"modifiers",required:!1,type:{name:"DataInteractivityModifiers"}},dataComponent:{defaultValue:null,description:"function binding data to interactivity handlers",name:"dataComponent",required:!1,type:{name:"FC<DataComponentProps<HistogramInteractiveDataItem, PathProps>>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/xy/src/histogram/HistogramArea.tsx#HistogramArea"]={docgenInfo:HistogramArea.__docgenInfo,name:"HistogramArea",path:"packages/xy/src/histogram/HistogramArea.tsx#HistogramArea"})}catch(__react_docgen_typescript_loader_error){}},"./packages/xy/src/histogram/HistogramCurve.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{L:()=>HistogramCurve});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_chsk_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/core/dist/chsk-core.es.js"),_context__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/xy/src/histogram/context.tsx"),_predicates__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/xy/src/histogram/predicates.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js"),_excluded=["ids","curve","style","setRole","dataComponent"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}var HistogramCurve=function HistogramCurve(_ref){var ids=_ref.ids,_ref$curve=_ref.curve,curve=void 0===_ref$curve?"MonotoneX":_ref$curve,style=_ref.style,_ref$setRole=_ref.setRole,setRole=void 0===_ref$setRole||_ref$setRole,_ref$dataComponent=_ref.dataComponent,dataComponent=void 0===_ref$dataComponent?_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Aj5:_ref$dataComponent,props=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(_ref,_excluded),processedData=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.wIO)().data,preparedData=(0,_context__WEBPACK_IMPORTED_MODULE_3__.cT)(),colorScale=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.kE1)().scales.color,_useDisabledKeys=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.gKR)(),disabledKeys=_useDisabledKeys.disabledKeys,firstRender=_useDisabledKeys.firstRender;if(!(0,_predicates__WEBPACK_IMPORTED_MODULE_4__.j)(processedData))return null;var result=(null!=ids?ids:preparedData.keys).map((function(id){var _preparedData$data$se,visible=!disabledKeys.has(id),seriesIndex=preparedData.seriesIndexes[id];if(void 0===seriesIndex)return null;var seriesStyle=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.hIX)(style,colorScale(seriesIndex));seriesStyle.fill=void 0;var element=(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(dataComponent,_extends({data:processedData[seriesIndex],component:_chsk_core__WEBPACK_IMPORTED_MODULE_2__.y$t,props:{variant:"histogram-curve",points:null==(_preparedData$data$se=preparedData.data[seriesIndex])?void 0:_preparedData$data$se.points,curve,style:seriesStyle,setRole}},props));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_2__.JjT,{role:setRole?"histogram-curve-presence":void 0,visible,firstRender,children:element},"curve-"+seriesIndex)}));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:result.filter(Boolean)})};try{HistogramCurve.displayName="HistogramCurve",HistogramCurve.__docgenInfo={description:"",displayName:"HistogramCurve",props:{ids:{defaultValue:null,description:"ids to display (defaults to all ids)",name:"ids",required:!1,type:{name:"string[]"}},curve:{defaultValue:{value:"MonotoneX"},description:"curve type",name:"curve",required:!1,type:{name:"enum",value:[{value:'"Linear"'},{value:'"MonotoneX"'},{value:'"MonotoneY"'},{value:'"Natural"'},{value:'"Step"'},{value:'"StepAfter"'},{value:'"StepBefore"'},{value:'"BasisOpen"'},{value:'"CardinalOpen"'},{value:'"CatmullRomOpen"'},{value:'"BasisClosed"'},{value:'"CardinalClosed"'},{value:'"CatmullRomClosed"'},{value:'"LinearClosed"'}]}},className:{defaultValue:null,description:"class string",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"css style",name:"style",required:!1,type:{name:"Partial<CSSProperties>"}},setRole:{defaultValue:{value:"true"},description:"toggle role attribute in svg code",name:"setRole",required:!1,type:{name:"boolean"}},handlers:{defaultValue:null,description:"handlers for events",name:"handlers",required:!1,type:{name:"DataInteractivityHandlers<HistogramInteractiveDataItem>"}},modifiers:{defaultValue:null,description:"style modifiers",name:"modifiers",required:!1,type:{name:"DataInteractivityModifiers"}},dataComponent:{defaultValue:null,description:"function binding data to interactivity handlers",name:"dataComponent",required:!1,type:{name:"FC<DataComponentProps<HistogramInteractiveDataItem, PathProps>>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/xy/src/histogram/HistogramCurve.tsx#HistogramCurve"]={docgenInfo:HistogramCurve.__docgenInfo,name:"HistogramCurve",path:"packages/xy/src/histogram/HistogramCurve.tsx#HistogramCurve"})}catch(__react_docgen_typescript_loader_error){}},"./packages/xy/src/scatter/ScatterArea.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{c:()=>ScatterArea,f:()=>getAreaD});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_chsk_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/core/dist/chsk-core.es.js"),_context__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/xy/src/scatter/context.tsx"),_signals__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/xy/src/scatter/signals.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js"),_excluded=["ids","baseline","curve","convolutionMask","convolutionOffset","downsampleFactor","downsampleIndex","style","className","setRole","dataComponent"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}var getAreaD=function getAreaD(_ref){var _generator,points=_ref.points,scaleY=_ref.scaleY,baseline=_ref.baseline,curve=_ref.curve,base=scaleY(null!=baseline?baseline:Number(scaleY.domain()[0])),pointIntervals=points.map((function(d){return[d[0],d[1],base]}));return null!=(_generator=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.DmD)(curve)(pointIntervals))?_generator:""},ScatterArea=function ScatterArea(_ref2){var ids=_ref2.ids,baseline=_ref2.baseline,_ref2$curve=_ref2.curve,curve=void 0===_ref2$curve?"Linear":_ref2$curve,convolutionMask=_ref2.convolutionMask,convolutionOffset=_ref2.convolutionOffset,downsampleFactor=_ref2.downsampleFactor,downsampleIndex=_ref2.downsampleIndex,style=_ref2.style,className=_ref2.className,_ref2$setRole=_ref2.setRole,setRole=void 0===_ref2$setRole||_ref2$setRole,_ref2$dataComponent=_ref2.dataComponent,dataComponent=void 0===_ref2$dataComponent?_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Aj5:_ref2$dataComponent,pathProps=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(_ref2,_excluded),preparedData=(0,_context__WEBPACK_IMPORTED_MODULE_3__.DP)(),scales=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.kE1)().scales,scaleY=scales.y,colorScale=scales.color,_useDisabledKeys=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.gKR)(),disabledKeys=_useDisabledKeys.disabledKeys,firstRender=_useDisabledKeys.firstRender;if(!(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.z0X)(scaleY))return null;var areas={};preparedData.keys.forEach((function(id){var seriesIndex=preparedData.seriesIndexes[id];if(void 0!==seriesIndex){var seriesData=preparedData.data[seriesIndex];areas[id]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){var _seriesData$x,_seriesData$y;return getAreaD({points:(0,_signals__WEBPACK_IMPORTED_MODULE_4__.ee)({x:null!=(_seriesData$x=null==seriesData?void 0:seriesData.x)?_seriesData$x:[],y:null!=(_seriesData$y=null==seriesData?void 0:seriesData.y)?_seriesData$y:[],convolutionMask,convolutionOffset,downsampleFactor,downsampleIndex}),curve,scaleY,baseline})}),[seriesIndex,preparedData,curve,scaleY,baseline,convolutionMask,convolutionOffset,downsampleFactor,downsampleIndex])}}));var result=(null!=ids?ids:preparedData.keys).map((function(id){var visible=!disabledKeys.has(id),seriesIndex=preparedData.seriesIndexes[id];if(void 0===seriesIndex)return null;var seriesStyle=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.hIX)(style,colorScale(seriesIndex)),element=(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(dataComponent,_extends({data:{id},component:_chsk_core__WEBPACK_IMPORTED_MODULE_2__.y$t,props:{variant:"scatter-area",d:areas[id],setRole,style:seriesStyle,className}},pathProps));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_2__.JjT,{role:setRole?"scatter-area-presence":void 0,visible,firstRender,children:element},"area-"+seriesIndex)}));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:result.filter(Boolean)})};try{getAreaD.displayName="getAreaD",getAreaD.__docgenInfo={description:"",displayName:"getAreaD",props:{points:{defaultValue:null,description:"",name:"points",required:!0,type:{name:"NumericPositionSpec[]"}},scaleY:{defaultValue:null,description:"",name:"scaleY",required:!0,type:{name:"ContinuousAxisScale"}},baseline:{defaultValue:null,description:"",name:"baseline",required:!1,type:{name:"number"}},curve:{defaultValue:{value:"Linear"},description:"",name:"curve",required:!1,type:{name:"enum",value:[{value:'"Linear"'},{value:'"MonotoneX"'},{value:'"MonotoneY"'},{value:'"Natural"'},{value:'"Step"'},{value:'"StepAfter"'},{value:'"StepBefore"'},{value:'"BasisOpen"'},{value:'"CardinalOpen"'},{value:'"CatmullRomOpen"'},{value:'"BasisClosed"'},{value:'"CardinalClosed"'},{value:'"CatmullRomClosed"'},{value:'"LinearClosed"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/xy/src/scatter/ScatterArea.tsx#getAreaD"]={docgenInfo:getAreaD.__docgenInfo,name:"getAreaD",path:"packages/xy/src/scatter/ScatterArea.tsx#getAreaD"})}catch(__react_docgen_typescript_loader_error){}try{ScatterArea.displayName="ScatterArea",ScatterArea.__docgenInfo={description:"",displayName:"ScatterArea",props:{baseline:{defaultValue:null,description:"base for the area polygon",name:"baseline",required:!1,type:{name:"number"}},ids:{defaultValue:null,description:"ids to display (defaults to all ids)",name:"ids",required:!1,type:{name:"string[]"}},curve:{defaultValue:{value:"Linear"},description:"curve type",name:"curve",required:!1,type:{name:"enum",value:[{value:'"Linear"'},{value:'"MonotoneX"'},{value:'"MonotoneY"'},{value:'"Natural"'},{value:'"Step"'},{value:'"StepAfter"'},{value:'"StepBefore"'},{value:'"BasisOpen"'},{value:'"CardinalOpen"'},{value:'"CatmullRomOpen"'},{value:'"BasisClosed"'},{value:'"CardinalClosed"'},{value:'"CatmullRomClosed"'},{value:'"LinearClosed"'}]}},className:{defaultValue:null,description:"class string",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"css style",name:"style",required:!1,type:{name:"Partial<CSSProperties>"}},setRole:{defaultValue:{value:"true"},description:"toggle role attribute in svg code",name:"setRole",required:!1,type:{name:"boolean"}},handlers:{defaultValue:null,description:"handlers for events",name:"handlers",required:!1,type:{name:"DataInteractivityHandlers<ScatterInteractiveDataItem>"}},modifiers:{defaultValue:null,description:"style modifiers",name:"modifiers",required:!1,type:{name:"DataInteractivityModifiers"}},dataComponent:{defaultValue:null,description:"function binding data to interactivity handlers",name:"dataComponent",required:!1,type:{name:"FC<DataComponentProps<ScatterInteractiveDataItem, PathProps>>"}},component:{defaultValue:null,description:"function used to draw individual components",name:"component",required:!1,type:{name:"FC<PathProps>"}},componentProps:{defaultValue:null,description:"props passed to each component",name:"componentProps",required:!1,type:{name:"Partial<PathProps>"}},convolutionMask:{defaultValue:null,description:"convolution mask",name:"convolutionMask",required:!1,type:{name:"number[]"}},convolutionOffset:{defaultValue:null,description:"offset used during convolution",name:"convolutionOffset",required:!1,type:{name:"number"}},downsampleFactor:{defaultValue:null,description:"down-sampling factor [0, 1]",name:"downsampleFactor",required:!1,type:{name:"number"}},downsampleIndex:{defaultValue:null,description:"offset used during down-sampling",name:"downsampleIndex",required:!1,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/xy/src/scatter/ScatterArea.tsx#ScatterArea"]={docgenInfo:ScatterArea.__docgenInfo,name:"ScatterArea",path:"packages/xy/src/scatter/ScatterArea.tsx#ScatterArea"})}catch(__react_docgen_typescript_loader_error){}},"./packages/xy/src/scatter/context.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{DP:()=>useScatterPreparedData,lq:()=>ScatterPreparedDataProvider});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js"),ScatterPreparedDataContext=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({data:[],seriesIndexes:{},keys:[]}),ScatterPreparedDataProvider=function ScatterPreparedDataProvider(_ref){var data=_ref.data,seriesIndexes=_ref.seriesIndexes,keys=_ref.keys,children=_ref.children,value=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return{data,seriesIndexes,keys}}),[data,seriesIndexes,keys]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(ScatterPreparedDataContext.Provider,{value,children})};ScatterPreparedDataProvider.displayName="ScatterPreparedDataProvider";var useScatterPreparedData=function useScatterPreparedData(){return(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(ScatterPreparedDataContext)};try{ScatterPreparedDataProvider.displayName="ScatterPreparedDataProvider",ScatterPreparedDataProvider.__docgenInfo={description:"",displayName:"ScatterPreparedDataProvider",props:{keys:{defaultValue:null,description:"list of keys",name:"keys",required:!0,type:{name:"string[]"}},seriesIndexes:{defaultValue:null,description:"map from series ids to indexes",name:"seriesIndexes",required:!0,type:{name:"Record<string, number>"}},data:{defaultValue:null,description:"data",name:"data",required:!0,type:{name:"ScatterPreparedDataItem[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/xy/src/scatter/context.tsx#ScatterPreparedDataProvider"]={docgenInfo:ScatterPreparedDataProvider.__docgenInfo,name:"ScatterPreparedDataProvider",path:"packages/xy/src/scatter/context.tsx#ScatterPreparedDataProvider"})}catch(__react_docgen_typescript_loader_error){}},"./packages/xy/src/scatter/signals.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{ee:()=>curvePoints});var downsample=function downsample(data,alpha,offset){void 0===offset&&(offset=0);var n=data.length,thresholds=data.map((function(_,i){return Math.floor(i*alpha)}));return thresholds.map((function(t,i){return i+offset<n&&(0===i||t!=thresholds[i-1])?i:void 0})).filter((function(v){return void 0!==v})).map((function(i){return data[i+offset]}))},curvePoints=function curvePoints(_ref){var x=_ref.x,y=_ref.y,mask=_ref.convolutionMask,_ref$convolutionOffse=_ref.convolutionOffset,offset=void 0===_ref$convolutionOffse?0:_ref$convolutionOffse,_ref$downsampleFactor=_ref.downsampleFactor,downsampleFactor=void 0===_ref$downsampleFactor?1:_ref$downsampleFactor,_ref$downsampleIndex=_ref.downsampleIndex,downsampleIndex=void 0===_ref$downsampleIndex?0:_ref$downsampleIndex,n=mask?mask.length-1:0,x0=x.slice(n+offset,x.length+offset),y0=(mask?function convolution(data,mask,normalizeMask){void 0===normalizeMask&&(normalizeMask=!0);for(var m=normalizeMask?function normalizeSum(v){var denominator=v.reduce((function(total,x){return total+x}),0);return v.map((function(x){return x/denominator}))}(mask):[].concat(mask),mLength=m.length,n=data.length+m.length-1,result=Array(n).fill(0),i=0;i<n;i+=1){for(var iResult=0,j=0;j<mLength;j++){var _data;iResult+=(null!=(_data=data[i-j])?_data:0)*Number(m[j])}result[i]=iResult}return result}(y,mask):y).slice(n,x.length),noDownsample=1===downsampleFactor,x1=noDownsample?x0:downsample(x0,downsampleFactor,downsampleIndex),y1=noDownsample?y0:downsample(y0,downsampleFactor,downsampleIndex);return x1.map((function(v,i){return[v,Number(y1[i])]}))}}}]);