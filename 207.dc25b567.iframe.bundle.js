"use strict";(self.webpackChunkchsk=self.webpackChunkchsk||[]).push([[207],{"./packages/band/dist/chsk-band.es.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{$Q:()=>Bar,Ap:()=>DendrogramTree,BS:()=>Violin,CL:()=>isScheduleData,Cu:()=>useBarPreparedData,D_:()=>Strip,Gs:()=>Schedules,KI:()=>Violins,Ll:()=>Bars,O1:()=>BandLabels,Pf:()=>Schedule,Rv:()=>Quantiles,Ts:()=>isDendrogramData,Y_:()=>QuantileTooltip,af:()=>BarAndWhisker,bg:()=>Dendrogram,cO:()=>Quantile,iP:()=>Strips,k6:()=>isStripData,kH:()=>DendrogramSurface,kT:()=>BandSurface,nE:()=>BandHighlight,vW:()=>BarsLabels});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),framer_motion__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/framer-motion/dist/es/render/dom/motion-minimal.mjs"),framer_motion__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/framer-motion/dist/es/components/LazyMotion/index.mjs"),framer_motion__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/framer-motion/dist/es/render/dom/features-animation.mjs"),_chsk_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/core/dist/chsk-core.es.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},_extends.apply(this,arguments)}function _objectWithoutPropertiesLoose(e,n){if(null==e)return{};var t,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)t=a[i],n.indexOf(t)>=0||(r[t]=e[t]);return r}var BandHighlightMask=function BandHighlightMask(e,n,t,i,r,a){var o=n[0],l=n[1],d={initial:a?t?{height:0}:{width:0}:void 0,style:i,className:r};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,t?{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(framer_motion__WEBPACK_IMPORTED_MODULE_2__.m.rect,_extends({animate:{width:(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.UYe)(e[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X][1]),height:(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.UYe)(e[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y][0])}},d),"mask-top"),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(framer_motion__WEBPACK_IMPORTED_MODULE_2__.m.rect,_extends({transform:"translate("+o+","+l+")rotate(180)",animate:{width:(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.UYe)(e[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X][1]),height:(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.UYe)(l-e[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y][1])}},d),"mask-bottom")]}:{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(framer_motion__WEBPACK_IMPORTED_MODULE_2__.m.rect,_extends({animate:{width:e[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X][0],height:e[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y][1]}},d),"mask-left"),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(framer_motion__WEBPACK_IMPORTED_MODULE_2__.m.rect,_extends({transform:"translate("+o+","+l+")rotate(180)",animate:{width:o-e[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X][1],height:e[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y][1]}},d),"mask-right")]})},BandHighlight=function BandHighlight(a){var o=a.ids,l=a.interactive,s=void 0===l||l,d=a.edgeAnimation,u=void 0!==d&&d,I=a.tooltipAlign,N=void 0===I?[.5,.5]:I,P=a.className,C=a.setRole,j=void 0===C||C,W=a.style,B=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIO)(),M=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Bs9)().size,L=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.kE1)().scales,D=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.gKR)().disabledKeys,V=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.lLG)().setData,A=0===L.x.bandwidth()&&0!==L.y.bandwidth(),E=A?L.y:L.x,O=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),q=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),F=q[0],K=q[1],H=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.lRm)(o,null,B).idSet,X=A?M[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]:M[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y],Y=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return e=E,n=H,t=X,i=A,r=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Ax7)(e,n),i?[[0,t],r]:[r,[0,t]];var e,n,t,i,r}),[E,H,X,A]);(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){if(!s&&null===F){var e=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.FG_)(Y[0]),n=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.FG_)(Y[1]);K([e,n])}}),[Y,K]);var T=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(){V({}),K(null)}),[V,K]),U=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(e){if(O&&O.current){var n=O.current.getBoundingClientRect(),t=n.x,i=n.y,r=[e.clientX-t,e.clientY-i];if(!(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.sn2)(r,F)){var a=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.CXu)(r,Y),o=a.indexes,l=a.zone;if(null!==l){var s=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.ueV)([l[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X][0],l[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y][0]],(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.gCP)(l),N),d=s[0],u=s[1],c=A?o[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]:o[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X],v=B.data[c].id,f=B.data[c].data.map((function(e,n){return _extends({},e,{id:v,key:B.keys[n]})})).filter((function(e){return!(e.key&&D.has(e.key))}));V({x:d,y:u,title:v,data:f}),K(l)}else T()}}}),[Y,O,F,K]),G=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("rect",{ref:O,role:j?"band-detector":void 0,width:M[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X],height:M[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y],style:{opacity:0},onMouseMove:U,onMouseLeave:T}),J=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.gjB)("band-highlight",P);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)("g",{role:"band-highlight",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.JjT,{role:j?"band-highlight-mask":void 0,visible:null!==F,firstRender:!1,children:null===F?null:BandHighlightMask(F,M,A,W,J,u)},"band-highlight-mask"),s?G:null]})},BandSurface=function BandSurface(e){var t,i=e.variant,o=void 0===i?"step":i,l=e.ids,s=e.expansion,d=void 0===s?[0,0]:s,u=e.interactive,m=void 0!==u&&u,b=e.tooltip,g=void 0!==b&&b,k=e.component,S=void 0===k?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.AeJ:k,_=e.componentProps,z=e.dataComponent,w=void 0===z?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Aj5:z,R=e.handlers,I=e.modifiers,C=e.className,j=e.setRole,W=void 0===j||j,B=e.style,M=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIO)(),L=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Bs9)().size,D=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.kE1)().scales,V=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.lLG)().data,A=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(void 0),E=A[0],O=A[1],q=0===D.x.bandwidth()&&0!==D.y.bandwidth(),F=q?D.y:D.x,K="step"===o?F.step():F.bandwidth(),H=(q?L[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]:L[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y])+d[0]+d[1],X=q?K:H,Y=q?H:K,T=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.lRm)(l,null,M).idSet,U=null==V||null==(t=V.data)?void 0:t[0].id,G=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(e,n){null==R||null==R.onMouseEnter||R.onMouseEnter(e,n),O(null==e?void 0:e.id)}),[R,O]),J=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(e,n){null==R||null==R.onMouseLeave||R.onMouseLeave(e,n),O(void 0)}),[R,O]),Q=m?_extends({},R,{onMouseEnter:G,onMouseLeave:J}):R,Z=_extends({variant:"band-surface",setRole:!1},_,{width:Y,height:X,className:C,style:B}),$=M.data.map((function(e,n){if(!T.has(e.id))return null;var t=F(e.id),i=q?-d[0]:t-K/2,r=q?t-K/2:-d[0],o=!!g&&U===e.id,l=!!m&&e.id===E,s=!g&&!m;return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(w,{key:"band-"+n,component:S,data:{id:e.id},props:_extends({},Z,{x:i,y:r,opacity:+(s||l||o)}),handlers:Q,modifiers:I})})).filter(Boolean);return 0===$.length?null:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("g",{role:W?"band-surface":void 0,children:$})},BandLabels=function BandLabels(e){var n=e.ids,t=e.position,i=void 0===t?1:t,r=e.size,o=void 0===r?[1,1]:r,l=e.unit,s=void 0===l?"relative":l,d=e.offset,u=void 0===d?[0,0]:d,m=e.align,p=e.padding,b=e.format,g=void 0===b?function(e){return String(e.id)}:b,k=e.component,S=void 0===k?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.__J:k,_=e.componentProps,w=e.className,R=e.setRole,I=void 0===R||R,N=e.style,P=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.W3B)().data,B=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIO)(),M=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Bs9)(),L=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.kE1)().scales,D=0===L.x.bandwidth()&&0!==L.y.bandwidth(),V=D?L.y:L.x,A=V.bandwidth(),E=B.data,O=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.lRm)(n,null,B).idSet,q=function(e,n,t,i,r){var a=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.eE7)([e,e],n,t,i);return r?a[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]:a[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]}(i,s,M.size,L,D),F="relative"===s?[o[0]*A,o[1]*A]:o,K=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.gjB)("bandLabel",w),H=E.map((function(e,n){if(!O.has(e.id))return null;var t=g(P[n]),i=V(e.id),r=D?[q,i]:[i,q];return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(S,_extends({key:"band-label-"+n,setRole:!1},_,{position:[r[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]+u[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X],r[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]+u[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]],size:F,align:m,padding:p,className:K,style:N,variant:"label"}),t)})).flat().filter(Boolean);return 0===H.length?null:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("g",{role:I?"band-labels":void 0,children:H})},ge=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({data:[],seriesIndexes:{},keys:[]}),BarPreparedDataProvider=function BarPreparedDataProvider(e){var n=e.data,i=e.seriesIndexes,r=e.keys,a=e.children,o=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return{data:n,seriesIndexes:i,keys:r}}),[n]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(ge.Provider,{value:o,children:a})},useBarPreparedData=function useBarPreparedData(){return(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(ge)},getScaleProps=function getScaleProps(e,n,t,i,r,a,o,l){void 0===l&&(l=!1);var s={index:(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.BRZ)(t),value:(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.BRZ)(i)};if((0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.HBl)(t)||(s.index.domain=e),!(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.HBl)(i)){var filterDisabled=function filterDisabled(e,n){return!o[n]},isValue=function isValue(e){return void 0!==e&&isFinite(Number(e))},d=n.map((function(e){return e.filter(filterDisabled).flat().filter(isValue)})),u=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.FG_)(l?d.map((function(e){var n=e.reduce((function(e,n){return isFinite(n)&&n>0?e+n:e}),0);return[e.reduce((function(e,n){return isFinite(n)&&n<0?e+n:e}),0),n]})).flat():d.flat());s.value=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.zAC)(i,u)}return s.index.size=a?r[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]:r[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X],s.value.size=a?r[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]:r[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y],s},getInternalWidthAndGap=function getInternalWidthAndGap(e,n,t,i){var r=e.bandwidth(),a=n.length,o=t||0,l="grouped"===i?r/a:r,s=l*o;return"grouped"===i?[l*(1-o),s/2,s]:[l*(1-o),s/2,-l*(1-o)]},ke=["container","variant","data","keys","horizontal","autoRescale","paddingInternal","scaleIndex","scaleValue","scaleColor","children"],Bar=function Bar(e){var n=e.container,i=void 0===n?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.WdC:n,r=e.variant,a=void 0===r?"grouped":r,o=e.data,l=e.keys,s=e.horizontal,c=void 0!==s&&s,v=e.autoRescale,f=void 0===v||v,p=e.paddingInternal,h=void 0===p?0:p,y=e.scaleIndex,x=void 0===y?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Us:y,b=e.scaleValue,g=void 0===b?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Tx9:b,k=e.scaleColor,S=e.children,_=_objectWithoutPropertiesLoose(e,ke),z=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.FgM)(),w=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.uK4)(i),R=w.dimsProps,I=w.origin,N=w.innerSize,P=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.gKR)(l).disabled,C=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.snp)(o)}),[o]),j=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return function(e,n){var t=n.map((function(e){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIU)(e)}));return e.map((function(e,n){var i=t.map((function(n){return Number(n(e))}));return{id:e.id,index:n,data:i,domain:i.map((function(e){return[0,e]}))}}))}(o,l)}),[o,l]),W="stacked"===a,B=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return getScaleProps(j.map((function(e){return e.id})),j.map((function(e){return e.domain})),x,g,N,c,f?P:Array(l.length).fill(!1),W)}),[j,x,g,N,c,f,P,l,W]),M=B.index,L=B.value,Y=c?L:M,T=c?M:L,U=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.NVB)(null!=k?k:z.Color.categorical,l),G=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.cT_)({x:Y,y:T,color:U}),J=G.scales,Q=c?J.y:J.x,Z=c?J.x:J.y,$=getInternalWidthAndGap(Q,l,h,a),ee=$[0],ne=$[1],te=$[2],ie=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return function(e,n,t,i,r,a,o,l,s){var d=t(0);return e.map((function(e){var u=e.data.map((function(e,n){return s[n]||!e?0:t(e)-d})),c=n(e.id)-n.bandwidth()/2,v=[],f=[];if(i?u.forEach((function(e){f.push([e,a])})):u.forEach((function(e){f.push([a,e])})),u=u.map((function(e){return null!=e?e:d})),r)if(i){var m=d;u.forEach((function(e){v.push([m,c]),m+=e}))}else{var p=d;u.forEach((function(e){v.push([c,p]),p+=e}))}else if(i){var h=c+o;u.forEach((function(){v.push([d,h]),h+=a+l}))}else{var y=c+o;u.forEach((function(){v.push([y,d]),y+=a+l}))}return{id:e.id,index:e.index,position:v,size:f}}))}(j,Q,Z,c,W,ee,ne,te,P)}),[j,c,W,Q,Z,ee,ne,te,P]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.PzT,_extends({variant:"bar",position:I,size:R.size,padding:R.padding,originalData:o,processedData:j,seriesIndexes:C,keys:l,scalesContextValue:G},_,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(BarPreparedDataProvider,{data:ie,seriesIndexes:C,keys:l,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(framer_motion__WEBPACK_IMPORTED_MODULE_4__.X,{features:framer_motion__WEBPACK_IMPORTED_MODULE_5__.H,children:S})})}))},isBarProcessedData=function isBarProcessedData(e){var n=e.map((function(e){return"object"==typeof e&&null!==e&&"id"in e&&"index"in e&&"data"in e&&"domain"in e}));return n.length>0&&n.every(Boolean)},Se=["ids","keys","component","componentProps","className","style","setRole","dataComponent"],Bars=function Bars(e){var n=e.ids,i=e.keys,r=e.component,o=void 0===r?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.AeJ:r,l=e.componentProps,s=e.className,d=e.style,u=e.setRole,v=void 0===u||u,p=e.dataComponent,y=void 0===p?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.oKN:p,x=_objectWithoutPropertiesLoose(e,Se),b=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIO)().data,g=useBarPreparedData(),k=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.kE1)().scales.color,S=g.data,_=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.gKR)(),z=_.disabledKeys,R=_.firstRender,I=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.lRm)(n,i,g),P=I.idSet,C=I.keySet;if(!isBarProcessedData(b))return null;var j=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return g.keys.map((function(e,n){var t=k(n);return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.hIX)(d,t)}))}),[g,d,k]),W=_extends({variant:"bar",setRole:!1},l,{className:s}),B=g.keys.map((function(e,n){if(!C.has(e))return null;var t=!z.has(e),i=S.map((function(t){if(!P.has(t.id))return null;var i=t.position[n],r=t.size[n];return 0===r[0]||0===r[1]?null:(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(y,_extends({key:"bar-"+t.id+"-"+e,component:o,data:{id:t.id,key:e,data:b[t.index].data[n]},props:_extends({},W,{x:i[0],y:i[1],width:r[0],height:r[1],style:j[n]})},x))})).filter(Boolean);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.JjT,{role:v?"bars":void 0,visible:t,firstRender:R,children:i},"b-"+e)}));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:B.filter(Boolean)})},BarsLabels=function BarsLabels(e){var n=e.variant,t=void 0===n?"bar-label":n,i=e.ids,r=e.keys,o=e.format,l=void 0===o?function(e){return String(e)}:o,s=e.padding,d=void 0===s?[4,4,4,4]:s,u=e.minSize,v=void 0===u?[40,10]:u,f=e.align,p=void 0===f?[.5,.5]:f,b=e.offset,g=void 0===b?[0,0]:b,k=e.angle,S=e.className,_=e.setRole,R=void 0===_||_,I=e.style,N=e.showOuter,P=void 0!==N&&N,C=e.styleOuter,j=e.component,B=void 0===j?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.__J:j,M=e.componentProps,L=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIO)().data,D=useBarPreparedData(),V=D.data,A=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.gKR)(),E=A.disabledKeys,O=A.firstRender,q=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.lRm)(i,r,D),F=q.idSet,K=q.keySet;if(!isBarProcessedData(L))return null;var H=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.gjB)(t,S),X=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.gjB)(t+" out",S),Y=_extends({setRole:!1},M,{align:p,angle:k,padding:d}),T=D.keys.map((function(e,n){if(!K.has(e))return null;var t=!E.has(e),i=V.map((function(e,t){if(!F.has(e.id))return null;var i=e.size[n],r=e.position[n],o=[r[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]+g[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]+i[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]/2,r[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]+g[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]+i[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]/2],s=I,d=H;if(Math.abs(i[0])<v[0]||Math.abs(i[1])<v[1]){if(!P)return null;s=C,o[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]+=i[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X],d=X}return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(B,_extends({key:"label-"+t+"-"+n},Y,{position:o,size:i,className:d,style:s}),l(L[t].data[n]))})).filter(Boolean);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.JjT,{role:R?"bars-labels":void 0,visible:t,firstRender:O,children:i},"labels-"+n)}));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:T.filter(Boolean)})},_e=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({data:[],seriesIndexes:{},keys:[]}),DendrogramPreparedDataProvider=function DendrogramPreparedDataProvider(e){var n=e.data,i=e.seriesIndexes,r=e.keys,a=e.children,o=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return{data:n,seriesIndexes:i,keys:r}}),[n]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_e.Provider,{value:o,children:a})},useDendrogramPreparedData=function useDendrogramPreparedData(){return(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_e)},ze=["container","variant","data","scaleIndex","scaleValue","hang","children"],Dendrogram=function Dendrogram(e){var n=e.container,i=void 0===n?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.WdC:n,r=e.variant,a=void 0===r?"bottom":r,o=e.data,l=e.scaleIndex,s=void 0===l?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Us:l,c=e.scaleValue,v=void 0===c?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Bs3:c,f=e.hang,m=void 0===f?-1:f,p=e.children,h=_objectWithoutPropertiesLoose(e,ze),y=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.uK4)(i),x=y.dimsProps,g=y.origin,k=y.innerSize,S=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.snp)(o)}),[o]),_="right"===a||"left"===a,z=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return function(e,n){return e.map((function(e,t){var i=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.FG_)(e.height);return{id:e.id,index:t,domain:n<0?[0,i[1]]:[i[0]-n,i[1]]}}))}(o,m)}),[o,m]),w=o[0].keys,R=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return getScaleProps(w,o.map((function(e){return e.keys.map((function(){return z[0].domain}))})),s,v,k,_,Array(w.length).fill(!1),!1)}),[z,s,v,k,_]),I=R.index,N=R.value,P=_?N:I,C=_?I:N;N.reverse="top"===a||"right"===a;var j=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.cT_)({x:P,y:C}),W=j.scales,B=_?W.y:W.x,M=_?W.x:W.y,L=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return function(e,n,t,i){var r=Math.abs;return e.map((function(e,a){var o=e.merge.length,l=Array(o).fill(0),s=Array(o).fill(0),d=e.keys.map(n),u=Array(e.keys.length).fill(t(0)),c=[],v=[];return e.merge.map((function(n,a){var o=e.height[a];s[a]=t(o);var f=[0,0],m=[0,0,s[a]],p=n[0],h=n[1];p<0&&i>=0&&(u[r(p)-1]=t(o-i)),h<0&&i>=0&&(u[r(h)-1]=t(o-i)),m[0]=p<0?u[r(p)-1]:v[p-1][0],m[1]=h<0?u[r(h)-1]:v[h-1][1],f[0]=p<0?d[r(p)-1]:l[p-1],f[1]=h<0?d[r(h)-1]:l[h-1],l[a]=.5*(f[0]+f[1]),p>0&&f.push(c[p-1]),h>0&&f.push(c[h-1]),c[a]=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.FG_)(f.flat()),v[a]=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.FG_)(m)})),{id:e.id,index:a,merge:e.merge,position:l,height:s,leafPosition:d,leafHeight:u,positionInterval:c,heightInterval:v}}))}(o,B,M,m)}),[o,B,M,m]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.PzT,_extends({variant:"dendrogram",position:g,size:x.size,padding:x.padding,originalData:o,processedData:z,seriesIndexes:S,keys:w,scalesContextValue:j},h,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(DendrogramPreparedDataProvider,{data:L,seriesIndexes:S,keys:w,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(framer_motion__WEBPACK_IMPORTED_MODULE_4__.X,{features:framer_motion__WEBPACK_IMPORTED_MODULE_5__.H,children:p})})}))},isDendrogramData=function isDendrogramData(e){var n=e.map((function(e){if("object"!=typeof e||null===e)return!1;if("id"in e&&"keys"in e&&"height"in e&&"merge"in e){var n=e.merge,t=e.height;return!(!(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.kJL)(t)||!(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.kJL)(n))&&t.length===n.length}return!1}));return n.length>0&&n.every(Boolean)},Re=function getSubTree(e,n,t){t.push(n);var i=e.merge[n];i[0]>0&&getSubTree(e,i[0]-1,t),i[1]>0&&getSubTree(e,i[1]-1,t)},getTargetLevels=function getTargetLevels(e,n,t,i,r){void 0===r&&(r=!1);var a=[];if(void 0===i&&void 0===t?a=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.w6H)(e.merge.length):void 0!==t&&(a=a.concat(t)),void 0!==i){var o=function(e,n,t){for(var i=t.map((function(e){return n(e)})),r=e.positionInterval.length-1,_loop=function _loop(){var n=e.positionInterval[a];if(i.every((function(e){return e>=n[0]&&e<=n[1]})))return{v:a}},a=0;a<r;a++){var o=_loop();if("object"==typeof o)return o.v}return r}(e,n,i);if(r){var l=[];Re(e,o,l),a=a.concat(l)}else a.push(o)}return a.sort((function(e,n){return n-e})),a},DendrogramSurface=function DendrogramSurface(e){var t=e.levels,i=e.ids,o=e.keys,l=e.expansion,s=void 0===l?[0,0,0,0]:l,d=e.expansionUnit,u=void 0===d?"band":d,c=e.component,v=void 0===c?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.AeJ:c,m=e.componentProps,p=e.dataComponent,y=void 0===p?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Aj5:p,x=e.interactive,b=void 0!==x&&x,g=e.handlers,k=e.modifiers,S=e.className,_=e.style,z=e.setRole,w=void 0===z||z,R=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.W3B)().data,I=useDendrogramPreparedData(),j=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.kE1)().scales,W=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.y7R)(j.y),B=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(void 0),M=B[0],L=B[1],D=W?j.y:j.x,V=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.lRm)(i,o,I),A=V.idSet,E=V.keyArray;if(!isDendrogramData(R))return null;var O="band"===u?D.bandwidth():D.step(),q=s.map((function(e){return e*O})),F=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(e,n){null==g||null==g.onMouseEnter||g.onMouseEnter(e,n),L(e)}),[g,L]),K=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(e,n){null==g||null==g.onMouseLeave||g.onMouseLeave(e,n),L(void 0)}),[g,L]),H=b?_extends({},g,{onMouseEnter:F,onMouseLeave:K}):g,X=_extends({variant:"dendrogram-surface",setRole:w},m,{className:S,style:_}),Y=I.data.map((function(e){var n=e.id;if(!A.has(n))return null;var i=R[e.index];return getTargetLevels(e,D,t,void 0===o?o:E).map((function(t){var r=function(e,n,t,i){var r=e.positionInterval[n],a=e.heightInterval[n],o=a[1]-a[0],l=r[1]-r[0];return{x:(t?a[0]:r[0])-i[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.RLj],y:(t?r[0]:a[0])-i[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.GSB],width:(t?o:l)+i[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.RLj]+i[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.pXp],height:(t?l:o)+i[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.GSB]+i[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.DaS]}}(e,t,W,q),o=!!b&&e.id===(null==M?void 0:M.id)&&t===(null==M?void 0:M.level);return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(y,{key:"s-"+n+"-"+t,component:v,data:{id:n,level:t,data:i},props:_extends({},X,r,{opacity:+(o||!b)}),handlers:H,modifiers:k})}))}));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:Y.filter(Boolean)})},nodePoint=function nodePoint(e,n,t){var i=n<0?e.leafPosition:e.position,r=n<0?e.leafHeight:e.height,a=[i[Math.abs(n)-1],r[Math.abs(n)-1]];return t?a.reverse():a},DendrogramTree=function DendrogramTree(e){var n=e.levels,t=e.ids,i=e.keys,r=e.component,o=void 0===r?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.y$t:r,l=e.componentProps,s=e.dataComponent,d=void 0===s?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Aj5:s,u=e.handlers,c=e.modifiers,v=e.className,m=e.style,p=e.setRole,b=void 0===p||p,g=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.W3B)().data,k=useDendrogramPreparedData(),S=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.kE1)().scales,_=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.lRm)(t,i,k),z=_.idSet,w=_.keyArray,R=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.y7R)(S.y),I=R?S.y:S.x;if(!isDendrogramData(g))return null;var N=_extends({variant:"dendrogram",setRole:!1},l,{style:m,className:v}),j=k.data.map((function(e){var t=e.id;if(!z.has(t))return null;var r=getTargetLevels(e,I,n,void 0===i?i:w,!0).map((function(n){var i=e.merge[n],r=function(e,n,t,i,r){var a=Array(4);a[0]=nodePoint(e,t,r),a[3]=nodePoint(e,i,r);var o=nodePoint(e,n,r);return r?(a[1]=[o[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X],a[0][_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]],a[2]=[o[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X],a[3][_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]]):(a[1]=[a[0][_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X],o[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]],a[2]=[a[3][_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X],o[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]]),a}(e,n+1,i[0],i[1],R);return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(d,{key:"t-"+e.index+"-"+n,data:{id:t,level:n,data:g[e.index]},component:o,props:_extends({},N,{points:r}),handlers:u,modifiers:c})}));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("g",{role:b?"dendrogram-tree":void 0,children:r},"t-"+e.index)}));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:j.filter(Boolean)})},Ie=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({data:[],seriesIndexes:{},keys:[]}),QuantilePreparedDataProvider=function QuantilePreparedDataProvider(e){var n=e.data,i=e.seriesIndexes,r=e.keys,a=e.children,o=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return{data:n,seriesIndexes:i,keys:r}}),[n]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Ie.Provider,{value:o,children:a})},Ne=["data","horizontal","boxStyle","whiskerStyle","whiskerCapWidth","className","style","setRole"],BarAndWhisker=function BarAndWhisker(e){var n=e.data,t=e.horizontal,i=e.boxStyle,r=e.whiskerStyle,a=e.whiskerCapWidth,o=void 0===a?0:a,l=e.className,d=e.style,u=e.setRole,c=_objectWithoutPropertiesLoose(e,Ne),v=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.kE1)().scales;if(!n)return null;if(void 0===n.moments||void 0===n.interval)return null;var m=n.bandWidth/2,p=o*m,h=n.bandStart+m,y=n.moments[0],x=(t?v.x:v.y)(0),b={className:l,setRole:!1},g=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.AeJ,_extends({variant:"bar",x:-m,y:0,width:n.bandWidth,height:x-y,style:i},b),"bar"),k=[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.x12,_extends({variant:"whisker",x1:0,x2:0,y1:0,y2:-y+n.interval[1],style:r},b),"line")],S=[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.x12,_extends({variant:"whisker-cap",x1:-p,x2:p,y1:-y+n.interval[1],y2:-y+n.interval[1],style:r},b),"cap")],_={x:t?y:h,y:t?h:y,rotate:t?-90:0,originX:"0px",originY:"0px"};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(framer_motion__WEBPACK_IMPORTED_MODULE_2__.m.g,_extends({initial:_,animate:_,role:u?"bar-and-whisker":void 0,style:(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.dJS)(d,_)},c,{children:[g,k,o>0?S:null]}))},Pe=["data","horizontal","boxStyle","whiskerStyle","middleStyle","whiskerCapWidth","className","style","setRole"],BoxAndWhiskers=function BoxAndWhiskers(e){var n=e.data,t=e.horizontal,i=e.boxStyle,r=e.whiskerStyle,a=e.middleStyle,o=e.whiskerCapWidth,l=void 0===o?0:o,d=e.className,u=e.style,c=e.setRole,v=_objectWithoutPropertiesLoose(e,Pe);if(!n)return null;var f=n.bandWidth/2,m=l*f,p=n.values,h=n.bandStart+f,y=n.values[2],x={className:d,setRole:!1},b=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.AeJ,_extends({variant:"box",x:-f,y:-y+p[3],width:n.bandWidth,height:p[1]-p[3],style:i},x),"box"),g=[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.x12,_extends({variant:"median",x1:-f,x2:+f,y1:0,y2:0,style:a},x),"median"),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.x12,_extends({variant:"whisker",x1:0,x2:0,y1:-y+p[3],y2:-y+p[4],style:r},x),"upper"),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.x12,_extends({variant:"whisker",x1:0,x2:0,y1:-y+p[1],y2:-y+p[0],style:r},x),"lower")],k=[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.x12,_extends({variant:"whisker-cap",x1:-m,x2:m,y1:-y+p[4],y2:-y+p[4],style:r},x),"upper-cap"),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.x12,_extends({variant:"whisker-cap",x1:-m,x2:m,y1:-y+p[0],y2:-y+p[0],style:r},x),"lower-cap")],S={x:t?y:h,y:t?h:y,rotate:t?-90:0,originX:"0px",originY:"0px"};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(framer_motion__WEBPACK_IMPORTED_MODULE_2__.m.g,_extends({initial:S,animate:S,role:c?"box-and-whiskers":void 0,style:(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.dJS)(u,S)},v,{children:[b,g,l>0?k:null]}))},getQuantiles=function getQuantiles(e,n){var t=e.length-1,i=[].concat(e).sort((function(e,n){return e-n}));return n.map((function(e){return function(e,n,t){var i=t*Math.max(0,Math.min(1,n)),r=Math.floor(i);if(i===r)return e[r];var a=e[r];return a+(e[r+1]-a)*(i-r)}(i,e,t)}))},isQuantileProcessedSummary=function isQuantileProcessedSummary(e){if("object"!=typeof e||null===e)return!1;if(!("n"in e))return!1;var n=[5,5,2];return["values","quantiles","extrema"].map((function(t,i){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.kJL)(e[t])&&e[t].length===n[i]})).every(Boolean)},je=["container","variant","data","keys","quantiles","horizontal","autoRescale","paddingInternal","scaleIndex","scaleValue","scaleColor","children"],Quantile=function Quantile(e){var n=e.container,i=void 0===n?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.WdC:n,r=e.variant,a=void 0===r?"grouped":r,o=e.data,l=e.keys,s=e.quantiles,c=void 0===s?[.05,.25,.5,.75,.95]:s,v=e.horizontal,f=void 0!==v&&v,p=e.autoRescale,h=void 0===p||p,y=e.paddingInternal,x=void 0===y?0:y,g=e.scaleIndex,k=void 0===g?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Us:g,S=e.scaleValue,_=void 0===S?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Tx9:S,z=e.scaleColor,w=e.children,R=_objectWithoutPropertiesLoose(e,je),I=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.FgM)(),N=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.uK4)(i),P=N.dimsProps,C=N.origin,j=N.innerSize,W=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.gKR)(l).disabled,B=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.snp)(o)}),[o]),M=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return function(e,n,t){var i=n.map((function(e){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIU)(e)}));return e.map((function(e,n){var r=i.map((function(n){var i=n(e);if(i){if(isQuantileProcessedSummary(i))return{n:i.n,moments:i.moments,interval:i.interval,values:i.values,quantiles:i.quantiles,extrema:i.extrema};if((0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.kJL)(i)){var r=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Gi7)(i),a=r[0],o=r[1],l=isFinite(o)?Math.sqrt(o):0;return{n:i.length,moments:[a,o],interval:[a-l,a+l],values:getQuantiles(i,t),quantiles:t,extrema:(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.FG_)(i)}}}}));return{id:e.id,index:n,data:r,domain:r.map((function(e){return e?(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.FG_)(e.extrema):void 0}))}}))}(o,l,c)}),[o,l,c]),L=getScaleProps(M.map((function(e){return e.id})),M.map((function(e){return e.domain})),k,_,j,f,h?W:Array(l.length).fill(!1)),Y=L.index,T=L.value,U=f?T:Y,J=f?Y:T,Q=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.NVB)(null!=z?z:I.Color.categorical,l),Z=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.cT_)({x:U,y:J,color:Q}),$=Z.scales,ee=f?$.y:$.x,ne=f?$.x:$.y,te=getInternalWidthAndGap(ee,l,x,a),ie=te[0],re=te[1],oe=te[2],le=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return function(e,n,t,i,r,a,o){return e.map((function(e){var i=n(e.id)-n.bandwidth()/2+a,l=e.data.map((function(e){var n,a;if(i+=r+o,void 0!==e)return{n:e.values.length,moments:null==(n=e.moments)?void 0:n.map((function(e){return t(Number(e))})),interval:null==(a=e.interval)?void 0:a.map((function(e){return t(Number(e))})),values:e.values.map((function(e){return t(e)})),quantiles:e.quantiles,extrema:e.extrema.map((function(e){return t(e)})),bandStart:i-r-o,bandWidth:r}}));return{id:e.id,index:e.index,data:l}}))}(M,ee,ne,0,ie,re,oe)}),[M,ee,ne,f,ie,re,oe]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.PzT,_extends({variant:"distribution",position:C,size:P.size,padding:P.padding,originalData:o,processedData:M,seriesIndexes:B,keys:l,scalesContextValue:Z},R,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(QuantilePreparedDataProvider,{data:le,seriesIndexes:B,keys:l,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(framer_motion__WEBPACK_IMPORTED_MODULE_4__.X,{features:framer_motion__WEBPACK_IMPORTED_MODULE_5__.H,children:w})})}))},InformationTable=function InformationTable(e){var n=e.position,t=e.size,i=e.labels,r=e.values,a=e.className,o=e.style;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:[i.map((function(e,i){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("text",{x:n[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X],y:n[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]+i*t[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y],className:a+" label",style:o,children:void 0!==r[i]?e+":":""},"label-"+i)})),r.map((function(e,i){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("text",{x:n[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]+t[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X],y:n[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]+i*t[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y],className:a+" value",style:o,children:null!=e?e:""},"value-"+i)}))]})},QuantileTooltipItem=function QuantileTooltipItem(e){var n=e.position,t=void 0===n?[0,0]:n,i=e.data,r=e.padding,o=void 0===r?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.WO3.padding:r,l=e.color,s=e.r,d=void 0===s?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.WWF.r:s,u=e.symbol,c=void 0===u?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.bK0:u,v=e.symbolStyle,m=e.label,p=e.labelStyle,h=e.labelDistance,b=void 0===h?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.WWF.labelDistance:h,g=e.valueFormat,k=void 0===g?function(e){return String(e)}:g,S=e.cellSize,_=void 0===S?[40,20]:S,w=e.cellPadding,R=void 0===w?20:w,I=e.cellStyle,N=e.className,P=e.style,C=e.setRole,j=void 0===C||C,W=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.kE1)().scales.color;if(!isQuantileProcessedSummary(i))return null;if(!i)return null;var B="key"in i?String(i.key):"",M=[d+o[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.RLj],d+o[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.GSB]],L=[M[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]+d+b,M[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]],D=function(e,n,t,i){var r="number"==typeof n?t(n):null!=n?n:t(t.domain().indexOf(null!=i?i:""));return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.hIX)(e,r)}(v,l,W,B),V=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.gjB)("tooltipSymbol right",N),A=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.gjB)("tooltipItem right",N),E=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.gjB)("tooltipItem",N),O=[o[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.RLj],Math.max(o[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.GSB]+1.5*_[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y],2*L[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y])],q=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(InformationTable,{position:O,size:_,labels:["n","mean","stdev","min","max"],values:[i.n,i.moments?k(i.moments[0]):void 0,i.moments&&isFinite(i.moments[1])?k(Math.sqrt(i.moments[1])):void 0,k(i.extrema[0]),k(i.extrema[1])],className:E,style:I},"info-n-mean"),F=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(InformationTable,{position:[O[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]+2*_[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]+R,O[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]],size:_,labels:i.quantiles.map((function(e){return String(100*e)+"%"})),values:i.values.map((function(e){return k(e)})),className:E},"info-q");return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)("g",{role:j?"tooltip-item":void 0,transform:(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.R6R)(t),style:P,className:"tooltipItem",children:[(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(c,{key:"symbol-"+B,cx:M[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X],cy:M[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y],r:d,className:V,style:D,setRole:!1}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("text",{x:L[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X],y:L[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y],className:A,style:p,children:null!=m?m:B},"label"),q,F]},"item-"+B)},QuantileTooltip=function QuantileTooltip(e){var n,t,i,r=e.offset,a=void 0===r?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.WWF.offset:r,o=e.size,l=e.anchor,s=void 0===l?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.WWF.anchor:l,d=e.padding,u=void 0===d?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.WWF.padding:d,c=e.rx,v=void 0===c?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.WWF.rx:c,f=e.ry,m=void 0===f?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.WWF.ry:f,h=e.maxOverhang,b=void 0===h?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.WWF.maxOverhang:h,g=e.itemSize,k=void 0===g?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.WWF.itemSize:g,S=e.itemPadding,_=void 0===S?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.WWF.itemPadding:S,z=e.firstOffset,w=void 0===z?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.WWF.firstOffset:z,R=e.title,I=e.titleStyle,N=e.titleFormat,P=e.r,C=void 0===P?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.WWF.r:P,j=e.symbol,W=void 0===j?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.bK0:j,B=e.symbolStyle,M=e.labelStyle,L=e.labelDistance,D=void 0===L?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.WWF.labelDistance:L,V=e.labelFormat,A=e.valueFormat,E=void 0===A?function(e){return String(e)}:A,O=e.cellSize,q=void 0===O?[40,20]:O,F=e.cellPadding,K=void 0===F?20:F,H=e.cellStyle,X=e.className,Y=e.style,T=e.setRole,U=void 0===T||T,G=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.lLG)().data,J=null!=(n=null==G?void 0:G.data)?n:[];if(!J.every((function(e){return isQuantileProcessedSummary(e)})))return null;R=null!=(t=R)?t:null===N?"":N?N(G):G.title;var Q=J.length,te=[4*q[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]+K,5*q[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]];o=null!=(i=o)?i:[Math.max(k[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X],te[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X])+u[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.RLj]+u[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.pXp],k[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]*Q+(R?k[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]:0)+te[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]*Q+u[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.GSB]+u[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.DaS]];var ie=[u[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.RLj],u[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.GSB]],re=[u[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.RLj],u[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.GSB]],ae=[0,k[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]];R&&(re[0]+=ae[0]+w[0],re[1]+=ae[1]+w[1]);var oe=Array(Q).fill(0).map((function(e,n){return[u[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.RLj],re[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]+(k[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]+te[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y])*n]})),se=J.map((function(e,n){var t,i,r,a=null!=(t=e.key)?t:"";return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(QuantileTooltipItem,{position:oe[n],data:e,label:V&&null!=(i=V(e))?i:a,labelDistance:D,item:null!=(r=e.key)?r:"",padding:_,symbol:W,symbolStyle:B,labelStyle:M,className:X,valueFormat:E,cellPadding:K,cellSize:q,cellStyle:H},"item-"+n)}));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.ua7,{offset:a,size:o,padding:u,anchor:s,rx:v,ry:m,maxOverhang:b,style:Y,setRole:U,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.CKu,{variant:"right",position:ie,size:k,padding:_,offset:[0,C],style:I,className:X,children:R},"title"),se]})},We=["ids","keys","component","componentProps","className","setRole","boxStyle","whiskerStyle","middleStyle","whiskerCapWidth","dataComponent"],Quantiles=function Quantiles(e){var n=e.ids,i=e.keys,r=e.component,o=void 0===r?BoxAndWhiskers:r,l=e.componentProps,s=e.className,d=e.setRole,u=void 0===d||d,v=e.boxStyle,p=e.whiskerStyle,y=e.middleStyle,x=e.whiskerCapWidth,b=e.dataComponent,g=void 0===b?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.oKN:b,k=_objectWithoutPropertiesLoose(e,We),S=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIO)().data,_=function useQuantilePreparedData(){return(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(Ie)}(),z=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.kE1)().scales,R=z.color,I=_.data,N=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.gKR)(),P=N.disabledKeys,C=N.firstRender,j=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.y7R)(z.y),W=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.lRm)(n,i,_),B=W.idSet,M=W.keySet;if(!function isQuantileProcessedData(e){var n=e.map((function(e){return"object"==typeof e&&null!==e&&"id"in e&&"index"in e&&"data"in e&&"domain"in e}));return n.length>0&&n.every(Boolean)}(S))return null;var L=_.keys,D=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return L.map((function(e,n){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.hIX)(v,R(n))}))}),[L,v,R]),V=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return L.map((function(e,n){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.hIX)(p,R(n))}))}),[L,p,R]),A=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return L.map((function(e,n){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.hIX)(y,R(n))}))}),[L,y,R]),E=_extends({setRole:u},l,{horizontal:j,className:s,whiskerCapWidth:x}),O=_.keys.map((function(e,n){if(!M.has(e))return null;var t=!P.has(e),i=I.map((function(t){if(!B.has(t.id))return null;var i=t.data[n],r=S[t.index].data[n];return r?(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(g,_extends({key:"q-"+t.index+"-"+n,data:_extends({id:t.id,key:e},r),component:o,props:_extends({},E,{data:i,boxStyle:D[n],whiskerStyle:V[n],middleStyle:A[n]})},k)):null})).filter(Boolean);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.JjT,{role:u?"quantiles":void 0,visible:t,firstRender:C,children:i},"q-"+n)})).filter(Boolean);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:O})},Be=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({data:[],seriesIndexes:{},keys:[]}),SchedulePreparedDataProvider=function SchedulePreparedDataProvider(e){var n=e.data,i=e.seriesIndexes,r=e.keys,a=e.children,o=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return{data:n,seriesIndexes:i,keys:r}}),[n]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Be.Provider,{value:o,children:a})},Me=["container","data","keys","intervalStart","intervalEnd","intervalKey","horizontal","autoRescale","scaleIndex","scaleValue","scaleColor","children"],Schedule=function Schedule(e){var n=e.container,i=void 0===n?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.WdC:n,r=e.data,a=e.keys,o=e.intervalStart,l=void 0===o?"start":o,s=e.intervalEnd,c=void 0===s?"end":s,v=e.intervalKey,f=void 0===v?"key":v,p=e.horizontal,h=void 0===p||p,y=e.autoRescale,x=void 0===y||y,b=e.scaleIndex,g=void 0===b?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Us:b,k=e.scaleValue,S=void 0===k?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Tx9:k,_=e.scaleColor,z=e.children,w=_objectWithoutPropertiesLoose(e,Me),R=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.FgM)(),I=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.uK4)(i),N=I.dimsProps,P=I.origin,C=I.innerSize,j=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.gKR)(a).disabled,W=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.snp)(r)}),[r]),B=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return function(e,n,t,i,r){var a=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIU)(n),o=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIU)(t),l=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIU)(i);return e.map((function(e,n){var t=e.data.map((function(e){var n=String(l(e));return{start:Number(a(e)),end:Number(o(e)),key:n}})).filter((function(e){return r.indexOf(e.key)>=0}));return{id:e.id,index:n,data:t,domain:t.map((function(e){return[e.start,e.end]}))}}))}(r,l,c,f,a)}),[r,l,c,f,a]),M=getScaleProps(B.map((function(e){return e.id})),B.map((function(e){return e.domain})),g,S,C,h,x?j:Array(a.length).fill(!1)),L=M.index,Y=M.value,T=h?Y:L,U=h?L:Y,G=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.NVB)(null!=_?_:R.Color.categorical,a),J=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.cT_)({x:T,y:U,color:G}),Q=J.scales,Z=h?Q.y:Q.x,$=h?Q.x:Q.y,ee=getInternalWidthAndGap(Z,a,0,"layered"),ne=ee[0],te=ee[1],ie=ee[2],re=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return function(e,n,t,i,r,a,o){return e.map((function(e){var l=n(e.id)-n.bandwidth()/2+a,s=e.data.map((function(e){l+=r+o;var n=t(e.start),a=t(e.end);return _extends({},e,{bandStart:l-r-o,bandWidth:r,size:i?[a-n,r]:[r,a-n],position:i?[n,l-r-o]:[l-r-o,n]})}));return{id:e.id,index:e.index,data:s}}))}(B,Z,$,h,ne,te,ie)}),[B,Z,$,h,ne,te,ie]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.PzT,_extends({variant:"schedule",position:P,size:N.size,padding:N.padding,originalData:r,processedData:B,seriesIndexes:W,keys:a,scalesContextValue:J},w,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(SchedulePreparedDataProvider,{data:re,seriesIndexes:W,keys:a,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(framer_motion__WEBPACK_IMPORTED_MODULE_4__.X,{features:framer_motion__WEBPACK_IMPORTED_MODULE_5__.H,children:z})})}))},isScheduleData=function isScheduleData(e){return e.map((function(e){return"object"==typeof e&&null!==e&&"id"in e&&"data"in e})).every(Boolean)},Le=["ids","keys","component","componentProps","className","setRole","dataComponent","style"],Schedules=function Schedules(e){var n=e.ids,i=e.keys,r=e.component,o=void 0===r?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.AeJ:r,l=e.componentProps,s=e.className,d=e.setRole,u=void 0===d||d,v=e.dataComponent,p=void 0===v?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.oKN:v,y=e.style,x=_objectWithoutPropertiesLoose(e,Le),b=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIO)().data,g=function useSchedulePreparedData(){return(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(Be)}(),k=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.kE1)().scales.color,S=g.data,_=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.gKR)(),z=_.disabledKeys,R=_.firstRender,I=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.lRm)(n,i,g),P=I.idSet,C=I.keySet;if(!function isScheduleProcessedData(e){var n=e.map((function(e){return"object"==typeof e&&null!==e&&"id"in e&&"index"in e&&"data"in e&&"domain"in e}));return n.length>0&&n.every(Boolean)}(b))return null;var j=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return g.keys.map((function(e,n){var t=k(n);return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.hIX)(y,t)}))}),[g,y,k]),W=g.keys,B=_extends({variant:"schedule",setRole:!1},l,{className:s}),M=g.keys.map((function(e,n){if(!C.has(e))return null;var t=!z.has(e),i=[];return S.map((function(t){if(!P.has(t.id))return null;t.data.map((function(r){if(!C.has(r.key)||r.key!=e)return null;var l=W.indexOf(r.key),s=r.position,d=s[0],u=s[1],c=r.size,v=c[0],f=c[1],m=(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(p,_extends({key:"s-"+t.index+"-"+n,data:_extends({id:t.id},r),component:o,props:_extends({},B,{x:d,y:u,width:v,height:f,style:j[l]})},x));i.push(m)}))})),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.JjT,{role:u?"schedules":void 0,visible:t,firstRender:R,children:i.filter(Boolean)},"s-"+n)})).filter(Boolean);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:M})},De=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({data:[],seriesIndexes:{},keys:[]}),StripPreparedDataProvider=function StripPreparedDataProvider(e){var n=e.data,i=e.seriesIndexes,r=e.keys,a=e.children,o=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return{data:n,seriesIndexes:i,keys:r}}),[n]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(De.Provider,{value:o,children:a})},getStripInternalOrder=function getStripInternalOrder(e,n){var t=n.map((function(e,n){return n}));if("none"===e)return t;if("random"===e)return t.sort((function(){return Math.random()-.5}));if("middle"===e)return Array(n.length).fill((n.length+1)/2);var i=n.map((function(e,n){return[e,n]}));return"increasing"===e||"ascending"===e?i.sort((function(e,n){return e[0]-n[0]})).forEach((function(e,n){return t[e[1]]=n})):i.sort((function(e,n){return n[0]-e[0]})).forEach((function(e,n){return t[e[1]]=n})),t},Ve=["container","variant","data","keys","jitter","valueSize","horizontal","autoRescale","paddingInternal","scaleIndex","scaleValue","scaleColor","children"],Strip=function Strip(e){var n=e.container,i=void 0===n?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.WdC:n,r=e.variant,a=void 0===r?"grouped":r,o=e.data,l=e.keys,s=e.jitter,c=void 0===s?"none":s,v=e.valueSize,f=void 0===v?3:v,p=e.horizontal,h=void 0!==p&&p,y=e.autoRescale,x=void 0===y||y,g=e.paddingInternal,k=void 0===g?0:g,S=e.scaleIndex,_=void 0===S?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Us:S,z=e.scaleValue,w=void 0===z?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Tx9:z,R=e.scaleColor,I=e.children,N=_objectWithoutPropertiesLoose(e,Ve),P=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.FgM)(),C=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.uK4)(i),j=C.dimsProps,W=C.origin,B=C.innerSize,M=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.gKR)(l).disabled,L=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.snp)(o)}),[o]),Y=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return function(e,n,t,i){var r=n.map((function(e){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIU)(e)}));return e.map((function(e,n){var a=r.map((function(n){var r=n(e);if(r&&(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.kJL)(r))return{value:r,internal:getStripInternalOrder(i,r),valueSize:Array(r.length).fill(t)}}));return{id:e.id,index:n,data:a,domain:a.map((function(e){return e?(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.FG_)(null==e?void 0:e.value):void 0}))}}))}(o,l,f,c)}),[o,l,f,c]),T=getScaleProps(Y.map((function(e){return e.id})),Y.map((function(e){return e.domain})),_,w,B,h,x?M:Array(l.length).fill(!1)),U=T.index,J=T.value,Q=h?J:U,Z=h?U:J,$=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.NVB)(null!=R?R:P.Color.categorical,l),ee=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.cT_)({x:Q,y:Z,color:$}),ne=ee.scales,te=h?ne.y:ne.x,ie=h?ne.x:ne.y,re=getInternalWidthAndGap(te,l,k,a),ae=re[0],oe=re[1],le=re[2],se=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return function(e,n,t,i,r,a,o){return e.map((function(e){var i=n(e.id)-n.bandwidth()/2+a,l=e.data.map((function(e){if(i+=r+o,e){var n=e.value.length,a=n<=1?r:r/(e.value.length-1),l=i-r-o+(n<=1?r/2:0);return{value:e.value.map((function(e){return t(e)})),internal:e.internal.map((function(e){return l+e*a})),valueSize:e.valueSize.map((function(e){return e})),bandStart:i-r-o,bandWidth:r}}}));return{id:e.id,index:e.index,data:l}}))}(Y,te,ie,0,ae,oe,le)}),[Y,h,te,ie,ae,oe,le]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.PzT,_extends({variant:"strip",position:W,size:j.size,padding:j.padding,originalData:o,processedData:Y,seriesIndexes:L,keys:l,scalesContextValue:ee},N,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(StripPreparedDataProvider,{data:se,seriesIndexes:L,keys:l,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(framer_motion__WEBPACK_IMPORTED_MODULE_4__.X,{features:framer_motion__WEBPACK_IMPORTED_MODULE_5__.H,children:I})})}))},isStripData=function isStripData(e){return e.map((function(e){return"object"==typeof e&&null!==e&&"id"in e})).every(Boolean)},Ae=["ids","keys","component","componentProps","setRole","className","symbolStyle","dataComponent"],Strips=function Strips(e){var n=e.ids,i=e.keys,r=e.component,o=void 0===r?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Cdc:r,l=e.componentProps,s=e.setRole,d=void 0===s||s,u=e.className,v=e.symbolStyle,p=e.dataComponent,y=void 0===p?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Aj5:p,x=_objectWithoutPropertiesLoose(e,Ae),b=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIO)().data,g=function useStripPreparedData(){return(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(De)}(),k=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.kE1)().scales,S=k.color,_=g.data,z=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.gKR)(),R=z.disabledKeys,I=z.firstRender,N=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.y7R)(k.y),C=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.lRm)(n,i,g),j=C.idSet,W=C.keySet;if(!function isStripProcessedData(e){var n=e.map((function(e){return"object"==typeof e&&null!==e&&"id"in e&&"index"in e&&"data"in e&&"domain"in e}));return n.length>0&&n.every(Boolean)}(b))return null;var B=g.keys,M=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return B.map((function(e,n){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.hIX)(v,S(n))}))}),[B,v,S]),L=_extends({setRole:!1},l,{className:u}),D=g.keys.map((function(e,n){if(!W.has(e))return null;var t=!R.has(e),i=_.map((function(t){if(!j.has(t.id))return null;var i=t.data[n];if(!i)return null;var r=N?i.value:i.internal,l=N?i.internal:i.value,s=b[t.index].data[n];return i.valueSize.map((function(i,d){return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(y,_extends({key:"p-"+t.index+"-"+n+"-"+d,data:{id:t.id,key:e,index:d,value:null==s?void 0:s.value[d],valueSize:null==s?void 0:s.valueSize[d]},component:o,props:_extends({},L,{cx:r[d],cy:l[d],r:i,style:M[n]})},x))}))})).filter(Boolean).flat();return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.JjT,{role:d?"strips":void 0,visible:t,firstRender:I,children:i},"s-"+n)}));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:D})},Ee=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({data:[],seriesIndexes:{},keys:[]}),ViolinPreparedDataProvider=function ViolinPreparedDataProvider(e){var n=e.data,i=e.seriesIndexes,r=e.keys,a=e.children,o=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return{data:n,seriesIndexes:i,keys:r}}),[n]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Ee.Provider,{value:o,children:a})},Oe=["container","variant","data","keys","breaks","horizontal","autoRescale","paddingInternal","scaleIndex","scaleValue","scaleColor","children"],Violin=function Violin(e){var n=e.container,i=void 0===n?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.WdC:n,r=e.variant,a=void 0===r?"grouped":r,o=e.data,l=e.keys,s=e.breaks,c=void 0===s?20:s,v=e.horizontal,f=void 0!==v&&v,p=e.autoRescale,h=void 0===p||p,y=e.paddingInternal,x=void 0===y?0:y,g=e.scaleIndex,k=void 0===g?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Us:g,S=e.scaleValue,_=void 0===S?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Tx9:S,z=e.scaleColor,w=e.children,R=_objectWithoutPropertiesLoose(e,Oe),I=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.FgM)(),N=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.uK4)(i),P=N.dimsProps,C=N.origin,j=N.innerSize,W=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.gKR)(l).disabled,B=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.snp)(o)}),[o]),M=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return function(e,n){var t=n.map((function(e){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIU)(e)}));return e.map((function(e,n){var i=t.map((function(n){var t=n(e);if(t){if(function isViolinProcessedSummary(e){return"object"==typeof e&&null!==e&&"n"in e&&["values","breaks"].map((function(n){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.kJL)(e[n])})).every(Boolean)}(t))return{n:t.n,values:t.values,breaks:t.breaks};if((0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.kJL)(t))return{n:t.length,values:t}}})),r=i.map((function(e){if(e)return e.breaks?(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.FG_)(e.breaks):(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.FG_)(e.values)}));return{id:e.id,index:n,data:i,domain:r}}))}(o,l)}),[o,l]),L=getScaleProps(M.map((function(e){return e.id})),M.map((function(e){return e.domain})),k,_,j,f,h?W:Array(l.length).fill(!1)),Y=L.index,T=L.value,U=f?T:Y,J=f?Y:T,Q=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.NVB)(null!=z?z:I.Color.categorical,l),Z=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.cT_)({x:U,y:J,color:Q}),$=Z.scales,ee=f?$.y:$.x,ne=f?$.x:$.y,te=getInternalWidthAndGap(ee,l,x,a),ie=te[0],re=te[1],ae=te[2],oe=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return function prepareData(e,n,t,i,r,a,o,l){var s,d=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.FG_)(e.map((function(e){return e.domain.flat().filter((function(e){return void 0!==e}))})).flat()).map((function(e){return t(e)}));return s=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.kJL)(l)?l.map((function(e){return t(e)})):(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Sye)(d,Number(l)),e.map((function(e){var i=n(e.id)-n.bandwidth()/2+a,l=e.data.map((function(e){if(i+=r+o,e){var n=e.breaks?[]:e.values.map((function(e){return t(e)})),a=e.breaks?e.breaks.map((function(e){return t(e)})):s;return a.sort((function(e,n){return e-n})),{n:e.n,breaks:e.breaks?e.breaks.map((function(e){return t(e)})):a,values:e.breaks?e.values:(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.NYs)(n,a,!1),bandStart:i-r-o,bandWidth:r}}}));return{id:e.id,index:e.index,data:l}}))}(M,ee,ne,0,ie,re,ae,c)}),[M,f,ee,ne,ie,re,ae,c]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.PzT,_extends({variant:"violin",position:C,size:P.size,padding:P.padding,originalData:o,processedData:M,seriesIndexes:B,keys:l,scalesContextValue:Z},R,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(ViolinPreparedDataProvider,{data:oe,seriesIndexes:B,keys:l,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(framer_motion__WEBPACK_IMPORTED_MODULE_4__.X,{features:framer_motion__WEBPACK_IMPORTED_MODULE_5__.H,children:w})})}))},qe=["variant","ids","keys","component","componentProps","dataComponent","style","className","setRole"],Violins=function Violins(e){var n=e.variant,i=void 0===n?"smooth":n,r=e.ids,o=e.keys,l=e.component,s=void 0===l?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.y$t:l,d=e.componentProps,u=e.dataComponent,v=void 0===u?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.oKN:u,p=e.style,y=e.className,x=e.setRole,b=void 0===x||x,g=_objectWithoutPropertiesLoose(e,qe),k=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIO)().data,S=function useViolinPreparedData(){return(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(Ee)}(),_=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.kE1)().scales,z=_.color,R=S.data,I=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.gKR)(),N=I.disabledKeys,P=I.firstRender,C=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.y7R)(_.y),j=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.lRm)(r,o,S),W=j.idSet,B=j.keySet;if(!function isViolinProcessedData(e){var n=e.map((function(e){return"object"==typeof e&&null!==e&&"id"in e&&"index"in e&&"data"in e&&"domain"in e}));return n.length>0&&n.every(Boolean)}(k))return null;var M=S.keys,L=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return M.map((function(e,n){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.hIX)(p,z(n))}))}),[M,p,z]),D=_extends({variant:"violin",setRole:!1},d,{curve:"step"===i?"Step":"BasisClosed",closed:!0,className:y}),V=S.keys.map((function(e,n){if(!B.has(e))return null;var t=!N.has(e),i=R.map((function(t){var i;if(!W.has(t.id))return null;var r=t.data[n];if(!r)return null;var o=function(e){var n=e.values,t=e.breaks,i=e.bandStart,r=e.bandWidth,a=e.horizontal,o=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Fp7)(n);if(o<=0)return[];var l=function(e){for(var n=0,t=e.length;0===e[n]&&n<t;)n+=1;for(;0===e[t-1]&&t>n;)t-=1;return[n,t]}(n),s=l[0],d=l[1],u=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.LM9)(n.slice(s,d),t.slice(s,d+1)),c=r/2,v=i+c,f=c/o,m=u.map((function(e){return[e[0],v+e[1]*f]})),p=u.map((function(e){return[e[0],v-e[1]*f]})).reverse(),h=m.concat(p);return a?h:h.map((function(e){return[e[1],e[0]]}))}(_extends({},r,{horizontal:C}));if(0===o.length)return null;var l=k[t.index].data[n];return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(v,_extends({key:"v-"+t.index+"-"+n,data:{id:t.id,key:e,n:null!=(i=null==l?void 0:l.n)?i:0},component:s,props:_extends({},D,{points:o,style:L[n]})},g))})).filter(Boolean);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.JjT,{role:b?"violins":void 0,visible:t,firstRender:P,children:i},"v-"+n)}));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:V})}}}]);