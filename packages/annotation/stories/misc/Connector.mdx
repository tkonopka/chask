import { ArgTypes, Canvas, Meta } from '@storybook/blocks'
import * as ConnectorStories from './Connector.stories'

<Meta of={ConnectorStories} />

# Connector

`Connector` creates a line between two positions.

<ArgTypes of={ConnectorStories} />

## Straight line

Prop `variant` toggles between various line types.
Variant `line` uses a single straight segment.

<Canvas of={ConnectorStories.Line} />

## Segmented lines

Four variants create segmented lines: `hl`, `vl`, `lh`, `lv`.
A segmented connector can start as horizontal and then bend toward the finish,
start vertical and then bend toward the finish, or start at an angle.

<Canvas of={ConnectorStories.HL} />
<Canvas of={ConnectorStories.VL} />
<Canvas of={ConnectorStories.LH} />
<Canvas of={ConnectorStories.LV} />

The position where the slope of the segmented line changes is controlled with prop `elbow` and `elbowUnit`.
The default connector uses `elbow=0.5` in relative units and places the bend in the center.
It is also possible to specify a different fraction, or specify an absolute distance.

<Canvas of={ConnectorStories.ElbowStartRelative} />
<Canvas of={ConnectorStories.ElbowStartAbsolute} />

In variants `lh` and `lv`, the value of `elbow` is interpreted to refer to the segment with fixed (horizontal/vertical) slope.

<Canvas of={ConnectorStories.ElbowEndRelative} />
<Canvas of={ConnectorStories.ElbowEndAbsolute} />

## Smoothing

Prop `beta` sets a smoothing parameter.
Smoothing uses [d3's bundle curve](https://github.com/d3/d3-shape#curveBundle) to create a shape without sharp corners.

<Canvas of={ConnectorStories.Smoothing} />

## Symmetries

Note that several of the variants are related through symmetry.
For example, a shape created by `lh` can be equivalently created with `hl` with reversed endpoints.
This redundancy is provided to accommodate higher-level components that may apply differential treatment to
starting and ending positions.
