"use strict";(self.webpackChunkchsk=self.webpackChunkchsk||[]).push([[9771],{"./packages/matrix/dist/chsk-matrix.es.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Br:()=>HeatMap,D6:()=>UpSetBar,F0:()=>UpSet,NQ:()=>HeatMapColorCircle,WL:()=>HeatMapCells,Wf:()=>isHeatMapData,_f:()=>HeatMapColorRectangle,ad:()=>HeatMapHighlight,by:()=>isUpSetData,hI:()=>UpSetGrid,iC:()=>UpSetMemberships,jE:()=>HeatMapSurface});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),framer_motion__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/framer-motion/dist/es/components/LazyMotion/index.mjs"),framer_motion__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/framer-motion/dist/es/render/dom/features-animation.mjs"),framer_motion__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/framer-motion/dist/es/render/dom/motion-minimal.mjs"),_chsk_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/core/dist/chsk-core.es.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js"),_chsk_band__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/band/dist/chsk-band.es.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},_extends.apply(this,arguments)}function _objectWithoutPropertiesLoose(e,n){if(null==e)return{};var t,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)t=a[i],n.indexOf(t)>=0||(r[t]=e[t]);return r}var Q=["container","keys","data","dataSize","scaleX","scaleY","scaleColor","scaleSize","children"],T={variant:"band",padding:0},HeatMap=function HeatMap(n){var t=n.container,i=void 0===t?_chsk_core__WEBPACK_IMPORTED_MODULE_2__.WdC:t,r=n.keys,a=n.data,s=n.dataSize,S=n.scaleX,w=void 0===S?T:S,j=n.scaleY,_=void 0===j?T:j,C=n.scaleColor,M=n.scaleSize,R=void 0===M?_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Ooi:M,A=n.children,B=_objectWithoutPropertiesLoose(n,Q),D=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.FgM)(),I=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.uK4)(i),O=I.dimsProps,P=I.origin,V=I.innerSize,L=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.snp)(a)}),[a]),E=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return a.map((function(e){return e.id}))}),[a]),W=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return function(e,n,t){var i=e.map((function(e){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.wIU)(e)})),r=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.snp)(t);return n.map((function(e,n){var a=e.id,o=r[a],l=void 0!==o&&void 0!==t?t[o]:{id:a};return{id:a,index:n,value:i.map((function(n){return n(e)})),size:i.map((function(e){return Number(e(l))}))}}))}(r,a,s)}),[r,a,s]),F=function(e,n,t,i,r){var a={x:(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.BRZ)(t),y:(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.BRZ)(i)};return a.x.domain=n,a.x.size=r[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.X],a.y.domain=e,a.y.size=r[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Y],a}(E,r,w,_,V),X=F.x,Y=F.y,U=function(e,n){if("categorical"===n.variant){var t=new Set(e.map((function(e){return e.value})).flat().map(String));return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.NVB)(n,Array.from(t))}var i=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.FG_)(e.map((function(e){return e.value})).flat().map(Number).filter(isFinite));return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.NVB)(n,i)}(W,null!=C?C:D.Colors.sequential),q=function(e,n,t,i,r){var a=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Fp7)(e.map((function(e){return e.size})).flat()),o=Math.min(t[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Y]/i.length,t[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.X]/r.length)/2;return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__._C2)(n,a,o)}(W,R,V,E,r),H=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.cT_)({x:X,y:Y,color:U,size:q});return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_2__.PzT,_extends({variant:"heatmap",position:P,size:O.size,padding:O.padding,originalData:a,processedData:W,seriesIndexes:L,keys:r,scalesContextValue:H},B,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(framer_motion__WEBPACK_IMPORTED_MODULE_3__.X,{features:framer_motion__WEBPACK_IMPORTED_MODULE_4__.H,children:A})}))},isHeatMapData=function isHeatMapData(e){return e.map((function(e){return"object"==typeof e&&null!==e&&"id"in e})).every(Boolean)},isHeatMapSetting=function isHeatMapSetting(e,n){return function isHeatMapProcessedData(e){return e.map((function(e){return"object"==typeof e&&null!==e&&"id"in e&&"index"in e&&"value"in e&&"size"in e})).every(Boolean)}(e)&&(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.y7R)(n.x)&&(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.y7R)(n.y)},HeatMapRectangle=function HeatMapRectangle(e){var n=e.x,t=e.y,i=e.width,r=e.height,a=e.className,o=e.style;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("rect",{x:n-i/2,y:t-r/2,height:r,width:i,role:void 0,style:o,className:a})},HeatMapCells=function HeatMapCells(t){var i=t.ids,r=t.keys,a=t.cells,o=t.cell,l=void 0===o?HeatMapRectangle:o,s=t.scaleColor,c=t.scaleSize,d=t.className,f=t.style,h=t.children,m=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.wIO)(),v=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.kE1)(),y=v.scales,p=m.data;if(!isHeatMapSetting(p,y))return null;var g=s?(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.rio)(s):y.color,x=c?(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Pur)(c):y.size,b=x(x.domain()[1]),z=isFinite(b),k=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.pP)(i,r,m)}),[i,r,m]),N=k.idSet,S=k.keySet,D=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return function(e,n,t){var i={};return e?e.forEach((function(e){var n=e[0],t=e[1];i[n]||(i[n]=new Set),i[n].add(t)})):Array.from(n).forEach((function(e){i[e]=t})),function(e,n){return!!i[e]&&i[e].has(n)}}(a,N,S)}),[a,N,S]),I=y.x,O=y.y,P=m.keys.map((function(e){return I(e)})),V=y.x.bandwidth(),L=y.y.bandwidth(),E=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.gjB)("cell",d),W=V/L,F=p.map((function(e){if(!N.has(e.id))return null;var t=O(e.id),i=e.value,r=e.size;return e.value.map((function(a,o){if(!D(e.id,m.keys[o]))return null;var s=g(i[o]),u=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.hIX)(f,s),c=2*(isFinite(r[o])?x(r[o]):b);return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(l,{key:"cell-"+e.index+"-"+o,x:P[o],y:t,width:z?W>1?c*W:c:V,height:z?W>1?c:c/W:L,cellValue:i[o],cellSize:r[o],className:E,style:u,center:!0,setRole:!1})}))})).flat().filter(Boolean);if(0===F.length&&!h)return null;var X=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.BRZ)(v);return X.scales.color=g,(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)("g",{role:"heatmap-cells",children:[F,(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_2__.irH,{value:X,children:h},"provider")]})},HeatMapColorCircle=function HeatMapColorCircle(e){var n=e.x,t=e.y,i=e.width,r=e.height,a=e.className,o=e.style,l={fill:null==o?void 0:o.fill,r:Math.min(i,r)/2};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(framer_motion__WEBPACK_IMPORTED_MODULE_5__.m.circle,{initial:l,animate:l,role:void 0,cx:n,cy:t,style:_extends({},o,{fill:void 0}),className:a})},HeatMapColorRectangle=function HeatMapColorRectangle(e){var n=e.x,t=e.y,i=e.width,r=e.height,a=e.className,o=e.style,l={fill:null==o?void 0:o.fill};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(framer_motion__WEBPACK_IMPORTED_MODULE_5__.m.rect,{initial:l,animate:l,role:void 0,x:n-i/2,y:t-r/2,height:r,width:i,style:_extends({},o,{fill:void 0}),className:a})},HeatMapHighlightMask=function HeatMapHighlightMask(e,n,t,i,r){var a=n[0],o=n[1],l={initial:r?{width:0,height:0}:void 0,style:t,className:i};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(framer_motion__WEBPACK_IMPORTED_MODULE_5__.m.rect,_extends({animate:{width:(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.UYe)(e[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.X][0]),height:(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.UYe)(e[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Y][0])}},l),"top-left"),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(framer_motion__WEBPACK_IMPORTED_MODULE_5__.m.rect,_extends({transform:"translate("+a+",0)rotate(90)",animate:{height:(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.UYe)(a-e[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.X][1]),width:(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.UYe)(e[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Y][0])}},l),"top-right"),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(framer_motion__WEBPACK_IMPORTED_MODULE_5__.m.rect,_extends({transform:"translate(0,"+o+")rotate(-90)",animate:{width:(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.UYe)(o-e[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Y][1]),height:(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.UYe)(e[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.X][0])}},l),"bottom-left"),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(framer_motion__WEBPACK_IMPORTED_MODULE_5__.m.rect,_extends({transform:"translate("+a+","+o+")rotate(180)",animate:{width:(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.UYe)(a-e[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.X][1]),height:(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.UYe)(o-e[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Y][1])}},l),"bottom-right")]})},HeatMapHighlight=function HeatMapHighlight(n){var o=n.ids,l=n.keys,s=n.interactive,u=void 0===s||s,f=n.edgeAnimation,m=void 0!==f&&f,v=n.tooltipAlign,y=void 0===v?[.5,.5]:v,p=n.className,g=n.setRole,x=void 0===g||g,b=n.style,z=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.wIO)(),k=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.kE1)().scales,N=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Bs9)().size,S=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),_=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),C=_[0],A=_[1],B=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.lLG)().setData,F=z.data;if(!isHeatMapSetting(F,k))return null;var X=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.pP)(o,l,z)}),[o,l,z]),Y=X.idSet,U=X.keySet,q=X.idArray,J=X.keyArray,K=k.x,Q=k.y,T=k.color,Z=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return function(e,n,t,i){return[(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Ax7)(e,i),(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Ax7)(n,t)]}(K,Q,Y,U)}),[K,Q,Y,U]);(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){if(!u){var e=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.FG_)(Z[0]),n=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.FG_)(Z[1]);A([e,n])}}),[Z,A]);var $=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(){A(null),B({})}),[A,B]),ee=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(e){if(null!==S&&null!==S.current){var n=S.current.getBoundingClientRect(),t=n.x,i=n.y,r=[e.clientX-t,e.clientY-i];if(!(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.sn2)(r,C)){var a=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.CXu)(r,Z),o=a.indexes,l=a.zone;if(null!==l){var s=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.ueV)([l[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.X][0],l[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Y][0]],(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.gCP)(l),y),u=s[0],f=s[1],h=o[0],m=o[1],v=q[m],p=J[h],g=F[m].value[h],x=F[m].size[h],b={id:v,key:p,value:g,size:x,label:(null===g||isNaN(Number(g))?"":"value: "+g)+" "+(null===x||isNaN(Number(x))?"":"size: "+x),color:T(g)};B({x:u,y:f,title:v+", "+p,data:[b]}),A(l)}else $()}}}),[Z,S,C,A]),ne=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("rect",{ref:S,role:x?"heatmap-detector":void 0,width:N[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.X],height:N[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Y],style:{opacity:0},onMouseMove:ee,onMouseLeave:$}),te=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.gjB)("heatmap-highlight",p);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)("g",{role:"heatmap-highlight",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_2__.JjT,{role:x?"heatmap-highlight-mask":void 0,visible:null!==C,firstRender:!1,children:null===C?null:HeatMapHighlightMask(C,N,b,te,m)},"heatmap-highlight-mask"),u?ne:null]})},getInterval=function getInterval(e,n,t){var i=n.bandwidth(),r=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.FG_)(Array.from(e).map(n));return[r[0]-t[0]*i,r[1]+t[1]*i]},HeatMapSurface=function HeatMapSurface(n){var t=n.ids,i=n.keys,r=n.expansion,a=void 0===r?[[0,0],[0,0]]:r,o=n.className,l=n.setRole,u=void 0!==l&&l,c=n.style,d=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.wIO)(),f=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.kE1)().scales,h=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.pP)(t,i,d)}),[t,i,d]),m=h.idSet,v=h.keySet;if(0===m.size||0===v.size)return null;var y=getInterval(m,f.y,a[0]),p=getInterval(v,f.x,a[1]),g=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.gjB)("heatmapSurface",o);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("g",{role:"heatmap-surface",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(framer_motion__WEBPACK_IMPORTED_MODULE_5__.m.rect,{x:p[0],width:p[1]-p[0],y:y[0],height:y[1]-y[0],role:u?"heatmap-surface":void 0,className:g,style:c},"surface-"+Array.from(m).join(",")+"-"+Array.from(v).join(","))})},Z=["container","data","horizontal","scaleIndex","scaleMembership","scaleColor","children"],$={variant:"band",padding:.25},UpSet=function UpSet(n){var t=n.container,i=void 0===t?_chsk_core__WEBPACK_IMPORTED_MODULE_2__.WdC:t,r=n.data,a=n.horizontal,s=void 0===a||a,h=n.scaleIndex,m=void 0===h?$:h,v=n.scaleMembership,z=void 0===v?$:v,N=n.scaleColor,S=n.children,w=_objectWithoutPropertiesLoose(n,Z),j=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.FgM)(),_=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.uK4)(i),C=_.dimsProps,M=_.origin,R=_.innerSize,A=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.snp)(r)}),[r]),B=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return r.map((function(e){return e.id}))}),[r]),D=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return function(e,n,t){var i={};e.map((function(e,n){var t=1<<n;new Set(e.data).forEach((function(e){var n=String(e);i[n]||(i[n]=0),i[n]+=t}))}));var r=Array(Math.pow(2,e.length)).fill(0);Object.values(i).forEach((function(e){r[e]+=1}));var a=r.map((function(e,n){return e?[n,e]:null})).filter(Boolean);return a.sort((function(e,n){return n[1]-e[1]})),{keys:a.map((function(e){return String(e[0])})),processedData:e.map((function(e,n){var i=e.id,r=1<<n;return{id:i,index:n,horizontal:t,data:a.map((function(e){return(e[0]&r)>0?e[1]:0}))}}))}}(r,0,s)}),[r,B,s]),I=D.keys,O=D.processedData,P=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return function(e,n,t,i,r,a){var o=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.BRZ)(i);o.domain=e;var l=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.BRZ)(r);l.domain=n;var s={x:t?l:o,y:t?o:l};return s.x.size=a[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.X],s.y.size=a[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Y],s}(B,I,s,m,z,R)}),[B,I,s,m,z,C]),V=P.x,L=P.y,E=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.NVB)(null!=N?N:j.Colors.categorical,[""]),W=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.cT_)({x:V,y:L,color:E});return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_2__.PzT,_extends({variant:"upset",position:M,size:C.size,padding:C.padding,originalData:r,processedData:O,seriesIndexes:A,keys:I,scalesContextValue:W},w,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(framer_motion__WEBPACK_IMPORTED_MODULE_3__.X,{features:framer_motion__WEBPACK_IMPORTED_MODULE_4__.H,children:S})}))},isUpSetData=function isUpSetData(e){return e.map((function(e){return"object"==typeof e&&null!==e&&"id"in e&&"data"in e})).every(Boolean)},isUpSetProcessedData=function isUpSetProcessedData(e){return e.map((function(e){return"object"==typeof e&&null!==e&&"id"in e&&"index"in e&&"data"in e})).every(Boolean)},ee=["size","padding","scaleIndex","scaleValue","scaleColor","children"],UpSetBar=function UpSetBar(n){var t=n.size,i=n.padding,r=void 0===i?[0,0,0,0]:i,a=n.scaleIndex,o=void 0===a?_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Us:a,l=n.scaleValue,s=void 0===l?_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Tx9:l,u=n.scaleColor,f=n.children,h=_objectWithoutPropertiesLoose(n,ee),m=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.wIO)(),v=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Bs9)(),y=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.kE1)().scales,p=m.data;if(!isUpSetProcessedData(p)||0==p.length)return null;var g=p[0].horizontal,x=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return function(e,n){var t=[];return n.map((function(n,i){var r=0;e.map((function(e){e.data[i]&&(r=e.data[i])})),t.push({id:n,value:r})})),t}(p,m.keys)}),[p,m]),b=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return function(e,n,t){return{position:e?[0,-n]:[t[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.X],0],size:e?[t[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.X],n]:[n,t[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Y]]}}(g,t,v.size)}),[g,v]),z={position:b.position,positionUnits:"absolute",size:b.size,sizeUnits:"absolute",padding:r};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_band__WEBPACK_IMPORTED_MODULE_6__.$Q,_extends({container:z,data:x,keys:["value"],horizontal:!g,scaleIndex:o,scaleValue:s,scaleColor:null!=u?u:{variant:"categorical",domain:y.color.domain(),colors:[y.color(0)]}},h,{children:f}))},UpSetGrid=function UpSetGrid(e){var t=e.symbol,i=void 0===t?_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Cdc:t,r=e.symbolStyle,a=e.className,o=e.setRole,l=void 0!==o&&o,s=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.wIO)(),u=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.kE1)().scales,c=s.data;if(!isUpSetProcessedData(c)||0==c.length)return null;var d=c[0].horizontal,f=d?u.y:u.x,h=d?u.x:u.y,m=Math.min(f.bandwidth(),h.bandwidth())/2,v=f.domain().map((function(e,t){var o=f(e);return h.domain().map((function(e,s){var u=h(e);return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(i,{key:"cell-"+t+"-"+s,cx:d?u:o,cy:d?o:u,r:m,className:a,style:r,setRole:l})}))})).flat().filter(Boolean);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("g",{role:"upset-grid",children:v})},UpSetMembership=function UpSetMembership(e){var t=e.positions,i=e.r,r=e.symbol,a=void 0===r?_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Cdc:r,o=e.line,l=void 0===o?_chsk_core__WEBPACK_IMPORTED_MODULE_2__.x12:o,s=e.symbolStyle,u=e.lineStyle,f=e.className,m=e.setRole,v=void 0!==m&&m,y=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.FG_)(t.map((function(e){return e[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.X]}))),p=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.FG_)(t.map((function(e){return e[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Y]}))),g=y[0]!=y[1]||p[0]!=p[1],x=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.gjB)("upSetMembership",f),b=(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(l,{key:"line",x1:y[0],x2:y[1],y1:p[0],y2:p[1],style:u,className:x,setRole:v}),z=t.map((function(e,t){return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(a,{key:"symbol-"+t,cx:e[0],cy:e[1],r:i,style:s,className:x,setRole:v})}));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)("g",{role:"upset-membership",children:[g?b:null,z]})},UpSetMemberships=function UpSetMemberships(e){var t=e.component,i=void 0===t?UpSetMembership:t,r=e.symbol,a=e.line,o=e.symbolStyle,l=e.lineStyle,s=e.style,u=e.className,c=e.setRole,d=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.wIO)(),f=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.kE1)().scales,h=d.data;if(!isUpSetProcessedData(h)||0==h.length)return null;var m=h[0].horizontal,v=m?f.y:f.x,y=m?f.x:f.y,p=f.color,g=Math.min(v.bandwidth(),y.bandwidth())/2,x=h.map((function(e){return e.id})),b=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.hIX)(o,p("")),z=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.hIX)(l,p("")),k=d.keys.map((function(e,t){var o=[];return x.map((function(n,i){h[i].data[t]>0&&o.push([v(n),y(e)])})),m&&(o=o.map((function(e){return[e[1],e[0]]}))),(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(i,{key:"membership-"+e,positions:o,r:g,symbol:r,symbolStyle:b,line:a,lineStyle:z,className:u,setRole:c})}));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("g",{role:"upset-memberships",style:s,children:k})}}}]);