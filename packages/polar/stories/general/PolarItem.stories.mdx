import { ArgsTable, Canvas, Meta, Source, Story } from '@storybook/addon-docs'
import { Surface } from '@chsk/core'
import { PolarItem } from '../../src'
import { ChartOriginDecorator } from './decorators'

# PolarItem

<Meta title="Addons/Polar/Polar/PolarItem" />

export const Template = args => <PolarItem {...args} />

`PolarItem` positions and animates an arbitrary component on a polar chart.

<ArgsTable of={PolarItem} />

## Position

By default, `PolarItem` places its content at the local origin.
Prop `position` specifies an alternate position in the form of a radius (in pixels) and an angle.
Angles can be specified in radians or degrees, with the unit declared using prop `angleUnit`.

<Canvas>
    <Story
        name="origin"
        args={{
            position: [0, 0],
            children: <text>label</text>,
        }}
        component={PolarItem}
        decorators={[ChartOriginDecorator]}
    >
        {Template.bind({})}
    </Story>
    <Story
        name="two o clock"
        args={{
            position: [100, 60],
            angleUnit: 'degrees',
            children: <text>label</text>,
        }}
        component={PolarItem}
        decorators={[ChartOriginDecorator]}
    >
        {Template.bind({})}
    </Story>
</Canvas>

## Orientation

`PolarItem` orient text horizontally by default.
Flags `radial` and `tangential` rotate the labels based on their position along the circle.

<Canvas>
    <Story
        name="radial"
        args={{
            radial: true,
            position: [100, 60],
            angleUnit: 'degrees',
            children: <text>label</text>,
        }}
        component={PolarItem}
        decorators={[ChartOriginDecorator]}
    >
        {Template.bind({})}
    </Story>
    <Story
        name="tangential"
        args={{
            tangential: true,
            position: [100, 60],
            angleUnit: 'degrees',
            children: <text>label</text>,
        }}
        component={PolarItem}
        decorators={[ChartOriginDecorator]}
    >
        {Template.bind({})}
    </Story>
</Canvas>

Note that `PolarItem` automatically adjust rotations for radial and tangential content:
radial labels are rotated differently in the left and right hemispheres;
tangential labels are rotated different in the top and bottom hemisphere.

<Canvas>
    <Story
        name="radial, left hemisphere"
        args={{
            radial: true,
            position: [100, -60],
            angleUnit: 'degrees',
            children: <text>label</text>,
        }}
        component={PolarItem}
        decorators={[ChartOriginDecorator]}
    >
        {Template.bind({})}
    </Story>
    <Story
        name="tangent, bottom hemisphere"
        args={{
            tangential: true,
            position: [100, 120],
            angleUnit: 'degrees',
            children: <text>label</text>,
        }}
        component={PolarItem}
        decorators={[ChartOriginDecorator]}
    >
        {Template.bind({})}
    </Story>
</Canvas>

Note that labels in the right and left hemispheres may require different alignments (css style `textAnchor`).
