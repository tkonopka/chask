"use strict";(self.webpackChunkchsk=self.webpackChunkchsk||[]).push([[130],{"./packages/polar/src/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{aP:()=>Origin_Origin,by:()=>Pie_Pie,V3:()=>PolarItem_PolarItem,p2:()=>Slice_Slice,wt:()=>SliceLabel_SliceLabel,XM:()=>SliceLabels_SliceLabels,id:()=>Slices_Slices});var motion_minimal=__webpack_require__("./node_modules/framer-motion/dist/es/render/dom/motion-minimal.mjs"),chsk_core_es=__webpack_require__("./packages/core/dist/chsk-core.es.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),Origin_Origin=function Origin(_ref){var _ref$setRole=_ref.setRole,setRole=void 0===_ref$setRole||_ref$setRole,className=_ref.className,style=_ref.style,children=_ref.children,scales=(0,chsk_core_es.kE1)().scales,xScale=scales.x,yScale=scales.y,config={x:xScale(0),y:yScale(0),originX:"0px",originY:"0px"},compositeClassName=(0,chsk_core_es.gjB)("origin",className);return(0,jsx_runtime.jsx)(motion_minimal.m.g,{initial:config,animate:config,role:setRole?"origin":void 0,style,className:compositeClassName,children})};Origin_Origin.displayName="Origin";try{Origin_Origin.displayName="Origin",Origin_Origin.__docgenInfo={description:"",displayName:"Origin",props:{className:{defaultValue:null,description:"class string",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"css style",name:"style",required:!1,type:{name:"Partial<CSSProperties>"}},setRole:{defaultValue:{value:"true"},description:"toggle role attribute in svg code",name:"setRole",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/polar/src/general/Origin.tsx#Origin"]={docgenInfo:Origin_Origin.__docgenInfo,name:"Origin",path:"packages/polar/src/general/Origin.tsx#Origin"})}catch(__react_docgen_typescript_loader_error){}var use_motion_value=__webpack_require__("./node_modules/framer-motion/dist/es/value/use-motion-value.mjs"),animate=__webpack_require__("./node_modules/framer-motion/dist/es/animation/animate.mjs"),react=__webpack_require__("./node_modules/react/index.js"),value=__webpack_require__("./node_modules/d3-interpolate/src/value.js"),TWOPI=2*Math.PI,HALFPI=Math.PI/2;function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}var getTransform=function getTransform(x,y,degrees){return"translateX("+x+"px) translateY("+y+"px) rotate("+degrees+"deg)"},PolarItem_PolarItem=function PolarItem(_ref){var _ref$variant=_ref.variant,variant=void 0===_ref$variant?"default":_ref$variant,_ref$position=_ref.position,position=void 0===_ref$position?chsk_core_es.rv1:_ref$position,_ref$angleUnit=_ref.angleUnit,angleUnit=void 0===_ref$angleUnit?"radian":_ref$angleUnit,radial=_ref.radial,tangential=_ref.tangential,_ref$setRole=_ref.setRole,setRole=void 0===_ref$setRole||_ref$setRole,children=_ref.children,theme=(0,chsk_core_es.FgM)(),isRadians="radian"===angleUnit,r=position[0],theta=isRadians?position[1]:(0,chsk_core_es.VlM)(position[1]),x=r*Math.sin(theta),y=-r*Math.cos(theta),angle=0;radial?angle+=theta-HALFPI:tangential&&(angle+=theta),angle%=TWOPI,(radial&&(theta<0||theta>Math.PI)||tangential&&(theta<-HALFPI||theta>HALFPI))&&(angle+=Math.PI),angle=(0,chsk_core_es.BVy)(angle%TWOPI);var _useState=(0,react.useState)([r,theta,angle]),values=_useState[0],setValues=_useState[1],_useState2=(0,react.useState)(!1),working=_useState2[0],setWorking=_useState2[1],transform=(0,use_motion_value.c)(getTransform(x,y,angle));if(!children)return null;if(transform.get()!==getTransform(x,y,angle)&&!working){var animateConfig=theme.Motion.default,interpolator=(0,value.Z)(values,[r,theta,angle]);(0,animate.j)(0,1,_extends({},animateConfig,{onPlay:function onPlay(){setWorking(!0)},onUpdate:function onUpdate(latest){var _interpolator=interpolator(latest),rLatest=_interpolator[0],thetaLatest=_interpolator[1],angleLatest=_interpolator[2],latestX=rLatest*Math.sin(thetaLatest),latestY=-rLatest*Math.cos(thetaLatest);transform.set(getTransform(latestX,latestY,angleLatest))},onComplete:function onComplete(){setValues([r,theta,angle]),setWorking(!1)}}))}return(0,jsx_runtime.jsx)(motion_minimal.m.g,{role:setRole&&"default"!==variant?variant:void 0,style:{transform},children})};PolarItem_PolarItem.displayName="PolarItem";try{PolarItem_PolarItem.displayName="PolarItem",PolarItem_PolarItem.__docgenInfo={description:"",displayName:"PolarItem",props:{position:{defaultValue:null,description:"position in polar coordinates [radius, angle]",name:"position",required:!1,type:{name:"NumericPositionSpec"}},angleUnit:{defaultValue:{value:"radian"},description:"angle units",name:"angleUnit",required:!1,type:{name:"enum",value:[{value:'"degree"'},{value:'"radian"'}]}},radial:{defaultValue:null,description:"flag, orient text radially",name:"radial",required:!1,type:{name:"boolean"}},tangential:{defaultValue:null,description:"flag, orient text tangentially",name:"tangential",required:!1,type:{name:"boolean"}},children:{defaultValue:null,description:"children",name:"children",required:!1,type:{name:"ReactNode"}},variant:{defaultValue:{value:"default"},description:"variant",name:"variant",required:!1,type:{name:"string"}},setRole:{defaultValue:{value:"true"},description:"toggle role attribute in svg code",name:"setRole",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/polar/src/general/PolarItem.tsx#PolarItem"]={docgenInfo:PolarItem_PolarItem.__docgenInfo,name:"PolarItem",path:"packages/polar/src/general/PolarItem.tsx#PolarItem"})}catch(__react_docgen_typescript_loader_error){}try{Origin.displayName="Origin",Origin.__docgenInfo={description:"",displayName:"Origin",props:{className:{defaultValue:null,description:"class string",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"css style",name:"style",required:!1,type:{name:"Partial<CSSProperties>"}},setRole:{defaultValue:{value:"true"},description:"toggle role attribute in svg code",name:"setRole",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/polar/src/general/index.tsx#Origin"]={docgenInfo:Origin.__docgenInfo,name:"Origin",path:"packages/polar/src/general/index.tsx#Origin"})}catch(__react_docgen_typescript_loader_error){}try{PolarItem.displayName="PolarItem",PolarItem.__docgenInfo={description:"",displayName:"PolarItem",props:{position:{defaultValue:null,description:"position in polar coordinates [radius, angle]",name:"position",required:!1,type:{name:"NumericPositionSpec"}},angleUnit:{defaultValue:{value:"radian"},description:"angle units",name:"angleUnit",required:!1,type:{name:"enum",value:[{value:'"degree"'},{value:'"radian"'}]}},radial:{defaultValue:null,description:"flag, orient text radially",name:"radial",required:!1,type:{name:"boolean"}},tangential:{defaultValue:null,description:"flag, orient text tangentially",name:"tangential",required:!1,type:{name:"boolean"}},children:{defaultValue:null,description:"children",name:"children",required:!1,type:{name:"ReactNode"}},variant:{defaultValue:{value:"default"},description:"variant",name:"variant",required:!1,type:{name:"string"}},setRole:{defaultValue:{value:"true"},description:"toggle role attribute in svg code",name:"setRole",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/polar/src/general/index.tsx#PolarItem"]={docgenInfo:PolarItem.__docgenInfo,name:"PolarItem",path:"packages/polar/src/general/index.tsx#PolarItem"})}catch(__react_docgen_typescript_loader_error){}var LazyMotion=__webpack_require__("./node_modules/framer-motion/dist/es/components/LazyMotion/index.mjs"),features_animation=__webpack_require__("./node_modules/framer-motion/dist/es/render/dom/features-animation.mjs"),lodash=__webpack_require__("./node_modules/lodash/lodash.js"),_excluded=["container","data","angle","angleUnit","angleAlign","rOuter","rInner","scaleX","scaleY","scaleColor","children"];function Pie_extends(){return Pie_extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},Pie_extends.apply(this,arguments)}var defaultPolarScaleSpec={variant:"linear",domain:[-1,1],nice:!1},Pie_Pie=function Pie(_ref){var _ref$container=_ref.container,container=void 0===_ref$container?chsk_core_es.WdC:_ref$container,data=_ref.data,_ref$angle=_ref.angle,angle=void 0===_ref$angle?0:_ref$angle,_ref$angleUnit=_ref.angleUnit,angleUnit=void 0===_ref$angleUnit?"degree":_ref$angleUnit,_ref$angleAlign=_ref.angleAlign,angleAlign=void 0===_ref$angleAlign?0:_ref$angleAlign,_ref$rOuter=_ref.rOuter,rOuter=void 0===_ref$rOuter?1:_ref$rOuter,_ref$rInner=_ref.rInner,rInner=void 0===_ref$rInner?0:_ref$rInner,_ref$scaleX=_ref.scaleX,scaleX=void 0===_ref$scaleX?defaultPolarScaleSpec:_ref$scaleX,_ref$scaleY=_ref.scaleY,scaleY=void 0===_ref$scaleY?defaultPolarScaleSpec:_ref$scaleY,scaleColor=_ref.scaleColor,children=_ref.children,props=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(_ref,_excluded),theme=(0,chsk_core_es.FgM)(),_useContainer=(0,chsk_core_es.uK4)(container),dimsProps=_useContainer.dimsProps,origin=_useContainer.origin,innerSize=_useContainer.innerSize,seriesIds=(0,react.useMemo)((function(){return data.map((function(item){return item.id}))}),[data]),seriesIndexes=(0,react.useMemo)((function(){return(0,chsk_core_es.snp)(data)}),[data]),processedData=(0,react.useMemo)((function(){return function processData(data,angle,unit,align,rInner,rOuter){var values=data.map((function(seriesData){return Math.max(0,seriesData.data)})),total=values.reduce((function(acc,v){return acc+v}),0),start=0,offset="radian"===unit?angle:(0,chsk_core_es.VlM)(angle);return data.map((function(seriesData,index){var proportion=values[index]/total,startAngle=start,endAngle=start+2*proportion*Math.PI;if(0===index){var firstOffset=offset-(endAngle-startAngle)*align;startAngle+=firstOffset,endAngle+=firstOffset}return start=endAngle,{id:seriesData.id,index,data:values[index],proportion,startAngle,endAngle,rInner,rOuter}}))}(data,angle,angleUnit,angleAlign,rInner,rOuter)}),[data,angle,angleUnit,angleAlign,rInner,rOuter]),_useMemo=(0,react.useMemo)((function(){return function getPieXYScaleProps(scaleSpecX,scaleSpecY,size){var result={x:(0,lodash.cloneDeep)(scaleSpecX),y:(0,lodash.cloneDeep)(scaleSpecY)};return(0,chsk_core_es.HBl)(scaleSpecX)||(result.x=(0,chsk_core_es.zAC)(scaleSpecX,[-1,1])),(0,chsk_core_es.HBl)(scaleSpecY)||(result.y=(0,chsk_core_es.zAC)(scaleSpecY,[-1,1])),result.x.size=size[chsk_core_es.X],result.y.size=size[chsk_core_es.Y],(0,chsk_core_es.vO5)(result.x,result.y)}(scaleX,scaleY,innerSize)}),[scaleX,scaleY,innerSize]),xProps=_useMemo.x,yProps=_useMemo.y,colorProps=(0,react.useMemo)((function(){return(0,chsk_core_es.NVB)(null!=scaleColor?scaleColor:theme.Colors.categorical,seriesIds)}),[scaleColor,theme,seriesIds]),scalesContextValue=(0,chsk_core_es.cT_)({x:xProps,y:yProps,color:colorProps});return(0,jsx_runtime.jsx)(chsk_core_es.PzT,Pie_extends({variant:"pie",position:origin,size:dimsProps.size,padding:dimsProps.padding,originalData:data,processedData,seriesIndexes,keys:seriesIds,scalesContextValue},props,{children:(0,jsx_runtime.jsx)(LazyMotion.X,{features:features_animation.H,children})}))};Pie_Pie.displayName="Pie";try{Pie_Pie.displayName="Pie",Pie_Pie.__docgenInfo={description:"",displayName:"Pie",props:{data:{defaultValue:null,description:"primary data (used for color scale)",name:"data",required:!0,type:{name:"PieDataItem[]"}},angle:{defaultValue:{value:"0"},description:"global rotation",name:"angle",required:!1,type:{name:"number"}},angleUnit:{defaultValue:{value:"degree"},description:"angle unit",name:"angleUnit",required:!1,type:{name:"enum",value:[{value:'"degree"'},{value:'"radian"'}]}},angleAlign:{defaultValue:{value:"0"},description:"angle alignment for first slice",name:"angleAlign",required:!1,type:{name:"number"}},rOuter:{defaultValue:{value:"1"},description:"outer radius",name:"rOuter",required:!1,type:{name:"number"}},rInner:{defaultValue:{value:"0"},description:"inner radius",name:"rInner",required:!1,type:{name:"number"}},scaleX:{defaultValue:{value:"{\n    variant: 'linear',\n    domain: [-1, 1],\n    nice: false,\n}"},description:"scale for horizontal axis",name:"scaleX",required:!1,type:{name:"LinearScaleSpec"}},scaleY:{defaultValue:{value:"{\n    variant: 'linear',\n    domain: [-1, 1],\n    nice: false,\n}"},description:"scale for vertical axis",name:"scaleY",required:!1,type:{name:"LinearScaleSpec"}},scaleColor:{defaultValue:null,description:"scale for colors",name:"scaleColor",required:!1,type:{name:"CategoricalScaleSpec"}},className:{defaultValue:null,description:"class string",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"css style",name:"style",required:!1,type:{name:"Partial<CSSProperties>"}},setRole:{defaultValue:null,description:"toggle role attribute in svg code",name:"setRole",required:!1,type:{name:"boolean"}},children:{defaultValue:null,description:"children",name:"children",required:!1,type:{name:"ReactNode"}},container:{defaultValue:null,description:"position and size for bounding container",name:"container",required:!1,type:{name:"ContainerProps"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/polar/src/pie/Pie.tsx#Pie"]={docgenInfo:Pie_Pie.__docgenInfo,name:"Pie",path:"packages/polar/src/pie/Pie.tsx#Pie"})}catch(__react_docgen_typescript_loader_error){}var constant=__webpack_require__("./node_modules/d3-shape/src/constant.js"),math=__webpack_require__("./node_modules/d3-shape/src/math.js"),src_path=__webpack_require__("./node_modules/d3-shape/src/path.js");function arcInnerRadius(d){return d.innerRadius}function arcOuterRadius(d){return d.outerRadius}function arcStartAngle(d){return d.startAngle}function arcEndAngle(d){return d.endAngle}function arcPadAngle(d){return d&&d.padAngle}function cornerTangents(x0,y0,x1,y1,r1,rc,cw){var x01=x0-x1,y01=y0-y1,lo=(cw?rc:-rc)/(0,math._b)(x01*x01+y01*y01),ox=lo*y01,oy=-lo*x01,x11=x0+ox,y11=y0+oy,x10=x1+ox,y10=y1+oy,x00=(x11+x10)/2,y00=(y11+y10)/2,dx=x10-x11,dy=y10-y11,d2=dx*dx+dy*dy,r=r1-rc,D=x11*y10-x10*y11,d=(dy<0?-1:1)*(0,math._b)((0,math.Fp)(0,r*r*d2-D*D)),cx0=(D*dy-dx*d)/d2,cy0=(-D*dx-dy*d)/d2,cx1=(D*dy+dx*d)/d2,cy1=(-D*dx+dy*d)/d2,dx0=cx0-x00,dy0=cy0-y00,dx1=cx1-x00,dy1=cy1-y00;return dx0*dx0+dy0*dy0>dx1*dx1+dy1*dy1&&(cx0=cx1,cy0=cy1),{cx:cx0,cy:cy0,x01:-ox,y01:-oy,x11:cx0*(r1/r-1),y11:cy0*(r1/r-1)}}function arc(){var innerRadius=arcInnerRadius,outerRadius=arcOuterRadius,cornerRadius=(0,constant.Z)(0),padRadius=null,startAngle=arcStartAngle,endAngle=arcEndAngle,padAngle=arcPadAngle,context=null,path=(0,src_path.d)(arc);function arc(){var buffer,r,r0=+innerRadius.apply(this,arguments),r1=+outerRadius.apply(this,arguments),a0=startAngle.apply(this,arguments)-math.ou,a1=endAngle.apply(this,arguments)-math.ou,da=(0,math.Wn)(a1-a0),cw=a1>a0;if(context||(context=buffer=path()),r1<r0&&(r=r1,r1=r0,r0=r),r1>math.Ho)if(da>math.BZ-math.Ho)context.moveTo(r1*(0,math.mC)(a0),r1*(0,math.O$)(a0)),context.arc(0,0,r1,a0,a1,!cw),r0>math.Ho&&(context.moveTo(r0*(0,math.mC)(a1),r0*(0,math.O$)(a1)),context.arc(0,0,r0,a1,a0,cw));else{var t0,t1,a01=a0,a11=a1,a00=a0,a10=a1,da0=da,da1=da,ap=padAngle.apply(this,arguments)/2,rp=ap>math.Ho&&(padRadius?+padRadius.apply(this,arguments):(0,math._b)(r0*r0+r1*r1)),rc=(0,math.VV)((0,math.Wn)(r1-r0)/2,+cornerRadius.apply(this,arguments)),rc0=rc,rc1=rc;if(rp>math.Ho){var p0=(0,math.ZR)(rp/r0*(0,math.O$)(ap)),p1=(0,math.ZR)(rp/r1*(0,math.O$)(ap));(da0-=2*p0)>math.Ho?(a00+=p0*=cw?1:-1,a10-=p0):(da0=0,a00=a10=(a0+a1)/2),(da1-=2*p1)>math.Ho?(a01+=p1*=cw?1:-1,a11-=p1):(da1=0,a01=a11=(a0+a1)/2)}var x01=r1*(0,math.mC)(a01),y01=r1*(0,math.O$)(a01),x10=r0*(0,math.mC)(a10),y10=r0*(0,math.O$)(a10);if(rc>math.Ho){var oc,x11=r1*(0,math.mC)(a11),y11=r1*(0,math.O$)(a11),x00=r0*(0,math.mC)(a00),y00=r0*(0,math.O$)(a00);if(da<math.pi)if(oc=function intersect(x0,y0,x1,y1,x2,y2,x3,y3){var x10=x1-x0,y10=y1-y0,x32=x3-x2,y32=y3-y2,t=y32*x10-x32*y10;if(!(t*t<math.Ho))return[x0+(t=(x32*(y0-y2)-y32*(x0-x2))/t)*x10,y0+t*y10]}(x01,y01,x00,y00,x11,y11,x10,y10)){var ax=x01-oc[0],ay=y01-oc[1],bx=x11-oc[0],by=y11-oc[1],kc=1/(0,math.O$)((0,math.Kh)((ax*bx+ay*by)/((0,math._b)(ax*ax+ay*ay)*(0,math._b)(bx*bx+by*by)))/2),lc=(0,math._b)(oc[0]*oc[0]+oc[1]*oc[1]);rc0=(0,math.VV)(rc,(r0-lc)/(kc-1)),rc1=(0,math.VV)(rc,(r1-lc)/(kc+1))}else rc0=rc1=0}da1>math.Ho?rc1>math.Ho?(t0=cornerTangents(x00,y00,x01,y01,r1,rc1,cw),t1=cornerTangents(x11,y11,x10,y10,r1,rc1,cw),context.moveTo(t0.cx+t0.x01,t0.cy+t0.y01),rc1<rc?context.arc(t0.cx,t0.cy,rc1,(0,math.fv)(t0.y01,t0.x01),(0,math.fv)(t1.y01,t1.x01),!cw):(context.arc(t0.cx,t0.cy,rc1,(0,math.fv)(t0.y01,t0.x01),(0,math.fv)(t0.y11,t0.x11),!cw),context.arc(0,0,r1,(0,math.fv)(t0.cy+t0.y11,t0.cx+t0.x11),(0,math.fv)(t1.cy+t1.y11,t1.cx+t1.x11),!cw),context.arc(t1.cx,t1.cy,rc1,(0,math.fv)(t1.y11,t1.x11),(0,math.fv)(t1.y01,t1.x01),!cw))):(context.moveTo(x01,y01),context.arc(0,0,r1,a01,a11,!cw)):context.moveTo(x01,y01),r0>math.Ho&&da0>math.Ho?rc0>math.Ho?(t0=cornerTangents(x10,y10,x11,y11,r0,-rc0,cw),t1=cornerTangents(x01,y01,x00,y00,r0,-rc0,cw),context.lineTo(t0.cx+t0.x01,t0.cy+t0.y01),rc0<rc?context.arc(t0.cx,t0.cy,rc0,(0,math.fv)(t0.y01,t0.x01),(0,math.fv)(t1.y01,t1.x01),!cw):(context.arc(t0.cx,t0.cy,rc0,(0,math.fv)(t0.y01,t0.x01),(0,math.fv)(t0.y11,t0.x11),!cw),context.arc(0,0,r0,(0,math.fv)(t0.cy+t0.y11,t0.cx+t0.x11),(0,math.fv)(t1.cy+t1.y11,t1.cx+t1.x11),cw),context.arc(t1.cx,t1.cy,rc0,(0,math.fv)(t1.y11,t1.x11),(0,math.fv)(t1.y01,t1.x01),!cw))):context.arc(0,0,r0,a10,a00,cw):context.lineTo(x10,y10)}else context.moveTo(0,0);if(context.closePath(),buffer)return context=null,buffer+""||null}return arc.centroid=function(){var r=(+innerRadius.apply(this,arguments)+ +outerRadius.apply(this,arguments))/2,a=(+startAngle.apply(this,arguments)+ +endAngle.apply(this,arguments))/2-math.pi/2;return[(0,math.mC)(a)*r,(0,math.O$)(a)*r]},arc.innerRadius=function(_){return arguments.length?(innerRadius="function"==typeof _?_:(0,constant.Z)(+_),arc):innerRadius},arc.outerRadius=function(_){return arguments.length?(outerRadius="function"==typeof _?_:(0,constant.Z)(+_),arc):outerRadius},arc.cornerRadius=function(_){return arguments.length?(cornerRadius="function"==typeof _?_:(0,constant.Z)(+_),arc):cornerRadius},arc.padRadius=function(_){return arguments.length?(padRadius=null==_?null:"function"==typeof _?_:(0,constant.Z)(+_),arc):padRadius},arc.startAngle=function(_){return arguments.length?(startAngle="function"==typeof _?_:(0,constant.Z)(+_),arc):startAngle},arc.endAngle=function(_){return arguments.length?(endAngle="function"==typeof _?_:(0,constant.Z)(+_),arc):endAngle},arc.padAngle=function(_){return arguments.length?(padAngle="function"==typeof _?_:(0,constant.Z)(+_),arc):padAngle},arc.context=function(_){return arguments.length?(context=null==_?null:_,arc):context},arc}var object=__webpack_require__("./node_modules/d3-interpolate/src/object.js"),Slice_excluded=["innerRadius","outerRadius","r","startAngle","endAngle","angleUnit","padAngle","className","setRole"];function Slice_extends(){return Slice_extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},Slice_extends.apply(this,arguments)}var getSliceD=function getSliceD(_ref){var _generator,innerRadius=_ref.innerRadius,outerRadius=_ref.outerRadius,_ref$r=_ref.r,r=void 0===_ref$r?0:_ref$r,startAngle=_ref.startAngle,endAngle=_ref.endAngle,_ref$padAngle=_ref.padAngle,padAngle=void 0===_ref$padAngle?0:_ref$padAngle;return null!=(_generator=arc().cornerRadius(r).padAngle(padAngle)({startAngle,endAngle,innerRadius,outerRadius}))?_generator:""},Slice_Slice=function Slice(_ref2){var innerRadius=_ref2.innerRadius,outerRadius=_ref2.outerRadius,_ref2$r=_ref2.r,r=void 0===_ref2$r?0:_ref2$r,startAngle=_ref2.startAngle,endAngle=_ref2.endAngle,_ref2$angleUnit=_ref2.angleUnit,angleUnit=void 0===_ref2$angleUnit?"radian":_ref2$angleUnit,_ref2$padAngle=_ref2.padAngle,padAngle=void 0===_ref2$padAngle?0:_ref2$padAngle,className=_ref2.className,_ref2$setRole=_ref2.setRole,setRole=void 0===_ref2$setRole||_ref2$setRole,props=function Slice_objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(_ref2,Slice_excluded),theme=(0,chsk_core_es.FgM)(),isRadian="radian"===angleUnit,sliceProps={innerRadius,outerRadius,r,startAngle:isRadian?startAngle:(0,chsk_core_es.VlM)(startAngle),endAngle:isRadian?endAngle:(0,chsk_core_es.VlM)(endAngle),padAngle},d=(0,use_motion_value.c)(getSliceD(sliceProps)),_useState=(0,react.useState)(sliceProps),values=_useState[0],setValues=_useState[1],_useState2=(0,react.useState)(!1),working=_useState2[0],setWorking=_useState2[1];if(d.get()!==getSliceD(sliceProps)&&!working){var animateConfig=theme.Motion.default,interpolator=(0,object.Z)(values,sliceProps);(0,animate.j)(0,1,Slice_extends({},animateConfig,{onPlay:function onPlay(){setWorking(!0)},onUpdate:function onUpdate(latest){d.set(getSliceD(interpolator(latest)))},onComplete:function onComplete(){setValues(sliceProps),setWorking(!1)}}))}var compositeClassName=(0,chsk_core_es.gjB)("slice",className);return(0,jsx_runtime.jsx)(motion_minimal.m.path,Slice_extends({d,role:setRole?"slice":void 0,className:compositeClassName},props))};Slice_Slice.displayName="Slice";try{Slice_Slice.displayName="Slice",Slice_Slice.__docgenInfo={description:"",displayName:"Slice",props:{innerRadius:{defaultValue:null,description:"inner radius in absolute coordinates",name:"innerRadius",required:!0,type:{name:"number"}},outerRadius:{defaultValue:null,description:"outer radius in absolute coordinates",name:"outerRadius",required:!0,type:{name:"number"}},startAngle:{defaultValue:null,description:"start angle for slice (radians)",name:"startAngle",required:!0,type:{name:"number"}},endAngle:{defaultValue:null,description:"end angle for slice (radians)",name:"endAngle",required:!0,type:{name:"number"}},r:{defaultValue:{value:"0"},description:"corner radius",name:"r",required:!1,type:{name:"number"}},padAngle:{defaultValue:{value:"0"},description:"angle padding to create space between slices",name:"padAngle",required:!1,type:{name:"number"}},className:{defaultValue:null,description:"class string",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"css style",name:"style",required:!1,type:{name:"Partial<CSSProperties>"}},setRole:{defaultValue:{value:"true"},description:"toggle role attribute in svg code",name:"setRole",required:!1,type:{name:"boolean"}},angleUnit:{defaultValue:{value:"radian"},description:"angle units",name:"angleUnit",required:!1,type:{name:"enum",value:[{value:'"degree"'},{value:'"radian"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/polar/src/pie/Slice.tsx#Slice"]={docgenInfo:Slice_Slice.__docgenInfo,name:"Slice",path:"packages/polar/src/pie/Slice.tsx#Slice"})}catch(__react_docgen_typescript_loader_error){}var predicates_isPieProcessedData=function isPieProcessedData(data){var result=data.map((function(item){return"object"==typeof item&&null!==item&&("id"in item&&"index"in item&&("startAngle"in item&&"endAngle"in item&&"data"in item&&"proportion"in item))}));return result.length>0&&result.every(Boolean)},Slices_excluded=["ids","r","padAngle","component","className","style","dataComponent","setRole"];function Slices_extends(){return Slices_extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},Slices_extends.apply(this,arguments)}var Slices_Slices=function Slices(_ref){var ids=_ref.ids,_ref$r=_ref.r,r=void 0===_ref$r?0:_ref$r,_ref$padAngle=_ref.padAngle,padAngle=void 0===_ref$padAngle?0:_ref$padAngle,_ref$component=_ref.component,component=void 0===_ref$component?Slice_Slice:_ref$component,className=_ref.className,style=_ref.style,_ref$dataComponent=_ref.dataComponent,dataComponent=void 0===_ref$dataComponent?chsk_core_es.oKN:_ref$dataComponent,_ref$setRole=_ref.setRole,setRole=void 0===_ref$setRole||_ref$setRole,props=function Slices_objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(_ref,Slices_excluded),processedData=(0,chsk_core_es.wIO)(),scales=(0,chsk_core_es.kE1)().scales,xScale=scales.x,colorScale=scales.color,data=processedData.data;if(!predicates_isPieProcessedData(data))return null;var idSet=(0,react.useMemo)((function(){return(0,chsk_core_es.pP)(ids,void 0,processedData)}),[ids,processedData]).idSet,styles=(0,react.useMemo)((function(){return processedData.keys.map((function(k,i){return(0,chsk_core_es.hIX)(style,colorScale(i))}))}),[processedData,style,colorScale]),x0=xScale(0),result=data.map((function(item,i){return idSet.has(item.id)?(0,react.createElement)(dataComponent,Slices_extends({key:"slice-"+item.id,component,data:item,props:{innerRadius:xScale(item.rInner)-x0,outerRadius:xScale(item.rOuter)-x0,startAngle:item.startAngle,endAngle:item.endAngle,padAngle,r,className,style:styles[i],setRole}},props)):null}));return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:result})};try{Slices_Slices.displayName="Slices",Slices_Slices.__docgenInfo={description:"",displayName:"Slices",props:{ids:{defaultValue:null,description:"/** ids to display (defaults to all ids)",name:"ids",required:!1,type:{name:"string[]"}},component:{defaultValue:{value:"({\n    innerRadius,\n    outerRadius,\n    r = 0,\n    startAngle,\n    endAngle,\n    angleUnit = 'radian',\n    padAngle = 0,\n    //\n    className,\n    setRole = true,\n    ...props\n}: SliceProps) => {\n    const theme = useTheme()\n    const isRadian = angleUnit === 'radian'\n    const sliceProps = {\n        innerRadius,\n        outerRadius,\n        r,\n        startAngle: isRadian ? startAngle : deg2rad(startAngle),\n        endAngle: isRadian ? endAngle : deg2rad(endAngle),\n        padAngle,\n    }\n    const d = useMotionValue(getSliceD(sliceProps))\n    const [values, setValues] = useState(sliceProps)\n    const [working, setWorking] = useState(false)\n\n    if (d.get() !== getSliceD(sliceProps) && !working) {\n        const animateConfig = theme.Motion.default\n        const interpolator = interpolateObject(values, sliceProps)\n        animate(0, 1, {\n            ...animateConfig,\n            onPlay: () => {\n                setWorking(true)\n            },\n            onUpdate: latest => {\n                d.set(getSliceD(interpolator(latest)))\n            },\n            onComplete: () => {\n                setValues(sliceProps)\n                setWorking(false)\n            },\n        })\n    }\n\n    const compositeClassName = getClassName('slice', className)\n    return (\n        <m.path\n            d={d}\n            role={setRole ? 'slice' : undefined}\n            className={compositeClassName}\n            {...props}\n        />\n    )\n}"},description:"component used to draw individual bars",name:"component",required:!1,type:{name:"FC<SliceProps>"}},r:{defaultValue:{value:"0"},description:"radius for slices",name:"r",required:!1,type:{name:"number"}},padAngle:{defaultValue:{value:"0"},description:"angle padding",name:"padAngle",required:!1,type:{name:"number"}},className:{defaultValue:null,description:"class string",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"css style",name:"style",required:!1,type:{name:"Partial<CSSProperties>"}},setRole:{defaultValue:{value:"true"},description:"toggle role attribute in svg code",name:"setRole",required:!1,type:{name:"boolean"}},handlers:{defaultValue:null,description:"handlers for events",name:"handlers",required:!1,type:{name:"DataInteractivityHandlers<PieProcessedDataItem>"}},modifiers:{defaultValue:null,description:"style modifiers",name:"modifiers",required:!1,type:{name:"DataInteractivityModifiers"}},dataComponent:{defaultValue:null,description:"function binding data to interactivity handlers",name:"dataComponent",required:!1,type:{name:"FC<DataComponentProps<PieProcessedDataItem, SliceProps>>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/polar/src/pie/Slices.tsx#Slices"]={docgenInfo:Slices_Slices.__docgenInfo,name:"Slices",path:"packages/polar/src/pie/Slices.tsx#Slices"})}catch(__react_docgen_typescript_loader_error){}var SliceLabel_SliceLabel=function SliceLabel(_ref){var innerRadius=_ref.innerRadius,outerRadius=_ref.outerRadius,startAngle=_ref.startAngle,endAngle=_ref.endAngle,_ref$angleUnit=_ref.angleUnit,angleUnit=void 0===_ref$angleUnit?"radian":_ref$angleUnit,_ref$align=_ref.align,align=void 0===_ref$align?[.5,.5]:_ref$align,radial=_ref.radial,tangential=_ref.tangential,className=_ref.className,_ref$setRole=_ref.setRole,setRole=void 0!==_ref$setRole&&_ref$setRole,style=_ref.style,children=_ref.children,sizeR=outerRadius-innerRadius,sizeAngle=endAngle-startAngle,theta=startAngle+align[1]*sizeAngle;"degree"===angleUnit&&(theta=(0,chsk_core_es.VlM)(theta));var position=[innerRadius+align[0]*sizeR,theta],classPrefix="";radial&&(theta<0||theta>Math.PI)?classPrefix=" leftHemisphere ":tangential&&(theta<-Math.PI/2||theta>Math.PI/2)&&(classPrefix=" bottomHemisphere");var compositeClassName=(0,chsk_core_es.gjB)("label sliceLabel"+classPrefix,className);return(0,jsx_runtime.jsx)(PolarItem_PolarItem,{variant:"label",position,angleUnit:"radian",radial,tangential,setRole,children:(0,jsx_runtime.jsx)("text",{className:compositeClassName,style,children})})};SliceLabel_SliceLabel.displayName="SliceLabel";try{SliceLabel_SliceLabel.displayName="SliceLabel",SliceLabel_SliceLabel.__docgenInfo={description:"",displayName:"SliceLabel",props:{format:{defaultValue:null,description:"content",name:"format",required:!1,type:{name:"((x: string | number) => string)"}},variant:{defaultValue:null,description:"variant",name:"variant",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"class string",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"css style",name:"style",required:!1,type:{name:"Partial<CSSProperties>"}},setRole:{defaultValue:{value:"false"},description:"toggle role attribute in svg code",name:"setRole",required:!1,type:{name:"boolean"}},angleUnit:{defaultValue:{value:"radian"},description:"angle units",name:"angleUnit",required:!1,type:{name:"enum",value:[{value:'"degree"'},{value:'"radian"'}]}},innerRadius:{defaultValue:null,description:"inner radius in absolute coordinates",name:"innerRadius",required:!0,type:{name:"number"}},outerRadius:{defaultValue:null,description:"outer radius in absolute coordinates",name:"outerRadius",required:!0,type:{name:"number"}},startAngle:{defaultValue:null,description:"start angle for slice (radians)",name:"startAngle",required:!0,type:{name:"number"}},endAngle:{defaultValue:null,description:"end angle for slice (radians)",name:"endAngle",required:!0,type:{name:"number"}},children:{defaultValue:null,description:"content",name:"children",required:!1,type:{name:"ReactNode"}},align:{defaultValue:{value:"[0.5, 0.5]"},description:"alignment of label within its bounding container",name:"align",required:!1,type:{name:"AlignSpec"}},radial:{defaultValue:null,description:"flag, orient text radially",name:"radial",required:!1,type:{name:"boolean"}},tangential:{defaultValue:null,description:"flag, orient text tangentially",name:"tangential",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/polar/src/pie/SliceLabel.tsx#SliceLabel"]={docgenInfo:SliceLabel_SliceLabel.__docgenInfo,name:"SliceLabel",path:"packages/polar/src/pie/SliceLabel.tsx#SliceLabel"})}catch(__react_docgen_typescript_loader_error){}var SliceLabels_SliceLabels=function SliceLabels(_ref){var ids=_ref.ids,_ref$align=_ref.align,align=void 0===_ref$align?[.5,.5]:_ref$align,_ref$minAngle=_ref.minAngle,minAngle=void 0===_ref$minAngle?10:_ref$minAngle,_ref$angleUnit=_ref.angleUnit,angleUnit=void 0===_ref$angleUnit?"degree":_ref$angleUnit,_ref$format=_ref.format,format=void 0===_ref$format?function(v){return String(v.data)}:_ref$format,className=_ref.className,_ref$setRole=_ref.setRole,setRole=void 0!==_ref$setRole&&_ref$setRole,style=_ref.style,_ref$dataComponent=_ref.dataComponent,dataComponent=void 0===_ref$dataComponent?chsk_core_es.Wnl:_ref$dataComponent,component=_ref.component,processedData=(0,chsk_core_es.wIO)(),rScale=(0,chsk_core_es.kE1)().scales.x,data=processedData.data;if(!predicates_isPieProcessedData(data))return null;var idSet=(0,react.useMemo)((function(){return(0,chsk_core_es.pP)(ids,void 0,processedData)}),[ids,processedData]).idSet,minAngleRad="degree"===angleUnit?(0,chsk_core_es.VlM)(minAngle):minAngle,r0=rScale(0),result=data.map((function(seriesData,i){return idSet.has(seriesData.id)?seriesData.endAngle-seriesData.startAngle<minAngleRad?null:(0,react.createElement)(dataComponent,{key:"label-"+i,component:null!=component?component:SliceLabel_SliceLabel,data:seriesData,props:{startAngle:seriesData.startAngle,endAngle:seriesData.endAngle,innerRadius:rScale(seriesData.rInner)-r0,outerRadius:rScale(seriesData.rOuter)-r0,angleUnit:"radian",align,className,style,setRole,children:format(seriesData)}}):null}));return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:result.filter(Boolean)})};try{SliceLabels_SliceLabels.displayName="SliceLabels",SliceLabels_SliceLabels.__docgenInfo={description:"",displayName:"SliceLabels",props:{align:{defaultValue:{value:"[0.5, 0.5]"},description:"alignment [r, theta]",name:"align",required:!1,type:{name:"AlignSpec"}},minAngle:{defaultValue:{value:"10"},description:"minimum angle (degrees)",name:"minAngle",required:!1,type:{name:"number"}},angleUnit:{defaultValue:{value:"degree"},description:"angle unit",name:"angleUnit",required:!1,type:{name:"enum",value:[{value:'"degree"'},{value:'"radian"'}]}},format:{defaultValue:{value:"(v: PieProcessedDataItem) => String(v.data)"},description:"format for text",name:"format",required:!1,type:{name:"((v: PieProcessedDataItem) => string)"}},component:{defaultValue:null,description:"components used to render text",name:"component",required:!1,type:{name:"FC<SliceLabelProps>"}},variant:{defaultValue:null,description:"variant",name:"variant",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"class string",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"css style",name:"style",required:!1,type:{name:"Partial<CSSProperties>"}},setRole:{defaultValue:{value:"false"},description:"toggle role attribute in svg code",name:"setRole",required:!1,type:{name:"boolean"}},radial:{defaultValue:null,description:"flag, orient text radially",name:"radial",required:!1,type:{name:"boolean"}},tangential:{defaultValue:null,description:"flag, orient text tangentially",name:"tangential",required:!1,type:{name:"boolean"}},ids:{defaultValue:null,description:"/** ids to display (defaults to all ids)",name:"ids",required:!1,type:{name:"string[]"}},dataComponent:{defaultValue:null,description:"function binding data to interactivity handlers",name:"dataComponent",required:!1,type:{name:"FC<DataComponentProps<PieProcessedDataItem, SliceLabelProps>>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/polar/src/pie/SliceLabels.tsx#SliceLabels"]={docgenInfo:SliceLabels_SliceLabels.__docgenInfo,name:"SliceLabels",path:"packages/polar/src/pie/SliceLabels.tsx#SliceLabels"})}catch(__react_docgen_typescript_loader_error){}try{isPieData.displayName="isPieData",isPieData.__docgenInfo={description:"",displayName:"isPieData",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/polar/src/pie/index.tsx#isPieData"]={docgenInfo:isPieData.__docgenInfo,name:"isPieData",path:"packages/polar/src/pie/index.tsx#isPieData"})}catch(__react_docgen_typescript_loader_error){}try{isPieProcessedData.displayName="isPieProcessedData",isPieProcessedData.__docgenInfo={description:"",displayName:"isPieProcessedData",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/polar/src/pie/index.tsx#isPieProcessedData"]={docgenInfo:isPieProcessedData.__docgenInfo,name:"isPieProcessedData",path:"packages/polar/src/pie/index.tsx#isPieProcessedData"})}catch(__react_docgen_typescript_loader_error){}try{Pie.displayName="Pie",Pie.__docgenInfo={description:"",displayName:"Pie",props:{data:{defaultValue:null,description:"primary data (used for color scale)",name:"data",required:!0,type:{name:"PieDataItem[]"}},angle:{defaultValue:{value:"0"},description:"global rotation",name:"angle",required:!1,type:{name:"number"}},angleUnit:{defaultValue:{value:"degree"},description:"angle unit",name:"angleUnit",required:!1,type:{name:"enum",value:[{value:'"degree"'},{value:'"radian"'}]}},angleAlign:{defaultValue:{value:"0"},description:"angle alignment for first slice",name:"angleAlign",required:!1,type:{name:"number"}},rOuter:{defaultValue:{value:"1"},description:"outer radius",name:"rOuter",required:!1,type:{name:"number"}},rInner:{defaultValue:{value:"0"},description:"inner radius",name:"rInner",required:!1,type:{name:"number"}},scaleX:{defaultValue:{value:"{\n    variant: 'linear',\n    domain: [-1, 1],\n    nice: false,\n}"},description:"scale for horizontal axis",name:"scaleX",required:!1,type:{name:"LinearScaleSpec"}},scaleY:{defaultValue:{value:"{\n    variant: 'linear',\n    domain: [-1, 1],\n    nice: false,\n}"},description:"scale for vertical axis",name:"scaleY",required:!1,type:{name:"LinearScaleSpec"}},scaleColor:{defaultValue:null,description:"scale for colors",name:"scaleColor",required:!1,type:{name:"CategoricalScaleSpec"}},className:{defaultValue:null,description:"class string",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"css style",name:"style",required:!1,type:{name:"Partial<CSSProperties>"}},setRole:{defaultValue:null,description:"toggle role attribute in svg code",name:"setRole",required:!1,type:{name:"boolean"}},children:{defaultValue:null,description:"children",name:"children",required:!1,type:{name:"ReactNode"}},container:{defaultValue:null,description:"position and size for bounding container",name:"container",required:!1,type:{name:"ContainerProps"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/polar/src/pie/index.tsx#Pie"]={docgenInfo:Pie.__docgenInfo,name:"Pie",path:"packages/polar/src/pie/index.tsx#Pie"})}catch(__react_docgen_typescript_loader_error){}try{Slice.displayName="Slice",Slice.__docgenInfo={description:"",displayName:"Slice",props:{innerRadius:{defaultValue:null,description:"inner radius in absolute coordinates",name:"innerRadius",required:!0,type:{name:"number"}},outerRadius:{defaultValue:null,description:"outer radius in absolute coordinates",name:"outerRadius",required:!0,type:{name:"number"}},startAngle:{defaultValue:null,description:"start angle for slice (radians)",name:"startAngle",required:!0,type:{name:"number"}},endAngle:{defaultValue:null,description:"end angle for slice (radians)",name:"endAngle",required:!0,type:{name:"number"}},r:{defaultValue:{value:"0"},description:"corner radius",name:"r",required:!1,type:{name:"number"}},padAngle:{defaultValue:{value:"0"},description:"angle padding to create space between slices",name:"padAngle",required:!1,type:{name:"number"}},className:{defaultValue:null,description:"class string",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"css style",name:"style",required:!1,type:{name:"Partial<CSSProperties>"}},setRole:{defaultValue:{value:"true"},description:"toggle role attribute in svg code",name:"setRole",required:!1,type:{name:"boolean"}},angleUnit:{defaultValue:{value:"radian"},description:"angle units",name:"angleUnit",required:!1,type:{name:"enum",value:[{value:'"degree"'},{value:'"radian"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/polar/src/pie/index.tsx#Slice"]={docgenInfo:Slice.__docgenInfo,name:"Slice",path:"packages/polar/src/pie/index.tsx#Slice"})}catch(__react_docgen_typescript_loader_error){}try{Slices.displayName="Slices",Slices.__docgenInfo={description:"",displayName:"Slices",props:{ids:{defaultValue:null,description:"/** ids to display (defaults to all ids)",name:"ids",required:!1,type:{name:"string[]"}},component:{defaultValue:{value:"({\n    innerRadius,\n    outerRadius,\n    r = 0,\n    startAngle,\n    endAngle,\n    angleUnit = 'radian',\n    padAngle = 0,\n    //\n    className,\n    setRole = true,\n    ...props\n}: SliceProps) => {\n    const theme = useTheme()\n    const isRadian = angleUnit === 'radian'\n    const sliceProps = {\n        innerRadius,\n        outerRadius,\n        r,\n        startAngle: isRadian ? startAngle : deg2rad(startAngle),\n        endAngle: isRadian ? endAngle : deg2rad(endAngle),\n        padAngle,\n    }\n    const d = useMotionValue(getSliceD(sliceProps))\n    const [values, setValues] = useState(sliceProps)\n    const [working, setWorking] = useState(false)\n\n    if (d.get() !== getSliceD(sliceProps) && !working) {\n        const animateConfig = theme.Motion.default\n        const interpolator = interpolateObject(values, sliceProps)\n        animate(0, 1, {\n            ...animateConfig,\n            onPlay: () => {\n                setWorking(true)\n            },\n            onUpdate: latest => {\n                d.set(getSliceD(interpolator(latest)))\n            },\n            onComplete: () => {\n                setValues(sliceProps)\n                setWorking(false)\n            },\n        })\n    }\n\n    const compositeClassName = getClassName('slice', className)\n    return (\n        <m.path\n            d={d}\n            role={setRole ? 'slice' : undefined}\n            className={compositeClassName}\n            {...props}\n        />\n    )\n}"},description:"component used to draw individual bars",name:"component",required:!1,type:{name:"FC<SliceProps>"}},r:{defaultValue:{value:"0"},description:"radius for slices",name:"r",required:!1,type:{name:"number"}},padAngle:{defaultValue:{value:"0"},description:"angle padding",name:"padAngle",required:!1,type:{name:"number"}},className:{defaultValue:null,description:"class string",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"css style",name:"style",required:!1,type:{name:"Partial<CSSProperties>"}},setRole:{defaultValue:{value:"true"},description:"toggle role attribute in svg code",name:"setRole",required:!1,type:{name:"boolean"}},handlers:{defaultValue:null,description:"handlers for events",name:"handlers",required:!1,type:{name:"DataInteractivityHandlers<PieProcessedDataItem>"}},modifiers:{defaultValue:null,description:"style modifiers",name:"modifiers",required:!1,type:{name:"DataInteractivityModifiers"}},dataComponent:{defaultValue:null,description:"function binding data to interactivity handlers",name:"dataComponent",required:!1,type:{name:"FC<DataComponentProps<PieProcessedDataItem, SliceProps>>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/polar/src/pie/index.tsx#Slices"]={docgenInfo:Slices.__docgenInfo,name:"Slices",path:"packages/polar/src/pie/index.tsx#Slices"})}catch(__react_docgen_typescript_loader_error){}try{SliceLabel.displayName="SliceLabel",SliceLabel.__docgenInfo={description:"",displayName:"SliceLabel",props:{format:{defaultValue:null,description:"content",name:"format",required:!1,type:{name:"((x: string | number) => string)"}},variant:{defaultValue:null,description:"variant",name:"variant",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"class string",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"css style",name:"style",required:!1,type:{name:"Partial<CSSProperties>"}},setRole:{defaultValue:{value:"false"},description:"toggle role attribute in svg code",name:"setRole",required:!1,type:{name:"boolean"}},angleUnit:{defaultValue:{value:"radian"},description:"angle units",name:"angleUnit",required:!1,type:{name:"enum",value:[{value:'"degree"'},{value:'"radian"'}]}},innerRadius:{defaultValue:null,description:"inner radius in absolute coordinates",name:"innerRadius",required:!0,type:{name:"number"}},outerRadius:{defaultValue:null,description:"outer radius in absolute coordinates",name:"outerRadius",required:!0,type:{name:"number"}},startAngle:{defaultValue:null,description:"start angle for slice (radians)",name:"startAngle",required:!0,type:{name:"number"}},endAngle:{defaultValue:null,description:"end angle for slice (radians)",name:"endAngle",required:!0,type:{name:"number"}},children:{defaultValue:null,description:"content",name:"children",required:!1,type:{name:"ReactNode"}},align:{defaultValue:{value:"[0.5, 0.5]"},description:"alignment of label within its bounding container",name:"align",required:!1,type:{name:"AlignSpec"}},radial:{defaultValue:null,description:"flag, orient text radially",name:"radial",required:!1,type:{name:"boolean"}},tangential:{defaultValue:null,description:"flag, orient text tangentially",name:"tangential",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/polar/src/pie/index.tsx#SliceLabel"]={docgenInfo:SliceLabel.__docgenInfo,name:"SliceLabel",path:"packages/polar/src/pie/index.tsx#SliceLabel"})}catch(__react_docgen_typescript_loader_error){}try{SliceLabels.displayName="SliceLabels",SliceLabels.__docgenInfo={description:"",displayName:"SliceLabels",props:{align:{defaultValue:{value:"[0.5, 0.5]"},description:"alignment [r, theta]",name:"align",required:!1,type:{name:"AlignSpec"}},minAngle:{defaultValue:{value:"10"},description:"minimum angle (degrees)",name:"minAngle",required:!1,type:{name:"number"}},angleUnit:{defaultValue:{value:"degree"},description:"angle unit",name:"angleUnit",required:!1,type:{name:"enum",value:[{value:'"degree"'},{value:'"radian"'}]}},format:{defaultValue:{value:"(v: PieProcessedDataItem) => String(v.data)"},description:"format for text",name:"format",required:!1,type:{name:"((v: PieProcessedDataItem) => string)"}},component:{defaultValue:null,description:"components used to render text",name:"component",required:!1,type:{name:"FC<SliceLabelProps>"}},variant:{defaultValue:null,description:"variant",name:"variant",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"class string",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"css style",name:"style",required:!1,type:{name:"Partial<CSSProperties>"}},setRole:{defaultValue:{value:"false"},description:"toggle role attribute in svg code",name:"setRole",required:!1,type:{name:"boolean"}},radial:{defaultValue:null,description:"flag, orient text radially",name:"radial",required:!1,type:{name:"boolean"}},tangential:{defaultValue:null,description:"flag, orient text tangentially",name:"tangential",required:!1,type:{name:"boolean"}},ids:{defaultValue:null,description:"/** ids to display (defaults to all ids)",name:"ids",required:!1,type:{name:"string[]"}},dataComponent:{defaultValue:null,description:"function binding data to interactivity handlers",name:"dataComponent",required:!1,type:{name:"FC<DataComponentProps<PieProcessedDataItem, SliceLabelProps>>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/polar/src/pie/index.tsx#SliceLabels"]={docgenInfo:SliceLabels.__docgenInfo,name:"SliceLabels",path:"packages/polar/src/pie/index.tsx#SliceLabels"})}catch(__react_docgen_typescript_loader_error){}try{Origin.displayName="Origin",Origin.__docgenInfo={description:"",displayName:"Origin",props:{className:{defaultValue:null,description:"class string",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"css style",name:"style",required:!1,type:{name:"Partial<CSSProperties>"}},setRole:{defaultValue:{value:"true"},description:"toggle role attribute in svg code",name:"setRole",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/polar/src/index.tsx#Origin"]={docgenInfo:Origin.__docgenInfo,name:"Origin",path:"packages/polar/src/index.tsx#Origin"})}catch(__react_docgen_typescript_loader_error){}try{PolarItem.displayName="PolarItem",PolarItem.__docgenInfo={description:"",displayName:"PolarItem",props:{position:{defaultValue:null,description:"position in polar coordinates [radius, angle]",name:"position",required:!1,type:{name:"NumericPositionSpec"}},angleUnit:{defaultValue:{value:"radian"},description:"angle units",name:"angleUnit",required:!1,type:{name:"enum",value:[{value:'"degree"'},{value:'"radian"'}]}},radial:{defaultValue:null,description:"flag, orient text radially",name:"radial",required:!1,type:{name:"boolean"}},tangential:{defaultValue:null,description:"flag, orient text tangentially",name:"tangential",required:!1,type:{name:"boolean"}},children:{defaultValue:null,description:"children",name:"children",required:!1,type:{name:"ReactNode"}},variant:{defaultValue:{value:"default"},description:"variant",name:"variant",required:!1,type:{name:"string"}},setRole:{defaultValue:{value:"true"},description:"toggle role attribute in svg code",name:"setRole",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/polar/src/index.tsx#PolarItem"]={docgenInfo:PolarItem.__docgenInfo,name:"PolarItem",path:"packages/polar/src/index.tsx#PolarItem"})}catch(__react_docgen_typescript_loader_error){}try{isPieData.displayName="isPieData",isPieData.__docgenInfo={description:"",displayName:"isPieData",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/polar/src/index.tsx#isPieData"]={docgenInfo:isPieData.__docgenInfo,name:"isPieData",path:"packages/polar/src/index.tsx#isPieData"})}catch(__react_docgen_typescript_loader_error){}try{isPieProcessedData.displayName="isPieProcessedData",isPieProcessedData.__docgenInfo={description:"",displayName:"isPieProcessedData",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/polar/src/index.tsx#isPieProcessedData"]={docgenInfo:isPieProcessedData.__docgenInfo,name:"isPieProcessedData",path:"packages/polar/src/index.tsx#isPieProcessedData"})}catch(__react_docgen_typescript_loader_error){}try{Pie.displayName="Pie",Pie.__docgenInfo={description:"",displayName:"Pie",props:{data:{defaultValue:null,description:"primary data (used for color scale)",name:"data",required:!0,type:{name:"PieDataItem[]"}},angle:{defaultValue:{value:"0"},description:"global rotation",name:"angle",required:!1,type:{name:"number"}},angleUnit:{defaultValue:{value:"degree"},description:"angle unit",name:"angleUnit",required:!1,type:{name:"enum",value:[{value:'"degree"'},{value:'"radian"'}]}},angleAlign:{defaultValue:{value:"0"},description:"angle alignment for first slice",name:"angleAlign",required:!1,type:{name:"number"}},rOuter:{defaultValue:{value:"1"},description:"outer radius",name:"rOuter",required:!1,type:{name:"number"}},rInner:{defaultValue:{value:"0"},description:"inner radius",name:"rInner",required:!1,type:{name:"number"}},scaleX:{defaultValue:{value:"{\n    variant: 'linear',\n    domain: [-1, 1],\n    nice: false,\n}"},description:"scale for horizontal axis",name:"scaleX",required:!1,type:{name:"LinearScaleSpec"}},scaleY:{defaultValue:{value:"{\n    variant: 'linear',\n    domain: [-1, 1],\n    nice: false,\n}"},description:"scale for vertical axis",name:"scaleY",required:!1,type:{name:"LinearScaleSpec"}},scaleColor:{defaultValue:null,description:"scale for colors",name:"scaleColor",required:!1,type:{name:"CategoricalScaleSpec"}},className:{defaultValue:null,description:"class string",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"css style",name:"style",required:!1,type:{name:"Partial<CSSProperties>"}},setRole:{defaultValue:null,description:"toggle role attribute in svg code",name:"setRole",required:!1,type:{name:"boolean"}},children:{defaultValue:null,description:"children",name:"children",required:!1,type:{name:"ReactNode"}},container:{defaultValue:null,description:"position and size for bounding container",name:"container",required:!1,type:{name:"ContainerProps"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/polar/src/index.tsx#Pie"]={docgenInfo:Pie.__docgenInfo,name:"Pie",path:"packages/polar/src/index.tsx#Pie"})}catch(__react_docgen_typescript_loader_error){}try{Slice.displayName="Slice",Slice.__docgenInfo={description:"",displayName:"Slice",props:{innerRadius:{defaultValue:null,description:"inner radius in absolute coordinates",name:"innerRadius",required:!0,type:{name:"number"}},outerRadius:{defaultValue:null,description:"outer radius in absolute coordinates",name:"outerRadius",required:!0,type:{name:"number"}},startAngle:{defaultValue:null,description:"start angle for slice (radians)",name:"startAngle",required:!0,type:{name:"number"}},endAngle:{defaultValue:null,description:"end angle for slice (radians)",name:"endAngle",required:!0,type:{name:"number"}},r:{defaultValue:{value:"0"},description:"corner radius",name:"r",required:!1,type:{name:"number"}},padAngle:{defaultValue:{value:"0"},description:"angle padding to create space between slices",name:"padAngle",required:!1,type:{name:"number"}},className:{defaultValue:null,description:"class string",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"css style",name:"style",required:!1,type:{name:"Partial<CSSProperties>"}},setRole:{defaultValue:{value:"true"},description:"toggle role attribute in svg code",name:"setRole",required:!1,type:{name:"boolean"}},angleUnit:{defaultValue:{value:"radian"},description:"angle units",name:"angleUnit",required:!1,type:{name:"enum",value:[{value:'"degree"'},{value:'"radian"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/polar/src/index.tsx#Slice"]={docgenInfo:Slice.__docgenInfo,name:"Slice",path:"packages/polar/src/index.tsx#Slice"})}catch(__react_docgen_typescript_loader_error){}try{Slices.displayName="Slices",Slices.__docgenInfo={description:"",displayName:"Slices",props:{ids:{defaultValue:null,description:"/** ids to display (defaults to all ids)",name:"ids",required:!1,type:{name:"string[]"}},component:{defaultValue:{value:"({\n    innerRadius,\n    outerRadius,\n    r = 0,\n    startAngle,\n    endAngle,\n    angleUnit = 'radian',\n    padAngle = 0,\n    //\n    className,\n    setRole = true,\n    ...props\n}: SliceProps) => {\n    const theme = useTheme()\n    const isRadian = angleUnit === 'radian'\n    const sliceProps = {\n        innerRadius,\n        outerRadius,\n        r,\n        startAngle: isRadian ? startAngle : deg2rad(startAngle),\n        endAngle: isRadian ? endAngle : deg2rad(endAngle),\n        padAngle,\n    }\n    const d = useMotionValue(getSliceD(sliceProps))\n    const [values, setValues] = useState(sliceProps)\n    const [working, setWorking] = useState(false)\n\n    if (d.get() !== getSliceD(sliceProps) && !working) {\n        const animateConfig = theme.Motion.default\n        const interpolator = interpolateObject(values, sliceProps)\n        animate(0, 1, {\n            ...animateConfig,\n            onPlay: () => {\n                setWorking(true)\n            },\n            onUpdate: latest => {\n                d.set(getSliceD(interpolator(latest)))\n            },\n            onComplete: () => {\n                setValues(sliceProps)\n                setWorking(false)\n            },\n        })\n    }\n\n    const compositeClassName = getClassName('slice', className)\n    return (\n        <m.path\n            d={d}\n            role={setRole ? 'slice' : undefined}\n            className={compositeClassName}\n            {...props}\n        />\n    )\n}"},description:"component used to draw individual bars",name:"component",required:!1,type:{name:"FC<SliceProps>"}},r:{defaultValue:{value:"0"},description:"radius for slices",name:"r",required:!1,type:{name:"number"}},padAngle:{defaultValue:{value:"0"},description:"angle padding",name:"padAngle",required:!1,type:{name:"number"}},className:{defaultValue:null,description:"class string",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"css style",name:"style",required:!1,type:{name:"Partial<CSSProperties>"}},setRole:{defaultValue:{value:"true"},description:"toggle role attribute in svg code",name:"setRole",required:!1,type:{name:"boolean"}},handlers:{defaultValue:null,description:"handlers for events",name:"handlers",required:!1,type:{name:"DataInteractivityHandlers<PieProcessedDataItem>"}},modifiers:{defaultValue:null,description:"style modifiers",name:"modifiers",required:!1,type:{name:"DataInteractivityModifiers"}},dataComponent:{defaultValue:null,description:"function binding data to interactivity handlers",name:"dataComponent",required:!1,type:{name:"FC<DataComponentProps<PieProcessedDataItem, SliceProps>>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/polar/src/index.tsx#Slices"]={docgenInfo:Slices.__docgenInfo,name:"Slices",path:"packages/polar/src/index.tsx#Slices"})}catch(__react_docgen_typescript_loader_error){}try{SliceLabel.displayName="SliceLabel",SliceLabel.__docgenInfo={description:"",displayName:"SliceLabel",props:{format:{defaultValue:null,description:"content",name:"format",required:!1,type:{name:"((x: string | number) => string)"}},variant:{defaultValue:null,description:"variant",name:"variant",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"class string",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"css style",name:"style",required:!1,type:{name:"Partial<CSSProperties>"}},setRole:{defaultValue:{value:"false"},description:"toggle role attribute in svg code",name:"setRole",required:!1,type:{name:"boolean"}},angleUnit:{defaultValue:{value:"radian"},description:"angle units",name:"angleUnit",required:!1,type:{name:"enum",value:[{value:'"degree"'},{value:'"radian"'}]}},innerRadius:{defaultValue:null,description:"inner radius in absolute coordinates",name:"innerRadius",required:!0,type:{name:"number"}},outerRadius:{defaultValue:null,description:"outer radius in absolute coordinates",name:"outerRadius",required:!0,type:{name:"number"}},startAngle:{defaultValue:null,description:"start angle for slice (radians)",name:"startAngle",required:!0,type:{name:"number"}},endAngle:{defaultValue:null,description:"end angle for slice (radians)",name:"endAngle",required:!0,type:{name:"number"}},children:{defaultValue:null,description:"content",name:"children",required:!1,type:{name:"ReactNode"}},align:{defaultValue:{value:"[0.5, 0.5]"},description:"alignment of label within its bounding container",name:"align",required:!1,type:{name:"AlignSpec"}},radial:{defaultValue:null,description:"flag, orient text radially",name:"radial",required:!1,type:{name:"boolean"}},tangential:{defaultValue:null,description:"flag, orient text tangentially",name:"tangential",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/polar/src/index.tsx#SliceLabel"]={docgenInfo:SliceLabel.__docgenInfo,name:"SliceLabel",path:"packages/polar/src/index.tsx#SliceLabel"})}catch(__react_docgen_typescript_loader_error){}try{SliceLabels.displayName="SliceLabels",SliceLabels.__docgenInfo={description:"",displayName:"SliceLabels",props:{align:{defaultValue:{value:"[0.5, 0.5]"},description:"alignment [r, theta]",name:"align",required:!1,type:{name:"AlignSpec"}},minAngle:{defaultValue:{value:"10"},description:"minimum angle (degrees)",name:"minAngle",required:!1,type:{name:"number"}},angleUnit:{defaultValue:{value:"degree"},description:"angle unit",name:"angleUnit",required:!1,type:{name:"enum",value:[{value:'"degree"'},{value:'"radian"'}]}},format:{defaultValue:{value:"(v: PieProcessedDataItem) => String(v.data)"},description:"format for text",name:"format",required:!1,type:{name:"((v: PieProcessedDataItem) => string)"}},component:{defaultValue:null,description:"components used to render text",name:"component",required:!1,type:{name:"FC<SliceLabelProps>"}},variant:{defaultValue:null,description:"variant",name:"variant",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"class string",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"css style",name:"style",required:!1,type:{name:"Partial<CSSProperties>"}},setRole:{defaultValue:{value:"false"},description:"toggle role attribute in svg code",name:"setRole",required:!1,type:{name:"boolean"}},radial:{defaultValue:null,description:"flag, orient text radially",name:"radial",required:!1,type:{name:"boolean"}},tangential:{defaultValue:null,description:"flag, orient text tangentially",name:"tangential",required:!1,type:{name:"boolean"}},ids:{defaultValue:null,description:"/** ids to display (defaults to all ids)",name:"ids",required:!1,type:{name:"string[]"}},dataComponent:{defaultValue:null,description:"function binding data to interactivity handlers",name:"dataComponent",required:!1,type:{name:"FC<DataComponentProps<PieProcessedDataItem, SliceLabelProps>>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/polar/src/index.tsx#SliceLabels"]={docgenInfo:SliceLabels.__docgenInfo,name:"SliceLabels",path:"packages/polar/src/index.tsx#SliceLabels"})}catch(__react_docgen_typescript_loader_error){}},"./node_modules/framer-motion/dist/es/value/use-motion-value.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{c:()=>useMotionValue});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_index_mjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/framer-motion/dist/es/value/index.mjs"),_context_MotionConfigContext_mjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/framer-motion/dist/es/context/MotionConfigContext.mjs"),_utils_use_constant_mjs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/framer-motion/dist/es/utils/use-constant.mjs");function useMotionValue(initial){const value=(0,_utils_use_constant_mjs__WEBPACK_IMPORTED_MODULE_1__.h)((()=>(0,_index_mjs__WEBPACK_IMPORTED_MODULE_2__.B)(initial))),{isStatic}=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_context_MotionConfigContext_mjs__WEBPACK_IMPORTED_MODULE_3__._);if(isStatic){const[,setLatest]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(initial);(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>value.on("change",setLatest)),[])}return value}}}]);