import { ArgsTable, Canvas, Meta, Source, Story } from '@storybook/addon-docs'
import { Chart, Axis } from '@chsk/core'
import { Bar, Bars, BandSurface } from '../../src'
import { commonBarProps } from '../bars/decorators'
import { ChartSurfaceDecorator, ChartSurfaceNoPointerEventsDecorator } from './decorators'

# BandSurface

<Meta title="Addons/Band/Bands/BandSurface" />
export const Template = args => <BandSurface {...args} />

`BandSurface` creates rectangles that highlight bands.

<ArgsTable of={BandSurface} />

## Variant

Prop `variant` clarifies the definition of a band surface.
Variant 'step' creates a surface that includes the content of a band and also covers padding our the content.
Variant 'band' omits the padding.

<Canvas>
    <Story
        name="step"
        args={{
            variant: 'step',
            style: { fill: '#eeeeee', strokeWidth: 1, stroke: '#222222' },
        }}
        component={BandSurface}
        decorators={[ChartSurfaceDecorator]}
    >
        {Template.bind({})}
    </Story>
    <Story
        name="band"
        args={{
            variant: 'band',
            style: { fill: '#eeeeee', strokeWidth: 1, stroke: '#222222' },
        }}
        component={BandSurface}
        decorators={[ChartSurfaceDecorator]}
    >
        {Template.bind({})}
    </Story>
</Canvas>

## Data subsets

Use prop `ids` to specify the bands to highlight.

<Canvas>
    <Story
        name="subset"
        args={{
            ids: ['beta'],
            style: { fill: '#eeeeee' },
        }}
        component={BandSurface}
        decorators={[ChartSurfaceDecorator]}
    >
        {Template.bind({})}
    </Story>
</Canvas>

## Interactivity

Flag `interactive` activates interactivity.

<Canvas>
    <Story
        name="interactive"
        args={{
            interactive: true,
            style: { fill: '#eeeeee' },
        }}
        component={BandSurface}
        decorators={[ChartSurfaceDecorator]}
    >
        {Template.bind({})}
    </Story>
</Canvas>

Above, hovering on the band makes the band surface appear, but moving the mouse onto the bars
within a band makes the interactive band surface disappear.
One way to maintain the surface while hovering on the bars is to include a style `pointer-events: 'none'`.
This style can be set inline or via themes.

<Canvas>
    <Story
        name="pointer events"
        args={{
            interactive: true,
            style: { fill: '#eeeeee' },
        }}
        component={BandSurface}
        decorators={[ChartSurfaceNoPointerEventsDecorator]}
    >
        {Template.bind({})}
    </Story>
</Canvas>

## Tooltip

Another way to activate the surfaces is with prop `tooltip`.
Setting this flag indicates that a surface should become visible based on data from the tooltip context.

<Canvas>
    <Story
        name="tooltip"
        args={{
            interactive: false,
            tooltip: true,
            style: { fill: '#eeeeee' },
        }}
        component={BandSurface}
        decorators={[ChartSurfaceDecorator]}
    >
        {Template.bind({})}
    </Story>
</Canvas>

Note that setting `tooltip` makes the surface appear when the mouse hovers on the bars, and not
on the empty space. To activate both behaviors, set both `tooltip` and `interactive`.
