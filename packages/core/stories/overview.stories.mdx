import { Canvas, Meta, Story } from '@storybook/addon-docs'
import {
    Chart,
    Surface,
    Axis,
    AxisLabel,
    AxisLine,
    AxisTicks,
    GridLines,
    Typography,
    View,
} from '../src'
import { CharWithAxisGridProps as commonProps } from './decorators'
import { CharWithAxisGridViewProps as commonViewProps } from './decorators'

<Meta title="Core/Overview" />

# Core

Package `@chsk/core` provides infrastructure for building dynamic highly-customizable charts.

## Documentation

**Components.** Components are the building blocks for charts.
Most components, for example `<Axis>`, create lines, shapes, or text that appear within a chart. A few components, for example `<View>`, do not create visual elements, but organize information for other components.

**Hooks.** Hooks are functions that provide access to chart state. For many use-cases, complete charts can be created with core components and add-on packages, without the need to use hooks directly. However, the functions can be useful for creating advanced bespoke components.

**Props.** Many components share common sets of props. Such props are treated by topic in separate pages.

## Skeletons

Core components can be combined to produce chart skeletons with distinctive visual features.

<Canvas>
    <Story name="default">
        <Chart {...commonProps}>
            <View {...commonViewProps}>
                <Axis variant={'bottom'} label={'x-axis (a.u.)'} />
                <Axis variant={'left'} label={'y-axis (a.u.)'} />
                <Typography position={[0, -20]} variant="title">
                    Default style
                </Typography>
            </View>
        </Chart>
    </Story>
    <Story name="grid">
        <Chart {...commonProps}>
            <View {...commonViewProps}>
                <Axis variant={'bottom'} label={'x-axis (a.u.)'} />
                <Axis variant={'left'} label={'y-axis (a.u.)'} />
                <GridLines variant={'x'} />
                <GridLines variant={'y'} />
                <Typography position={[0, -20]} variant="title">
                    With grid
                </Typography>
            </View>
        </Chart>
    </Story>
    <Story name="inverse grid">
        <Chart {...commonProps}>
            <View {...commonViewProps}>
                <Surface variant={'inner'} style={{ fill: '#f0f0f0' }} />
                <Axis variant={'bottom'} label={'x-axis (a.u.)'} />
                <Axis variant={'left'} label={'y-axis (a.u.)'} />
                <GridLines variant={'x'} style={{ stroke: '#ffffff', strokeWidth: '2px' }} />
                <GridLines variant={'y'} style={{ stroke: '#ffffff', strokeWidth: '2px' }} />
                <Typography position={[0, -20]} variant="title">
                    Inverse grid
                </Typography>
            </View>
        </Chart>
    </Story>
    <Story name="boxed">
        <Chart {...commonProps}>
            <View {...commonViewProps}>
                <Surface
                    variant={'inner'}
                    style={{ fill: '#ffffff', stroke: '#222222', strokeWidth: '1px' }}
                    expansion={[10, 10, 10, 10]}
                />
                <Axis variant={'bottom'} distance={10}>
                    <AxisTicks
                        variant={'bottom'}
                        tickSize={5}
                        labelDistance={8}
                        style={{ strokeWidth: '1px' }}
                    />
                    <AxisLabel variant={'bottom'} distance={36} children={'x-axis (a.u.)'} />
                </Axis>
                <Axis variant={'left'} distance={10}>
                    <AxisTicks
                        variant={'left'}
                        tickSize={5}
                        labelDistance={8}
                        style={{ strokeWidth: '1px' }}
                    />
                    <AxisLabel variant={'left'} distance={44} children={'y-axis (a.u.)'} />
                </Axis>
                <Typography position={[140, -22]} variant="title" style={{ textAnchor: 'middle' }}>
                    Boxed
                </Typography>
            </View>
        </Chart>
    </Story>
    <Story name="boxed with grid">
        <Chart {...commonProps}>
            <View {...commonViewProps}>
                <Surface
                    variant={'inner'}
                    style={{ fill: '#ffffff', stroke: '#222222', strokeWidth: '1px' }}
                    expansion={[12, 12, 12, 12]}
                />
                <GridLines
                    variant={'x'}
                    expansion={[12, 12]}
                    style={{ stroke: '#aaaaaa', strokeDasharray: '5 5' }}
                />
                <GridLines
                    variant={'y'}
                    expansion={[12, 12]}
                    style={{ stroke: '#aaaaaa', strokeDasharray: '5 5' }}
                />
                <Axis variant={'bottom'} ticks={null} distance={12}>
                    <AxisTicks variant={'bottom'} ticks={5} tickSize={-5} labelDistance={6} />
                    <AxisLabel variant={'bottom'} distance={36} children={'x-axis (a.u.)'} />
                </Axis>
                <Axis variant={'left'} ticks={null} distance={12}>
                    <AxisTicks variant={'left'} ticks={5} tickSize={-5} labelDistance={6} />
                    <AxisLabel variant={'left'} distance={44} children={'y-axis (a.u.)'} />
                </Axis>
                <Axis variant={'right'} ticks={null} distance={12}>
                    <AxisTicks variant={'right'} ticks={5} tickSize={-5} labelFormat={() => ''} />
                </Axis>
                <Axis variant={'top'} ticks={null} distance={12}>
                    <AxisTicks variant={'top'} ticks={5} tickSize={-5} labelFormat={() => ''} />
                </Axis>
                <Typography position={[140, -26]} variant="title" style={{ textAnchor: 'middle' }}>
                    Boxed with grid
                </Typography>
            </View>
        </Chart>
    </Story>
    <Story name="small labels">
        <Chart
            id="small-labels"
            {...commonProps}
            padding={[50, 50, 55, 60]}
            theme={{
                text: {
                    title: { textAnchor: 'middle' },
                    tickLabel: { fontSize: '11px', fill: '#777777' },
                    axisLabel: { fontSize: '13px', fill: '#555555' },
                },
            }}
        >
            <View {...commonViewProps}>
                <Surface variant={'outer'} style={{ fill: '#f4f4f4' }} />
                <GridLines variant={'y'} style={{ stroke: '#aaaaaa', strokeWidth: '1px' }} />
                <Axis variant={'bottom'}>
                    <AxisTicks variant={'bottom'} ticks={5} tickSize={5} labelDistance={10} />
                    <AxisLine
                        variant={'bottom'}
                        style={{ visibility: 'visible', stroke: '#222222', strokeWidth: '2px' }}
                    />
                    <AxisLabel
                        variant={'bottom'}
                        anchor={'end'}
                        distance={32}
                        children={'x-axis (a.u.)'}
                    />
                </Axis>
                <Axis variant={'left'}>
                    <AxisTicks variant={'left'} ticks={5} tickSize={0} labelDistance={6} />
                </Axis>
                <Typography position={[-6, -28]} variant={'axisLabel'} children={'y-axis (a.u.)'} />
                <Typography position={[140, -28]} variant={'title'}>
                    Small labels
                </Typography>
            </View>
        </Chart>
    </Story>
</Canvas>
